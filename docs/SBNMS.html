<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Stellwagen Bank</title>

<meta property="og:title" content="Stellwagen Bank" />

<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />

<link rel="icon" href="data:image/x-icon;" type="image/x-icon">


<script type="text/javascript">
window.FlexDashboardComponents = [];
</script>

<script src="libs/header-attrs-2.23/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/stickytableheaders-0.1.19/jquery.stickytableheaders.min.js"></script>
<link href="libs/value-box-accent-static-0.6.1/theme-cosmo-value-box.css" rel="stylesheet" />
<link href="libs/flexdashboard-css-0.6.1/flexdashboard.min.css" rel="stylesheet" />
<link href="libs/flexdashboard-css-0.6.1/theme-cosmo.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.2.9000/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.2.9000/leaflet-providers-plugin.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<script id="flexdashboard-navbar" type="application/json">
[
{"title":"Sanctuaries","items":[{"title":"American Samoa","href":"./NMSAS.html"},{"title":"Channel Islands","href":"./CINMS.html"},{"title":"Chumash Proposed Action","href":"./CPNMS.html"},{"title":"Cordell Bank","href":"./CBNMS.html"},{"title":"Florida Keys","href":"./FKNMS.html"},{"title":"Flower Garden Banks","href":"./FGBNMS.html"},{"title":"Gray's Reef","href":"./GRNMS.html"},{"title":"Greater Farallones","href":"./GFNMS.html"},{"title":"Hawaiian Islands Humpback Whale","href":"./HIHWNMS.html"},{"title":"Monitor","href":"./MNMS.html"},{"title":"Monterey Bay","href":"./MBNMS.html"},{"title":"Monterey Bay - Davidson Seamount","href":"./MBNMS-david.html"},{"title":"Monterey Bay - Mainland","href":"./MBNMS-main.html"},{"title":"Olympic Coast","href":"./OCNMS.html"},{"title":"Stellwagen Bank","href":"./SBNMS.html"},{"title":"Thunder Bay","href":"./TBNMS.html"}]}
]
</script>
<style type="text/css">
/*
  CSS for flexdashboard.js' use of Sly(). The sizing/position of this CSS needs to be
  applied _before_ flexdashboard.js initializes, which is why this CSS has been pulled
  out from flexdashboard.scss and inlined in the document's head.
*/

.storyboard-nav button {
  background: transparent;
  border: 0;
  opacity: .3;
  outline: none;
  padding: 0;
}

.storyboard-nav button:hover,
.storyboard-nav button:hover {
  opacity: .5;
}

.storyboard-nav button:disabled,
.storyboard-nav button:disabled {
  opacity: .1;
}

.storyboard-nav .sbnext,
.storyboard-nav .sbprev {
  float: left;
  width: 2%;
  height: 120px;
}

.storyboard-nav .sbprev {
  text-align: left;
  width: 2%;
}

.storyboard-nav .sbnext {
  float: right;
  text-align: right;
  margin-right: 8px;
}

.storyboard-nav .sbframelist {
  margin: 0 auto;
  width: 94%;
  height: 120px;
  overflow: hidden;
  text-shadow: none;
  margin-bottom: 8px;
}

.storyboard-nav .sbframelist ul {
  list-style: none;
  margin: 0;
  padding: 0;
  height: 100%;
}

.storyboard-nav .sbframelist ul li {
  float: left;
  width: 270px;
  height: 100%;
  padding: 10px 10px 10px 10px;
  margin-right: 8px;
  text-align: left;
  cursor: pointer;
}

.storyboard-nav .sbframelist ul li:last-child {
  margin-right: 0px;
}

.sbframe-commentary {
  width: 300px;
}

.sbframe-commentary ul {
  padding-left: 22px;
}

.sbframe.active {
  display: flex;
}

.sbframe:not(.active) {
  display: none;
}
</style>


<link rel="stylesheet" href="_style.css" type="text/css" />

</head>

<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container-fluid">
<div class="navbar-header">

<span class="navbar-logo pull-left">
  
</span>
<span class="navbar-brand">
  Stellwagen Bank
  <span class="navbar-author">
        </span>
</span>

<button id="navbar-button" type="button" class="navbar-toggle collapsed pull-right" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>

</div>
<div id="navbar" class="navbar-collapse collapse">
<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right">
</ul>
</div><!--/.nav-collapse-->
</div><!--/.container-->
</div><!--/.navbar-->

<script type="text/javascript">


var FlexDashboard = (function () {

  // initialize options
  var _options = {};

  var FlexDashboard = function() {

    // default options
    _options = $.extend(_options, {
      theme: "cosmo",
      fillPage: false,
      orientation: 'columns',
      storyboard: false,
      defaultFigWidth: 576,
      defaultFigHeight: 461,
      defaultFigWidthMobile: 360,
      defaultFigHeightMobile: 461,
      isMobile: false,
      isPortrait: false,
      resize_reload: true
    });
  };

  function init(options) {

    // extend default options
    $.extend(true, _options, options);

    // add ids to sections that don't have them (pandoc won't assign ids
    // to e.g. sections with titles consisting of only chinese characters)
    var nextId = 1;
    $('.level1:not([id]),.level2:not([id]),.level3:not([id])').each(function() {
      $(this).attr('id', 'dashboard-' + nextId++);
    });

    // find navbar items
    var navbarItems = $('#flexdashboard-navbar');
    if (navbarItems.length)
      navbarItems = JSON.parse(navbarItems.html());
    addNavbarItems(navbarItems);

    // find the main dashboard container
    var dashboardContainer = $('#dashboard-container');

    // resolve mobile classes
    resolveMobileClasses(dashboardContainer);

    // one time global initialization for components
    componentsInit(dashboardContainer);

    // look for a global sidebar
    var globalSidebar = dashboardContainer.find(".section.level1.sidebar");
    if (globalSidebar.length > 0) {

      // global layout for fullscreen displays
      if (!isMobilePhone()) {

         // hoist it up to the top level
         globalSidebar.insertBefore(dashboardContainer);

         // lay it out (set width/positions)
         layoutSidebar(globalSidebar, dashboardContainer);

      // tuck sidebar into first page for mobile phones
      } else {

        // convert it into a level3 section
        globalSidebar.removeClass('sidebar');
        globalSidebar.removeClass('level1');
        globalSidebar.addClass('level3');
        var h1 = globalSidebar.children('h1');
        var h3 = $('<h3></h3>');
        h3.append(h1.contents());
        h3.insertBefore(h1);
        h1.detach();

        // move it into the first page
        var page = dashboardContainer.find('.section.level1').first();
        if (page.length > 0)
          page.prepend(globalSidebar);
      }
    }

    // look for pages to layout
    var pages = $('div.section.level1');
    if (pages.length > 0) {

        // find the navbar and collapse on clicked
        var navbar = $('#navbar');
        navbar.on("click", "a[data-toggle!=dropdown]", null, function () {
           navbar.collapse('hide');
        });

        // envelop the dashboard container in a tab content div
        dashboardContainer.wrapInner('<div class="tab-content"></div>');

        pages.each(function(index) {

          // lay it out
          layoutDashboardPage($(this));

          // add it to the navbar
          addToNavbar($(this), index === 0);

        });

    } else {

      // remove the navbar and navbar button if we don't
      // have any navbuttons
      if (navbarItems.length === 0) {
        $('#navbar').remove();
        $('#navbar-button').remove();
      }

      // add the storyboard class if requested
      if (_options.storyboard)
        dashboardContainer.addClass('storyboard');

      // layout the entire page
      layoutDashboardPage(dashboardContainer);
    }

    // if we are in shiny we need to trigger a window resize event to
    // force correct layout of shiny-bound-output elements
    if (isShinyDoc())
      $(window).trigger('resize');

    // make main components visible
    $('.section.sidebar').css('visibility', 'visible');
    dashboardContainer.css('visibility', 'visible');

    // handle location hash
    handleLocationHash();

    // intialize prism highlighting
    initPrismHighlighting();

    // record mobile and orientation state then register a handler
    // to refresh if resize_reload is set to true and it changes
    _options.isMobile = isMobilePhone();
    _options.isPortrait = isPortrait();
    if (_options.resize_reload) {
      $(window).on('resize', function() {
        if (_options.isMobile !== isMobilePhone() ||
            _options.isPortrait !== isPortrait()) {
          window.location.reload();
        }
      });
    } else {
      // if in desktop mode and resizing to mobile, make sure the heights are 100%
      // This enforces what `fillpage.css` does for "wider" pages.
      // Since we are not reloading once the page becomes small, we need to force the height to 100%
      // This is a new situation introduced when `_options.resize_reload` is `false`
      if (! _options.isMobile) {
        // only add if `fillpage.css` was added in the first place
        if (_options.fillPage) {
          // fillpage.css
          $("html,body,#dashboard").css("height", "100%");
        }
      }
    }
    // trigger layoutcomplete event
    dashboardContainer.trigger('flexdashboard:layoutcomplete');
  }

  function resolveMobileClasses(dashboardContainer) {
     // add top level layout class
    dashboardContainer.addClass(isMobilePhone() ? 'mobile-layout' :
                                                  'desktop-layout');

    // look for .mobile sections and add .no-mobile to their peers
    var mobileSections = $('.section.mobile');
    mobileSections.each(function() {
       var id = $(this).attr('id');
       var nomobileId = id.replace(/-\d+$/, '');
       $('#' + nomobileId).addClass('no-mobile');
    });
  }

  function addNavbarItems(navbarItems) {

    var navbarLeft = $('ul.navbar-left');
    var navbarRight = $('ul.navbar-right');

    for (var i = 0; i<navbarItems.length; i++) {

      // get the item
      var item = navbarItems[i];

      // determine the container
      var container = null;
      if (item.align === "left")
        container = navbarLeft;
      else
        container = navbarRight;

      // navbar menu if we have multiple items
      if (item.items) {
        var menu = navbarMenu(null, item.icon, item.title, container);
        for (var j = 0; j<item.items.length; j++) {
          var subItem = item.items[j];
          var li = $('<li></li>');
          var a = navbarLink(subItem.icon, subItem.title, subItem.href, subItem.target);
          a.removeClass("nav-link").addClass("dropdown-item");
          li.append(a);
          menu.append(li);
        }
      } else {
        var li = $('<li class="nav-item"></li>');
        li.append(navbarLink(item.icon, item.title, item.href, item.target));
        container.append(li);
      }
    }
  }

  // create or get a reference to an existing dropdown menu
  function navbarMenu(id, icon, title, container) {
    var existingMenu = [];
    if (id)
      existingMenu = container.children('#' + id);
    if (existingMenu.length > 0) {
      return existingMenu.children('ul');
    } else {
      var li = $('<li class="nav-item"></li>');
      if (id)
        li.attr('id', id);
      li.addClass('dropdown');
      // auto add "Share" title on mobile if necessary
      if (!title && icon && (icon === "fa-share-alt") && isMobilePhone())
        title = "Share";
      if (title) {
        title = title + ' <span class="caret"></span>';
      }
      var a = navbarLink(icon, title, "#");
      a.addClass('dropdown-toggle');
      a.attr('data-toggle', 'dropdown');
      a.attr('data-bs-toggle', 'dropdown');
      a.attr('role', 'button');
      a.attr('aria-expanded', 'false');
      li.append(a);
      var ul = $('<ul class="dropdown-menu"></ul>');
      ul.attr('role', 'menu');
      li.append(ul);
      container.append(li);
      return ul;
    }
  }

  function addToNavbar(page, active) {

    // capture the id and data-icon attribute (if any)
    var id = page.attr('id');
    var icon = page.attr('data-icon');
    var navmenu = page.attr('data-navmenu');

    // get hidden state (transfer this to navbar)
    var hidden = page.hasClass('hidden');
    page.removeClass('hidden');

    // sanitize the id for use with bootstrap tabs
    id = id.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_');
    page.attr('id', id);

    // get the wrapper
    var wrapper = page.closest('.dashboard-page-wrapper');

    // move the id to the wrapper
    page.removeAttr('id');
    wrapper.attr('id', id);

    // add the tab-pane class to the wrapper
    wrapper.addClass('tab-pane');
    if (active)
      wrapper.addClass('active');

    // get a reference to the h1, discover its inner contens, then detach it
    var h1 = wrapper.find('h1').first();
    var title = h1.contents();
    h1.detach();

    // create a navbar item
    var li = $('<li></li>');
    var a = navbarLink(icon, title, '#' + id);
    a.attr('data-toggle', 'tab');
    li.append(a);

    // add it to the navbar (or navbar menu if specified)
    var container = $('ul.navbar-left');
    if (navmenu) {
      var menuId = navmenu.replace(/\s+/g, '');
      var menu = navbarMenu(menuId, null, navmenu, container);
      li.find("> a").removeClass("nav-link").addClass("dropdown-item");
      menu.append(li);
    } else {
      li.addClass("nav-item")
      container.append(li);
    }

    // hide it if requested
    if (hidden)
      li.addClass('hidden');
  }

  function navbarLink(icon, title, href, target) {

    var a = $('<a class="nav-link"></a>');
    if (icon) {

      // get the name of the icon set and icon
      var dashPos = icon.indexOf("-");
      var iconSet = null;
      var iconSplit = icon.split(" ");
      if (iconSplit.length > 1) {
        iconSet = iconSplit[0];
        icon = iconSplit.slice(1).join(" ");
      } else {
        iconSet = icon.substring(0, dashPos);
      }
      var iconName = icon.substring(dashPos + 1);

      // create the icon
      var iconElement = $('<span class="' + iconSet + ' ' + icon + '"></span>');
      if (title)
        iconElement.css('margin-right', '7px');
      a.append(iconElement);
      // if href is null see if we can auto-generate based on icon (e.g. social)
      if (!href)
        maybeGenerateLinkFromIcon(iconName, a);
    }
    if (title)
      a.append(title);

    // add the href.
    if (href) {
      if (href === "source_embed") {
        a.attr('href', '#');
        a.attr('data-featherlight', "#flexdashboard-source-code");
        a.featherlight({
            beforeOpen: function(event){
              $('body').addClass('unselectable');
            },
            afterClose: function(event){
              $('body').removeClass('unselectable');
            }
        });
      } else {
        a.attr('href', href);
      }
    }

    // add the arget
    if (target)
      a.attr('target', target);

    return a;
  }

  // auto generate a link from an icon name (e.g. twitter) when possible
  function maybeGenerateLinkFromIcon(iconName, a) {

     var serviceLinks = {
      "twitter": "https://twitter.com/share?text=" + encodeURIComponent(document.title) + "&url="+encodeURIComponent(location.href),
      "facebook": "https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+encodeURIComponent(location.href),
      "linkedin": "https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(location.href) + "&title=" + encodeURIComponent(document.title),
      "pinterest": "https://pinterest.com/pin/create/link/?url="+encodeURIComponent(location.href) + "&description=" + encodeURIComponent(document.title)
    };

    var makeSocialLink = function(a, href) {
      a.attr('href', '#');
      a.on('click', function(e) {
        e.preventDefault();
        window.open(href);
      });
    };

    $.each(serviceLinks, function(key, value) {
      if (iconName.indexOf(key) !== -1)
        makeSocialLink(a, value);
    });
  }

  // layout a dashboard page
  function layoutDashboardPage(page) {

    // use a page wrapper so that free form content above the
    // dashboard appears at the top rather than the side (as it
    // would without the wrapper in a column orientation)
    var wrapper = $('<div class="dashboard-page-wrapper"></div>');
    page.wrap(wrapper);

    // if there are no level2 or level3 headers synthesize a level3
    // header to contain the (e.g. frame it, scroll container, etc.)
    var headers = page.find('h2,h3');
    if (headers.length === 0)
      page.wrapInner('<div class="section level3"></div>');

    // hoist up any content before level 2 or level 3 headers
    var children = page.children();
    children.each(function(index) {
      if ($(this).hasClass('level2') || $(this).hasClass('level3'))
        return false;
      $(this).insertBefore(page);
    });

    // determine orientation and fillPage behavior for distinct media
    var orientation, fillPage, storyboard;

    // media: mobile phone
    if (isMobilePhone()) {

      // if there is a sidebar we need to ensure it's content
      // is properly framed as an h3
      var sidebar = page.find('.section.sidebar');
      sidebar.removeClass('sidebar');
      sidebar.wrapInner('<div class="section level3"></div>');
      var h2 = sidebar.find('h2');
      var h3 = $('<h3></h3>');
      h3.append(h2.contents());
      h3.insertBefore(h2);
      h2.detach();

      // wipeout h2 elements then enclose them in a single h2
      var level2 = page.find('div.section.level2');
      level2.each(function() {
        level2.children('h2').remove();
        level2.children().unwrap();
      });
      page.wrapInner('<div class="section level2"></div>');

      // substitute mobile images
      if (isPortrait()) {
        var mobileFigures = $('img.mobile-figure');
        mobileFigures.each(function() {
          // get the src (might be base64 encoded)
          var src = $(this).attr('src');

          // find it's peer
          var id = $(this).attr('data-mobile-figure-id');
          var img = $('img[data-figure-id=' + id + "]");
          img.attr('src', src)
             .attr('width', _options.defaultFigWidthMobile)
             .attr('height', _options.defaultFigHeightMobile);
        });
      }

      // hoist storyboard commentary into it's own section
      if (page.hasClass('storyboard')) {
        var commentaryHR = page.find('div.section.level3 hr');
        commentaryHR.each(function() {
          var commentary = $(this).nextAll().detach();
          var commentarySection = $('<div class="section level3"></div>');
          commentarySection.append(commentary);
          commentarySection.insertAfter($(this).closest('div.section.level3'));
          $(this).remove();
        });
      }

      // force a non full screen layout by columns
      orientation = _options.orientation = 'columns';
      fillPage = _options.fillPage = false;
      storyboard = _options.storyboard = false;

    // media: desktop
    } else {

      // determine orientation
      orientation = page.attr('data-orientation');
      if (orientation !== 'rows' && orientation != 'columns')
        orientation = _options.orientation;

      // determine storyboard mode
      storyboard = page.hasClass('storyboard');

      // fillPage based on options (force for storyboard)
      fillPage = _options.fillPage || storyboard;

      // handle sidebar
      var sidebar = page.find('.section.level2.sidebar');
      if (sidebar.length > 0)
        layoutSidebar(sidebar, page);
    }

    // give it and it's parent divs height: 100% if we are in fillPage mode
    if (fillPage) {
      page.addClass('vertical-layout-fill');
      page.css('height', '100%');
      page.parents('div').css('height', '100%');
    } else {
      page.addClass('vertical-layout-scroll');
    }

    // perform the layout
    if (storyboard)
      layoutPageAsStoryboard(page);
    else if (orientation === 'rows')
      layoutPageByRows(page, fillPage);
    else if (orientation === 'columns')
      layoutPageByColumns(page, fillPage);
  }

  function layoutSidebar(sidebar, content) {

    // get it out of the header hierarchy
    sidebar = sidebar.first();
    if (sidebar.hasClass('level1')) {
      sidebar.removeClass('level1');
      sidebar.children('h1').remove();
    } else if (sidebar.hasClass('level2')) {
      sidebar.removeClass('level2');
      sidebar.children('h2').remove();
    }

    // determine width
    var sidebarWidth = isTablet() ? 220 : 250;
    var dataWidth = parseInt(sidebar.attr('data-width'));
    if (dataWidth)
      sidebarWidth = dataWidth;

    // set the width and shift the page right to accomodate the sidebar
    sidebar.css('width', sidebarWidth + 'px');
    content.css('padding-left', sidebarWidth + 'px');

    // wrap it's contents in a form
    sidebar.wrapInner($('<form></form>'));
  }

  function layoutPageAsStoryboard(page) {

    // create storyboard navigation
    var nav = $('<div class="storyboard-nav"></div>');

    // add navigation buttons
    var prev = $('<button class="sbprev"><i class="fa fa-angle-left"></i></button>');
    nav.append(prev);
    var next= $('<button class="sbnext"><i class="fa fa-angle-right"></i></button>');
    nav.append(next);

    // add navigation frame
    var frameList = $('<div class="sbframelist"></div>');
    nav.append(frameList);
    var ul = $('<ul></ul>');
    frameList.append(ul);

     // find all the level3 sections (those are the storyboard frames)
    var frames = page.find('div.section.level3');
    frames.each(function() {

      // mark it
      $(this).addClass('sbframe');

      // divide it into chart content and (optional) commentary
      $(this).addClass('dashboard-column-orientation');

      // stuff the chart into it's own div w/ flex
      $(this).wrapInner('<div class="sbframe-component"></div>');
      setFlex($(this), 1);
      var frame = $(this).children('.sbframe-component');

      // extract the title from the h3
      var li = $('<li></li>');
      var h3 = frame.children('h3');
      li.append(h3.contents());
      h3.detach();
      ul.append(li);

      // extract commentary
      var hr = frame.children('hr');
      if (hr.length) {
        var commentary = hr.nextAll().detach();
        hr.remove();
        var commentaryFrame = $('<div class="sbframe-commentary"></div>');
        commentaryFrame.addClass('flowing-content-shim');
        commentaryFrame.addClass('flowing-content-container');
        commentaryFrame.append(commentary);
        $(this).append(commentaryFrame);

        // look for a data-commentary-width attribute
        var commentaryWidth = $(this).attr('data-commentary-width');
        if (commentaryWidth)
          commentaryFrame.css('width', commentaryWidth + 'px');
      }

      // layout the chart (force flex)
      var result = layoutChart(frame, true);

      // ice the notes if there are none
      if (!result.notes)
        frame.find('.chart-notes').remove();

      // set flex on chart
      setFlex(frame, 1);
    });

    // create a div to hold all the frames
    var frameContent = $('<div class="sbframe-content"></div>');
    frameContent.addClass('dashboard-row-orientation');
    frameContent.append(frames.detach());

    // row orientation to stack nav and frame content
    page.addClass('dashboard-row-orientation');
    page.append(nav);
    page.append(frameContent);
    setFlex(frameContent, 1);

    // initialize sly
    var sly = new Sly(frameList, {
    		horizontal: true,
    		itemNav: 'basic',
    		smart: true,
    		activateOn: 'click',
    		startAt: 0,
    		scrollBy: 1,
    		activatePageOn: 'click',
    		speed: 200,
    		moveBy: 600,
    		dragHandle: true,
    		dynamicHandle: true,
    		clickBar: true,
    		keyboardNavBy: 'items',
    		next: next,
    		prev: prev
    	}).init();

    // make first frame active
    frames.removeClass('active');
    frames.first().addClass('active');

    // subscribe to frame changed events
    sly.on('active', function (eventName, itemIndex) {
      frames.removeClass('active');
      frames.eq(itemIndex).addClass('active')
                          .trigger('shown');
    });
  }

  function layoutPageByRows(page, fillPage) {

    // row orientation
    page.addClass('dashboard-row-orientation');

    // find all the level2 sections (those are the rows)
    var rows = page.find('div.section.level2');

    // if there are no level2 sections then treat the
    // entire page as if it's a level 2 section
    if (rows.length === 0) {
      page.wrapInner('<div class="section level2"></div>');
      rows = page.find('div.section.level2');
    }

    rows.each(function () {

      // flags
      var haveNotes = false;
      var haveFlexHeight = true;

      // remove the h2
      $(this).children('h2').remove();

      // check for a tabset
      var isTabset = $(this).hasClass('tabset');
      if (isTabset)
        layoutTabset($(this));

      // give it row layout semantics if it's not a tabset
      if (!isTabset)
        $(this).addClass('dashboard-row');

      // find all of the level 3 subheads
      var columns = $(this).find('div.section.level3');

      // determine figureSizes sizes
      var figureSizes = chartFigureSizes(columns);

      // fixup the columns
      columns.each(function(index) {

        // layout the chart (force flex if we are in a tabset)
        var result = layoutChart($(this), isTabset);

        // update flexHeight state
        if (!result.flex)
          haveFlexHeight = false;

        // update state
        if (result.notes)
          haveNotes = true;

        // set the column flex based on the figure width
        // (value boxes will just get the default figure width)
        var chartWidth = figureSizes[index].width;
        setFlex($(this), chartWidth + ' ' + chartWidth + ' 0px');

      });

      // remove empty chart note divs
      if (isTabset)
        $(this).find('.chart-notes').filter(function() {
            return $(this).html() === "&nbsp;";
        }).remove();
      if (!haveNotes)
        $(this).find('.chart-notes').remove();

       // make it a flexbox row
      if (haveFlexHeight)
        $(this).addClass('dashboard-row-flex');

      // now we can set the height on all the wrappers (based on maximum
      // figure height + room for title and notes, or data-height on the
      // container if specified). However, don't do this if there is
      // no flex on any of the constituent columns
      var flexHeight = null;
      var dataHeight = parseInt($(this).attr('data-height'));
      if (dataHeight)
        flexHeight = adjustedHeight(dataHeight, columns.first());
      else if (haveFlexHeight)
        flexHeight = maxChartHeight(figureSizes, columns);
      if (flexHeight) {
        if (fillPage)
          setFlex($(this), flexHeight + ' ' + flexHeight + ' 0px');
        else {
          $(this).css('height', flexHeight + 'px');
          setFlex($(this), '0 0 ' + flexHeight + 'px');
        }
      }

    });
  }

  function layoutPageByColumns(page, fillPage) {

    // column orientation
    page.addClass('dashboard-column-orientation');

    // find all the level2 sections (those are the columns)
    var columns = page.find('div.section.level2');

    // if there are no level2 sections then treat the
    // entire page as if it's a level 2 section
    if (columns.length === 0) {
      page.wrapInner('<div class="section level2"></div>');
      columns = page.find('div.section.level2');
    }

    // layout each column
    columns.each(function (index) {

      // remove the h2
      $(this).children('h2').remove();

      // make it a flexbox column
      $(this).addClass('dashboard-column');

      // check for a tabset
      var isTabset = $(this).hasClass('tabset');
      if (isTabset)
        layoutTabset($(this));

      // find all the h3 elements
      var rows = $(this).find('div.section.level3');

      // get the figure sizes for the rows
      var figureSizes = chartFigureSizes(rows);

      // column flex is the max row width (or data-width if specified)
      var flexWidth;
      var dataWidth = parseInt($(this).attr('data-width'));
      if (dataWidth)
        flexWidth = dataWidth;
      else
        flexWidth = maxChartWidth(figureSizes);
      setFlex($(this), flexWidth + ' ' + flexWidth + ' 0px');

      // layout each chart
      rows.each(function(index) {

        // perform the layout
        var result = layoutChart($(this), false);

        // ice the notes if there are none
        if (!result.notes)
          $(this).find('.chart-notes').remove();

        // set flex height based on figHeight, then adjust
        if (result.flex) {
          var chartHeight = figureSizes[index].height;
          chartHeight = adjustedHeight(chartHeight, $(this));
          if (fillPage)
            setFlex($(this), chartHeight + ' ' + chartHeight + ' 0px');
          else {
            $(this).css('height', chartHeight + 'px');
            setFlex($(this), chartHeight + ' ' + chartHeight + ' ' + chartHeight + 'px');
          }
        }
      });
    });
  }

  function chartFigureSizes(charts) {

    // sizes
    var figureSizes = new Array(charts.length);

    // check each chart
    charts.each(function(index) {

      // start with default
      figureSizes[index] = {
        width: _options.defaultFigWidth,
        height: _options.defaultFigHeight
      };

      // look for data-height or data-width then knit options
      var dataWidth = parseInt($(this).attr('data-width'));
      var dataHeight = parseInt($(this).attr('data-height'));
      var knitrOptions = $(this).find('.knitr-options:first');
      var knitrWidth, knitrHeight;
      if (knitrOptions) {
        knitrWidth = parseInt(knitrOptions.attr('data-fig-width'));
        knitrHeight =  parseInt(knitrOptions.attr('data-fig-height'));
      }

      // width
      if (dataWidth)
        figureSizes[index].width = dataWidth;
      else if (knitrWidth)
        figureSizes[index].width = knitrWidth;

      // height
      if (dataHeight)
        figureSizes[index].height = dataHeight;
      else if (knitrHeight)
        figureSizes[index].height = knitrHeight;
    });

    // return sizes
    return figureSizes;
  }

  function maxChartHeight(figureSizes, charts) {

    // first compute the maximum height
    var maxHeight = _options.defaultFigHeight;
    for (var i = 0; i<figureSizes.length; i++)
      if (figureSizes[i].height > maxHeight)
        maxHeight = figureSizes[i].height;

    // now add offests for chart title and chart notes
    if (charts.length)
      maxHeight = adjustedHeight(maxHeight, charts.first());

    return maxHeight;
  }

  function adjustedHeight(height, chart) {
    if (chart.length > 0) {
      var chartTitle = chart.find('.chart-title');
      if (chartTitle.length)
        height += chartTitle.first().outerHeight();
      var chartNotes = chart.find('.chart-notes');
      if (chartNotes.length)
        height += chartNotes.first().outerHeight();
    }
    return height;
  }

  function maxChartWidth(figureSizes) {
    var maxWidth = _options.defaultFigWidth;
    for (var i = 0; i<figureSizes.length; i++)
      if (figureSizes[i].width > maxWidth)
        maxWidth = figureSizes[i].width;
    return maxWidth;
  }

  // layout a chart
  function layoutChart(chart, forceFlex) {

    // state to return
    var result = {
      notes: false,
      flex: false
    };

    // extract the title
    var title = extractTitle(chart);

    // find components that apply to this container
    var components = componentsFind(chart);

    // if it's a custom component then call it and return
    var customComponents = componentsCustom(components);
    if (customComponents.length) {
      componentsLayout(customComponents, title, chart);
      result.notes = false;
      result.flex = forceFlex || componentsFlex(customComponents);
      return result;
    }

    // put all the content in a chart wrapper div
    chart.addClass('chart-wrapper');
    chart.wrapInner('<div class="chart-stage"></div>');
    var chartContent = chart.children('.chart-stage');

    // flex the content if appropriate
    result.flex = forceFlex || componentsFlex(components);
    if (result.flex) {
      // add flex classes
      chart.addClass('chart-wrapper-flex');
      chartContent.addClass('chart-stage-flex');

      // additional shim to break out of flexbox sizing
      chartContent.wrapInner('<div class="chart-shim"></div>');
      chartContent = chartContent.children('.chart-shim');
    }

    // set custom data-padding attribute
    var pad = chart.attr('data-padding');
    if (pad) {
      if (pad === "0")
        chart.addClass('no-padding');
      else {
        pad = pad + 'px';
        chartContent.css('left', pad)
                    .css('top', pad)
                    .css('right', pad)
                    .css('bottom', pad)
      }
    }

    // call compoents
    componentsLayout(components, title, chartContent);

    // also activate components on shiny output
    findShinyOutput(chartContent).on('shiny:value',
      function(event) {
        var element = $(event.target);
        setTimeout(function() {

          // see if we opted out of flex based on our output (for shiny
          // we can't tell what type of output we have until after the
          // value is bound)
          var components = componentsFind(element);
          var flex = forceFlex || componentsFlex(components);
          if (!flex) {
            chart.css('height', "");
            setFlex(chart, "");
            chart.removeClass('chart-wrapper-flex');
            chartContent.removeClass('chart-stage-flex');
            chartContent.children().unwrap();
          }

          // perform layout
          componentsLayout(components, title, element.parent());
        }, 10);
      });

    // add the title
    var chartTitle = $('<div class="chart-title"></div>');
    chartTitle.append(title);
    chart.prepend(chartTitle);

    // add the notes section
    var chartNotes = $('<div class="chart-notes"></div>');
    chartNotes.html('&nbsp;');
    chart.append(chartNotes);

    // attempt to extract notes if we have a component
    if (components.length)
      result.notes = extractChartNotes(chartContent, chartNotes);

    // return result
    return result;
  }

  // build a tabset from a section div with the .tabset class
  function layoutTabset(tabset) {

    // check for fade option
    var fade = tabset.hasClass("tabset-fade");
    var pills = tabset.hasClass("tabset-pills");
    var navClass = pills ? "nav-pills" : "nav-tabs";

    // determine the heading level of the tabset and tabs
    var match = tabset.attr('class').match(/level(\d) /);
    if (match === null)
      return;
    var tabsetLevel = Number(match[1]);
    var tabLevel = tabsetLevel + 1;

    // find all subheadings immediately below
    var tabs = tabset.find("div.section.level" + tabLevel);
    if (!tabs.length)
      return;

    // create tablist and tab-content elements
    var tabList = $('<ul class="nav ' + navClass + '" role="tablist"></ul>');
    $(tabs[0]).before(tabList);
    var tabContent = $('<div class="tab-content"></div>');
    $(tabs[0]).before(tabContent);

    // build the tabset
    var activeTab = 0;
    tabs.each(function(i) {

      // get the tab div
      var tab = $(tabs[i]);

      // get the id then sanitize it for use with bootstrap tabs
      var id = tab.attr('id');

      // see if this is marked as the active tab
      if (tab.hasClass('active'))
        activeTab = i;

      // sanitize the id for use with bootstrap tabs
      id = id.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_');
      tab.attr('id', id);

      // get the heading element within it and grab it's text
      var heading = tab.find('h' + tabLevel + ':first');
      var headingDom = heading.contents();

      // build and append the tab list item
      var a = $('<a role="tab" data-toggle="tab" class="nav-link"></a>');
      a.append(headingDom);
      a.attr('href', '#' + id);
      a.attr('aria-controls', id);
      var li = $('<li role="presentation" class="nav-item"></li>');
      li.append(a);
      tabList.append(li);

      // set it's attributes
      tab.attr('role', 'tabpanel');
      tab.addClass('tab-pane');
      tab.addClass('tabbed-pane');
      tab.addClass('no-title');
      if (fade)
        tab.addClass('fade');

      // move it into the tab content div
      tab.detach().appendTo(tabContent);
    });

    // set active tab
    $(tabList.children()[activeTab]).tab("show");
    var active = $(tabContent.children('div.section')[activeTab]);
    active.addClass('active');
    if (fade)
      active.addClass('in');

    // add nav-tabs-custom
    tabset.addClass('nav-tabs-custom');

    // internal layout is dashboard-column with tab-content flexing
    tabset.addClass('dashboard-column');
    setFlex(tabContent, 1);
  }

  // one time global initialization for components
  function componentsInit(dashboardContainer) {
    for (var i=0; i<window.FlexDashboardComponents.length; i++) {
      var component = window.FlexDashboardComponents[i];
      if (component.init)
        component.init(dashboardContainer);
    }
  }

  // find components that apply within a container
  function componentsFind(container) {

    // look for components
    var components = [];
    for (var i=0; i<window.FlexDashboardComponents.length; i++) {
      var component = window.FlexDashboardComponents[i];
      if (component.find(container).length)
        components.push(component);
    }

    // if there were none then use a special flowing content component
    // that just adds a scrollbar in fillPage mode
    if (components.length == 0) {
      components.push({
        find: function(container) {
          return container;
        },

        flex: function(fillPage) {
          return fillPage;
        },

        layout: function(title, container, element, fillPage) {
          if (fillPage) {
            container.addClass('flowing-content-shim');
            container.addClass('flowing-content-container');
          }
        }
      });
    }

    return components;
  }

  // if there is a custom component then pick it out
  function componentsCustom(components) {
    var customComponent = [];
    for (var i=0; i<components.length; i++)
      if (components[i].type === "custom") {
        customComponent.push(components[i]);
        break;
      }
    return customComponent;
  }

  // query all components for flex
  function componentsFlex(components) {

    // no components at all means no flex
    if (components.length === 0)
      return false;

    // otherwise query components (assume true unless we see false)
    var isMobile = isMobilePhone();
    for (var i=0; i<components.length; i++)
      if (components[i].flex && !components[i].flex(_options.fillPage))
        return false;
    return true;
  }

  // layout all components
  function componentsLayout(components, title, container) {
    var isMobile = isMobilePhone();
    for (var i=0; i<components.length; i++) {
      var element = components[i].find(container);
      if (components[i].layout) {
        // call layout (don't call other components if it returns false)
        var result = components[i].layout(title, container, element, _options.fillPage);
        if (result === false)
          return;
      }
    }
  }

  // get a reference to the h3, discover it's inner html, and remove it
  function extractTitle(container) {
    var h3 = container.children('h3').first();
    var title = '';
    if (!container.hasClass('no-title'))
      title = h3.contents();
    h3.detach();
    return title;
  }

  // extract chart notes
  function extractChartNotes(chartContent, chartNotes) {
    // look for a terminating blockquote or image caption
    var blockquote = chartContent.children('blockquote:last-child');
    var caption = chartContent.children('div.image-container')
                              .children('p.caption');
    if (blockquote.length) {
      chartNotes.empty().append(blockquote.children('p:first-child').contents());
      blockquote.remove();
      return true;
    } else if (caption.length) {
      chartNotes.empty().append(caption.contents());
      caption.remove();
      return true;
    } else {
      return false;
    }
  }

  function findShinyOutput(chartContent) {
    return chartContent.find('.shiny-text-output, .shiny-html-output');
  }

  // safely detect rendering on a mobile phone
  function isMobilePhone() {
    try
    {
      return ! window.matchMedia("only screen and (min-width: 768px)").matches;
    }
    catch(e) {
      return false;
    }
  }

  function isFillPage() {
    return _options.fillPage;
  }

  // detect portrait mode
  function isPortrait() {
    return ($(window).width() < $(window).height());
  }

  // safely detect rendering on a tablet
  function isTablet() {
    try
    {
      return window.matchMedia("only screen and (min-width: 769px) and (max-width: 992px)").matches;
    }
    catch(e) {
      return false;
    }
  }

  // test whether this is a shiny doc
  function isShinyDoc() {
    return (typeof(window.Shiny) !== "undefined" && !!window.Shiny.outputBindings);
  }

  // set flex using vendor specific prefixes
  function setFlex(el, flex) {
    el.css('-webkit-box-flex', flex)
      .css('-webkit-flex', flex)
      .css('-ms-flex', flex)
      .css('flex', flex);
  }

  // support bookmarking of pages
  function handleLocationHash() {

    // restore tab/page from bookmark
    var hash = window.decodeURIComponent(window.location.hash);
    if (hash.length > 0)
      $('ul.nav a[href="' + hash + '"]').tab('show');
    FlexDashboardUtils.manageActiveNavbarMenu();

    // navigate to a tab when the history changes
    window.addEventListener("popstate", function(e) {
      var hash = window.decodeURIComponent(window.location.hash);
      var activeTab = $('ul.nav a[href="' + hash + '"]');
      if (activeTab.length) {
        activeTab.tab('show');
      } else {
        $('ul.nav a:first').tab('show');
      }
      FlexDashboardUtils.manageActiveNavbarMenu();
    });

    // add a hash to the URL when the user clicks on a tab/page
    $('.navbar-nav a[data-toggle="tab"]').on('click', function(e) {
      var baseUrl = FlexDashboardUtils.urlWithoutHash(window.location.href);
      var hash = FlexDashboardUtils.urlHash($(this).attr('href'));
      var href = baseUrl + hash;
      FlexDashboardUtils.setLocation(href);
    });

    // handle clicks of other links that should activate pages
    var navPages = $('ul.navbar-nav li a[data-toggle=tab]');
    navPages.each(function() {
      var href =  $(this).attr('href');
      var links = $('a[href="' + href + '"][data-toggle!=tab]');
      links.each(function() {
        $(this).on('click', function(e) {
          window.FlexDashboardUtils.showPage(href);
        });
      });
    });
  }

  // tweak Prism highlighting
  function initPrismHighlighting() {

    if (window.Prism) {
      Prism.languages.insertBefore('r', 'comment', {
        'heading': [
          {
            // title 1
        	  // =======

        	  // title 2
        	  // -------
        	  pattern: /\w+.*(?:\r?\n|\r)(?:====+|----+)/,
            alias: 'operator'
          },
          {
            // ### title 3
            pattern: /(^\s*)###[^#].+/m,
            lookbehind: true,
            alias: 'operator'
          }
        ]
      });

      // prism highlight
      Prism.highlightAll();
    }
  }

  FlexDashboard.prototype = {
    constructor: FlexDashboard,
    init: init,
    isMobilePhone: isMobilePhone,
    isFillPage: isFillPage
  };

  return FlexDashboard;

})();

// utils
window.FlexDashboardUtils = {
  resizableImage: function(img) {
    var src = img.attr('src');
    var url = 'url("' + src + '")';
    img.parent().css('background', url)
                .css('background-size', 'contain')
                .css('background-repeat', 'no-repeat')
                .css('background-position', 'center')
                .addClass('image-container');
  },
  setLocation: function(href) {
    if (history && history.pushState) {
      history.pushState(null, null, href);
    } else {
      window.location.replace(href);
    }
    setTimeout(function() {
        window.scrollTo(0, 0);
    }, 10);
    this.manageActiveNavbarMenu();
  },
  showPage: function(href) {
    $('ul.navbar-nav li a[href="' + href + '"]').tab('show');
    var baseUrl = this.urlWithoutHash(window.location.href);
    var loc = baseUrl + href;
    this.setLocation(loc);
  },
  showLinkedValue: function(href) {
    // check for a page link
    if ($('ul.navbar-nav li a[data-toggle=tab][href="' + href + '"]').length > 0)
      this.showPage(href);
    else
      window.open(href);
  },
  urlWithoutHash: function(url) {
    var hashLoc = url.indexOf('#');
    if (hashLoc != -1)
      return url.substring(0, hashLoc);
    else
      return url;
  },
  urlHash: function(url) {
    var hashLoc = url.indexOf('#');
    if (hashLoc != -1)
      return url.substring(hashLoc);
    else
      return "";
  },
  manageActiveNavbarMenu: function () {
    // remove active from currently active tabs
    $('.navbar ul.nav .active').removeClass('active');
    // find the active tab
    var activeTab = $('.dashboard-page-wrapper.tab-pane.active');
    if (activeTab.length > 0) {
      var tabId = activeTab.attr('id');
      if (tabId)
        $(".navbar ul.nav a[href='#" + tabId + "']").tab("show");
    }
  }
};

window.FlexDashboard = new FlexDashboard();

// empty content
window.FlexDashboardComponents.push({
  find: function(container) {
    if (container.find('p').length == 0)
      return container;
    else
      return $();
  }
})

// plot image
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('p')
                    .children('img:only-child');
  },

  layout: function(title, container, element, fillPage) {
    FlexDashboardUtils.resizableImage(element);
  }
});

// plot image (figure style)
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('div.figure').children('img');
  },

  layout: function(title, container, element, fillPage) {
    FlexDashboardUtils.resizableImage(element);
  }
});

// htmlwidget
window.FlexDashboardComponents.push({

  init: function(dashboardContainer) {
    // trigger "shown" after initial layout to force static htmlwidgets
    // in runtime: shiny to be resized after the dom has been transformed
    dashboardContainer.on('flexdashboard:layoutcomplete', function(event) {
      setTimeout(function() {
        dashboardContainer.trigger('shown');
      }, 200);
    });
  },

  find: function(container) {
    return container.children('div[id^="htmlwidget-"],div.html-widget');
  }
});

// gauge
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('div.html-widget.gauge');
  },

  flex: function(fillPage) {
    return false;
  },

  layout: function(title, container, element, fillPage) {


  }

});

// shiny output
window.FlexDashboardComponents.push({
  find: function(container) {
    return container.children('div[class^="shiny-"]');
  }
});

// bootstrap table
window.FlexDashboardComponents.push({

  find: function(container) {
    var bsTable = container.find('table.table');
    if (bsTable.length !== 0)
      return bsTable;
    else
      return container.find('tr.header').parent('thead').parent('table');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {

    // alias variables
    var bsTable = element;

    // fixup xtable generated tables with a proper thead
    var headerRow = bsTable.find('tbody > tr:first-child > th').parent();
    if (headerRow.length > 0) {
      var thead = $('<thead></thead>');
      bsTable.prepend(thead);
      headerRow.detach().appendTo(thead);
    }

    // improve appearance
    container.addClass('bootstrap-table');

    // for fill page provide scrolling w/ sticky headers
    if (fillPage) {
      // force scrollbar on overflow
      container.addClass('flowing-content-shim');

      // stable table headers when scrolling
      bsTable.stickyTableHeaders({
        scrollableArea: container
      });
    }
  }
});

// embedded shiny app
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.find('iframe.shiny-frame');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {
    if (fillPage) {
      element.attr('height', '100%');
    } else {
      // provide default height if necessary
      var height = element.get(0).style.height;
      if (!height)
        height = element.attr('height');
      if (!height)
        element.attr('height', 500);
    }
  }
});

// shiny fillRow or fillCol
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.find('.flexfill-container');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {
    if (fillPage)
      element.css('height', '100%');
    else {
      // provide default height if necessary
      var height = element.get(0).style.height;
      if (height === "100%" || height === "auto" || height === "initial" ||
          height === "inherit" || !height) {
        element.css('height', 500);
      }
    }
  }
});

// valueBox
window.FlexDashboardComponents.push({

  type: "custom",

  find: function(container) {
    if (container.find('span.value-output, .shiny-valuebox-output').length)
      return container;
    else
      return $();
  },

  flex: function(fillPage) {
    return false;
  },

  layout: function(title, container, element, fillPage) {

    // alias variables
    var chartTitle = title;
    var valueBox = element;

    // add value-box class to container
    container.addClass('value-box');

    // value paragraph
    var value = $('<p class="value"></p>');

    // if we have shiny-text-output then just move it in
    var valueOutputSpan = [];
    var shinyOutput = valueBox.find('.shiny-valuebox-output').detach();
    if (shinyOutput.length) {
      valueBox.children().remove();
      shinyOutput.html("&mdash;");
      value.append(shinyOutput);
    } else {
      // extract the value (remove leading vector index)
      var chartValue = valueBox.text().trim();
      chartValue = chartValue.replace("[1] ", "");
      valueOutputSpan = valueBox.find('span.value-output').detach();
      valueBox.children().remove();
      value.text(chartValue);
    }

    // caption
    var caption = $('<p class="caption"></p>');
    caption.append(chartTitle);

    // build inner div for value box and add it
    var inner = $('<div class="inner"></div>');
    inner.append(value);
    inner.append(caption);
    valueBox.append(inner);

    // add icon if specified
    var icon = $('<div class="icon"><i></i></div>');
    valueBox.append(icon);
    function setIcon(chartIcon) {
      var iconLib = "";
      var iconSplit = chartIcon.split(" ");
      if (iconSplit.length > 1) {
        iconLib = iconSplit[0];
        chartIcon = iconSplit.slice(1).join(" ");
      } else {
        var components = chartIcon.split("-");
        if (components.length > 1)
          iconLib = components[0];
      }
      icon.children('i').attr('class', iconLib + ' ' + chartIcon);
    }
    var chartIcon = valueBox.attr('data-icon');
    if (chartIcon)
      setIcon(chartIcon);

    // handle data attributes in valueOutputSpan
    function handleValueOutput(valueOutput) {

      // caption
      var dataCaption = valueOutput.attr('data-caption');
      if (dataCaption)
        caption.html(dataCaption);

      // icon
      var dataIcon = valueOutput.attr('data-icon');
      if (dataIcon)
        setIcon(dataIcon);

      // If valueBox(color=) was an accent color, this attr should
      // be populated with the accent color and the relevant CSS comes
      // in through HTML dependencies
      var dataColorAccent = valueOutput.attr('data-color-accent');
      var valueBoxClasses = "value-box-" + (["primary", "info", "danger", "warning", "success"].join(" value-box-"));
      if (dataColorAccent) {
        valueBox.removeClass(valueBoxClasses);
        valueBox.addClass('value-box-' + dataColorAccent);
      }

      // If valueBox(color=) was a CSS color, these other data-color-*
      // attrs will be populated
      var dataColor = valueOutput.attr('data-color');
      if (dataColor) {
        valueBox.removeClass(valueBoxClasses);
        valueBox.css('background-color', dataColor);
      }
      var dataColorText = valueOutput.attr('data-color-text');
      if (dataColorText) {
        valueBox.find(".inner").css('color', dataColorText);
      }
      var dataColorIcon = valueOutput.attr('data-color-icon');
      if (dataColorIcon) {
        valueBox.find(".icon").css('color', dataColorIcon);
      }

      // url
      var dataHref = valueOutput.attr('data-href');
      if (dataHref) {
        valueBox.addClass('linked-value');
        valueBox.off('click.value-box');
        valueBox.on('click.value-box', function(e) {
          window.FlexDashboardUtils.showLinkedValue(dataHref);
        });
      }
    }

    // check for a valueOutputSpan
    if (valueOutputSpan.length > 0) {
      handleValueOutput(valueOutputSpan);
    }

    // if we have a shinyOutput then bind a listener to handle
    // new valueOutputSpan values
    shinyOutput.on('shiny:value',
      function(event) {
        var element = $(event.target);
        setTimeout(function() {
          var valueOutputSpan = element.find('span.value-output');
          if (valueOutputSpan.length > 0)
            handleValueOutput(valueOutputSpan);
        }, 10);
      }
    );
  }
});
</script>

<div id="dashboard-container">

<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div id="map" class="section level1 sidebar" data-width="200">
<h1 class="sidebar">Map</h1>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div id="htmlwidget-5137c6fb34eb3eea73fb" style="width:100%;height:95vh;" class="leaflet html-widget "></div>
<script type="application/json" data-for="htmlwidget-5137c6fb34eb3eea73fb">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.OceanBasemap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false,"variant":"Ocean/World_Ocean_Base"}]},{"method":"addProviderTiles","args":["Esri.OceanBasemap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false,"variant":"Ocean/World_Ocean_Reference"}]},{"method":"addPolygons","args":[[[[{"lng":[-70.50262116380846,-70.50130156386587,-70.50131809183132,-70.50587638139356,-70.51586809759158,-70.52842937387014,-70.54178796166269,-70.55557710947194,-70.57253580243295,-70.58387759556987,-70.58697482281498,-70.59736631027383,-70.47043234106566,-70.27800374620458,-70.25584794945162,-70.23889221239617,-70.21706973661745,-70.19604719197088,-70.17291634054357,-70.15496605891035,-70.14004632659675,-70.12388495574361,-70.10606793020541,-70.08658427595061,-70.06707011640056,-70.05434301826921,-70.03506372079536,-70.21664021614261,-70.50262116380846],"lat":[42.65122919807528,42.64244597080212,42.63311829141803,42.62107117535638,42.60650738704969,42.59504077287943,42.58789633864245,42.58075467361301,42.57522131495286,42.56346860903558,42.55849642991711,42.55107495741446,42.12923847464952,42.11523262559099,42.12434913015571,42.12969906312974,42.13339070890252,42.13209907045013,42.13481016819392,42.13341853844631,42.12852693628808,42.12675474962357,42.12037983710985,42.11751877588576,42.10830310916965,42.10517045297008,42.09329964763375,42.7667152248554,42.65122919807528]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Stellwagen Bank",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[42.09329964763375,42.7667152248554],"lng":[-70.59736631027383,-70.03506372079536]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="climatological" class="section level1">
<h1>Climatological</h1>
<div id="sea-surface-temperature" class="section level3"
data-height="300">
<h3>Sea Surface Temperature</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<details>
<summary>
<span style="color: #737373; font-size: 12px">Metadata</span>
</summary>
<p>The ERDDAP dataset for <a
href="https://upwell.pfeg.noaa.gov/erddap/griddap/jplMURSST41mday.html">sst</a>
was extracted using <a
href="https://github.com/noaa-onms/climate-dashboard/blob/main/scripts/get_data.R">get_data.R</a>
for the Stellwagen Bank polygon and output to <a
href="https://raw.githubusercontent.com/noaa-onms/climate-dashboard/main/data/sst/SBNMS.csv">SBNMS.csv</a>,
which gets visualized below using <a
href="https://marinebon.github.io/extractr/reference/plot_ts.html"><code>extractr::plot_ts()</code></a>.</p>
</details>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="dygraphs html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-f115c428b155738bce52" style="width:576px;height:460.8px;"></div>
<script type="application/json" data-for="htmlwidget-f115c428b155738bce52">{"x":{"attrs":{"xlabel":"Date","ylabel":"Temperature (°C)","labels":["month","Temperature (°C)"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}},"colors":["red","red"],"customBars":true,"series":{"Temperature (°C)":{"axis":"y"}}},"scale":"monthly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2002-06-16T00:00:00.000Z","2002-07-16T00:00:00.000Z","2002-08-16T00:00:00.000Z","2002-09-16T00:00:00.000Z","2002-10-16T00:00:00.000Z","2002-11-16T00:00:00.000Z","2002-12-16T00:00:00.000Z","2003-01-16T00:00:00.000Z","2003-02-16T00:00:00.000Z","2003-03-16T00:00:00.000Z","2003-04-16T00:00:00.000Z","2003-05-16T00:00:00.000Z","2003-06-16T00:00:00.000Z","2003-07-16T00:00:00.000Z","2003-08-16T00:00:00.000Z","2003-09-16T00:00:00.000Z","2003-10-16T00:00:00.000Z","2003-11-16T00:00:00.000Z","2003-12-16T00:00:00.000Z","2004-01-16T00:00:00.000Z","2004-02-16T00:00:00.000Z","2004-03-16T00:00:00.000Z","2004-04-16T00:00:00.000Z","2004-05-16T00:00:00.000Z","2004-06-16T00:00:00.000Z","2004-07-16T00:00:00.000Z","2004-08-16T00:00:00.000Z","2004-09-16T00:00:00.000Z","2004-10-16T00:00:00.000Z","2004-11-16T00:00:00.000Z","2004-12-16T00:00:00.000Z","2005-01-16T00:00:00.000Z","2005-02-16T00:00:00.000Z","2005-03-16T00:00:00.000Z","2005-04-16T00:00:00.000Z","2005-05-16T00:00:00.000Z","2005-06-16T00:00:00.000Z","2005-07-16T00:00:00.000Z","2005-08-16T00:00:00.000Z","2005-09-16T00:00:00.000Z","2005-10-16T00:00:00.000Z","2005-11-16T00:00:00.000Z","2005-12-16T00:00:00.000Z","2006-01-16T00:00:00.000Z","2006-02-16T00:00:00.000Z","2006-03-16T00:00:00.000Z","2006-04-16T00:00:00.000Z","2006-05-16T00:00:00.000Z","2006-06-16T00:00:00.000Z","2006-07-16T00:00:00.000Z","2006-08-16T00:00:00.000Z","2006-09-16T00:00:00.000Z","2006-10-16T00:00:00.000Z","2006-11-16T00:00:00.000Z","2006-12-16T00:00:00.000Z","2007-01-16T00:00:00.000Z","2007-02-16T00:00:00.000Z","2007-03-16T00:00:00.000Z","2007-04-16T00:00:00.000Z","2007-05-16T00:00:00.000Z","2007-06-16T00:00:00.000Z","2007-07-16T00:00:00.000Z","2007-08-16T00:00:00.000Z","2007-09-16T00:00:00.000Z","2007-10-16T00:00:00.000Z","2007-11-16T00:00:00.000Z","2007-12-16T00:00:00.000Z","2008-01-16T00:00:00.000Z","2008-02-16T00:00:00.000Z","2008-03-16T00:00:00.000Z","2008-04-16T00:00:00.000Z","2008-05-16T00:00:00.000Z","2008-06-16T00:00:00.000Z","2008-07-16T00:00:00.000Z","2008-08-16T00:00:00.000Z","2008-09-16T00:00:00.000Z","2008-10-16T00:00:00.000Z","2008-11-16T00:00:00.000Z","2008-12-16T00:00:00.000Z","2009-01-16T00:00:00.000Z","2009-02-16T00:00:00.000Z","2009-03-16T00:00:00.000Z","2009-04-16T00:00:00.000Z","2009-05-16T00:00:00.000Z","2009-06-16T00:00:00.000Z","2009-07-16T00:00:00.000Z","2009-08-16T00:00:00.000Z","2009-09-16T00:00:00.000Z","2009-10-16T00:00:00.000Z","2009-11-16T00:00:00.000Z","2009-12-16T00:00:00.000Z","2010-01-16T00:00:00.000Z","2010-02-16T00:00:00.000Z","2010-03-16T00:00:00.000Z","2010-04-16T00:00:00.000Z","2010-05-16T00:00:00.000Z","2010-06-16T00:00:00.000Z","2010-07-16T00:00:00.000Z","2010-08-16T00:00:00.000Z","2010-09-16T00:00:00.000Z","2010-10-16T00:00:00.000Z","2010-11-16T00:00:00.000Z","2010-12-16T00:00:00.000Z","2011-01-16T00:00:00.000Z","2011-02-16T00:00:00.000Z","2011-03-16T00:00:00.000Z","2011-04-16T00:00:00.000Z","2011-05-16T00:00:00.000Z","2011-06-16T00:00:00.000Z","2011-07-16T00:00:00.000Z","2011-08-16T00:00:00.000Z","2011-09-16T00:00:00.000Z","2011-10-16T00:00:00.000Z","2011-11-16T00:00:00.000Z","2011-12-16T00:00:00.000Z","2012-01-16T00:00:00.000Z","2012-02-16T00:00:00.000Z","2012-03-16T00:00:00.000Z","2012-04-16T00:00:00.000Z","2012-05-16T00:00:00.000Z","2012-06-16T00:00:00.000Z","2012-07-16T00:00:00.000Z","2012-08-16T00:00:00.000Z","2012-09-16T00:00:00.000Z","2012-10-16T00:00:00.000Z","2012-11-16T00:00:00.000Z","2012-12-16T00:00:00.000Z","2013-01-16T00:00:00.000Z","2013-02-16T00:00:00.000Z","2013-03-16T00:00:00.000Z","2013-04-16T00:00:00.000Z","2013-05-16T00:00:00.000Z","2013-06-16T00:00:00.000Z","2013-07-16T00:00:00.000Z","2013-08-16T00:00:00.000Z","2013-09-16T00:00:00.000Z","2013-10-16T00:00:00.000Z","2013-11-16T00:00:00.000Z","2013-12-16T00:00:00.000Z","2014-01-16T00:00:00.000Z","2014-02-16T00:00:00.000Z","2014-03-16T00:00:00.000Z","2014-04-16T00:00:00.000Z","2014-05-16T00:00:00.000Z","2014-06-16T00:00:00.000Z","2014-07-16T00:00:00.000Z","2014-08-16T00:00:00.000Z","2014-09-16T00:00:00.000Z","2014-10-16T00:00:00.000Z","2014-11-16T00:00:00.000Z","2014-12-16T00:00:00.000Z","2015-01-16T00:00:00.000Z","2015-02-16T00:00:00.000Z","2015-03-16T00:00:00.000Z","2015-04-16T00:00:00.000Z","2015-05-16T00:00:00.000Z","2015-06-16T00:00:00.000Z","2015-07-16T00:00:00.000Z","2015-08-16T00:00:00.000Z","2015-09-16T00:00:00.000Z","2015-10-16T00:00:00.000Z","2015-11-16T00:00:00.000Z","2015-12-16T00:00:00.000Z","2016-01-16T00:00:00.000Z","2016-02-16T00:00:00.000Z","2016-03-16T00:00:00.000Z","2016-04-16T00:00:00.000Z","2016-05-16T00:00:00.000Z","2016-06-16T00:00:00.000Z","2016-07-16T00:00:00.000Z","2016-08-16T00:00:00.000Z","2016-09-16T00:00:00.000Z","2016-10-16T00:00:00.000Z","2016-11-16T00:00:00.000Z","2016-12-16T00:00:00.000Z","2017-01-16T00:00:00.000Z","2017-02-16T00:00:00.000Z","2017-03-16T00:00:00.000Z","2017-04-16T00:00:00.000Z","2017-05-16T00:00:00.000Z","2017-06-16T00:00:00.000Z","2017-07-16T00:00:00.000Z","2017-08-16T00:00:00.000Z","2017-09-16T00:00:00.000Z","2017-10-16T00:00:00.000Z","2017-11-16T00:00:00.000Z","2017-12-16T00:00:00.000Z","2018-01-16T00:00:00.000Z","2018-02-16T00:00:00.000Z","2018-03-16T00:00:00.000Z","2018-04-16T00:00:00.000Z","2018-05-16T00:00:00.000Z","2018-06-16T00:00:00.000Z","2018-07-16T00:00:00.000Z","2018-08-16T00:00:00.000Z","2018-09-16T00:00:00.000Z","2018-10-16T00:00:00.000Z","2018-11-16T00:00:00.000Z","2018-12-16T00:00:00.000Z","2019-01-16T00:00:00.000Z","2019-02-16T00:00:00.000Z","2019-03-16T00:00:00.000Z","2019-04-16T00:00:00.000Z","2019-05-16T00:00:00.000Z","2019-06-16T00:00:00.000Z","2019-07-16T00:00:00.000Z","2019-08-16T00:00:00.000Z","2019-09-16T00:00:00.000Z","2019-10-16T00:00:00.000Z","2019-11-16T00:00:00.000Z","2019-12-16T00:00:00.000Z","2020-01-16T00:00:00.000Z","2020-02-16T00:00:00.000Z","2020-03-16T00:00:00.000Z","2020-04-16T00:00:00.000Z","2020-05-16T00:00:00.000Z","2020-06-16T00:00:00.000Z","2020-07-16T00:00:00.000Z","2020-08-16T00:00:00.000Z","2020-09-16T00:00:00.000Z","2020-10-16T00:00:00.000Z","2020-11-16T00:00:00.000Z","2020-12-16T00:00:00.000Z","2021-01-16T00:00:00.000Z","2021-02-16T00:00:00.000Z","2021-03-16T00:00:00.000Z","2021-04-16T00:00:00.000Z","2021-05-16T00:00:00.000Z","2021-06-16T00:00:00.000Z","2021-07-16T00:00:00.000Z","2021-08-16T00:00:00.000Z","2021-09-16T00:00:00.000Z","2021-10-16T00:00:00.000Z","2021-11-16T00:00:00.000Z","2021-12-16T00:00:00.000Z","2022-01-16T00:00:00.000Z","2022-02-16T00:00:00.000Z","2022-03-16T00:00:00.000Z","2022-04-16T00:00:00.000Z","2022-05-16T00:00:00.000Z","2022-06-16T00:00:00.000Z","2022-07-16T00:00:00.000Z","2022-08-16T00:00:00.000Z","2022-09-16T00:00:00.000Z","2022-10-16T00:00:00.000Z","2022-11-16T00:00:00.000Z","2022-12-16T00:00:00.000Z","2023-02-16T00:00:00.000Z","2023-03-16T00:00:00.000Z","2023-04-16T00:00:00.000Z","2023-05-16T00:00:00.000Z","2023-06-16T00:00:00.000Z"],[[12.64240254760818,12.80233820667354,12.96227386573891],[17.84993682352498,18.11557321305766,18.38120960259035],[19.1542845465911,19.28464352413173,19.41500250167235],[17.20637238083793,17.42502521105891,17.64367804127988],[14.1694512696846,14.24285435427911,14.31625743887362],[10.10308591333531,10.28464587947255,10.4662058456098],[7.457740263733025,7.705549282285637,7.953358300838249],[5.265070557908535,5.588096036182924,5.911121514457314],[3.12386307322463,3.553935395114661,3.984007717004693],[3.007549164522953,3.380341034508468,3.753132904493983],[4.492240321759523,4.555214268792207,4.618188215824892],[8.391324673609551,8.540958778530944,8.690592883452338],[12.71931357920514,12.9718908406219,13.22446810203867],[17.74518136308475,17.91565352636026,18.08612568963578],[18.75776594339553,18.87085628071874,18.98394661804194],[17.13124550503444,17.33170772802347,17.53216995101251],[12.92109507033557,13.16733238783587,13.41356970533617],[9.26862278031051,9.440977692554332,9.613332604798154],[6.573198545222347,6.700503098253513,6.827807651284679],[4.313364436651508,4.622972637203568,4.932580837755628],[2.734334539824846,3.421752789640208,4.109171039455569],[2.972532174831244,3.334331908721351,3.696131642611458],[4.721893012298254,4.853259376650012,4.98462574100177],[8.85085388121337,9.053352454626715,9.255851028040061],[13.40252057459359,13.65767862242761,13.91283667026163],[17.05013665553182,17.18766698729858,17.32519731906534],[17.98805039567666,18.17303210892278,18.35801382216889],[16.70058160956662,16.80468081592469,16.90878002228277],[12.87918479133609,13.2052155750515,13.53124635876691],[9.148955285832756,9.49171475126786,9.834474216702965],[7.215376084412956,7.417397662605601,7.619419240798246],[4.844574872963102,5.090036022200603,5.335497171438104],[3.050252682412382,3.563760489287553,4.077268296162725],[2.827125037750549,3.269091221407945,3.71105740506534],[6.060184882746277,6.209281364380443,6.358377846014609],[8.198763319359859,8.415826204671529,8.632889089983198],[13.09173465970869,13.3634584607509,13.63518226179312],[17.9066069858194,18.08982029844434,18.27303361106929],[19.64948409544425,19.78809893643503,19.92671377742581],[17.64852432828254,17.84192179718463,18.03531926608672],[12.77778040469663,12.89285157370378,13.00792274271094],[9.875521316178132,10.00189277734864,10.12826423851915],[7.216253748041802,7.335672772423048,7.455091796804294],[5.514386383537169,5.818500007944501,6.122613632351833],[4.586438032588187,4.904211420688621,5.221984808789055],[3.92112185495539,4.217939215299235,4.514756575643079],[6.02415752392193,6.182074160490327,6.339990797058723],[9.204012199165989,9.44191327212401,9.679814345082031],[14.46274987918828,14.61933004532847,14.77591021146866],[18.32444249701791,18.46795519342212,18.61146788982632],[19.21493111171329,19.49024864709223,19.76556618247117],[17.43762416444892,17.55720476095608,17.67678535746323],[13.40989015472396,13.56132488863439,13.71275962254482],[10.27853454025847,10.4648723705739,10.65121020088932],[8.57523279732345,8.651886928464455,8.72854105960546],[6.750485655815093,6.996103375068445,7.241721094321798],[4.49382089048322,5.032612927516003,5.571404964548786],[4.25940306064733,4.622846072646146,4.986289084644962],[5.197011147179365,5.257930139725438,5.318849132271512],[9.485115917589619,9.788347991446829,10.09158006530404],[13.71281884487837,14.12933740468636,14.54585596449435],[17.88101979910059,17.99158977815694,18.1021597572133],[18.87555811022169,19.01259725393232,19.14963639764295],[17.11182245623735,17.24662972371878,17.3814369912002],[14.43139299638366,14.53885702515922,14.64632105393477],[9.800012918037842,9.898695709012079,9.997378499986317],[6.848106755184595,6.953376193915897,7.058645632647199],[4.969582280942743,5.233914206213985,5.498246131485227],[3.835099054921669,4.066409560208724,4.297720065495779],[3.584904150175998,3.782645647656087,3.980387145136176],[6.047709392217166,6.148987974979303,6.250266557741441],[9.672787492361119,9.881554989900298,10.09032248743948],[15.44548666918659,15.58977525414255,15.73406383909851],[19.07113676473153,19.18921846939615,19.30730017406077],[19.86516058756924,19.94974242502021,20.03432426247117],[17.09996097266512,17.46954021048039,17.83911944829565],[13.10275457245636,13.29135807882412,13.47996158519187],[10.07875651907585,10.21871572660813,10.35867493414041],[7.439133461514113,7.59838728413365,7.757641106753186],[4.506945344440902,4.849270562405481,5.191595780370061],[3.39058974991176,3.818876238629179,4.247162727346597],[3.538200044416052,3.749548627577278,3.960897210738503],[5.541843213403288,5.666131507768499,5.790419802133711],[10.25591829123536,10.36282576527952,10.46973323932367],[13.3947575317869,13.65110728518884,13.90745703859079],[16.78021427462815,17.10572392889794,17.43123358316772],[20.04045592961448,20.19987839820935,20.35930086680422],[16.92082990532591,17.09330667393079,17.26578344253568],[13.04482858240206,13.28180764285435,13.51878670330664],[10.36417511569824,10.61903931988146,10.87390352406468],[8.063370309522398,8.290338381758122,8.517306453993847],[5.286377594563439,5.823401599513226,6.360425604463013],[4.029021077263021,4.48196237983433,4.93490368240564],[4.506775997935636,4.639691368360841,4.772606738786047],[7.565485694683925,7.701369456266133,7.837253217848341],[10.62974499723637,10.83427218491702,11.03879937259767],[16.12085805738037,16.20949755920487,16.29813706102937],[19.994525262203,20.16671373528841,20.33890220837383],[18.86368494278455,19.06960235837603,19.27551977396751],[17.72408314836199,17.82119585466126,17.91830856096053],[13.13630459769006,13.37787843019106,13.61945226269206],[10.15407255937077,10.32889291749778,10.5037132756248],[7.718038270271629,8.0471259647476,8.376213659223572],[5.353946836101967,5.873890061551549,6.393833287001131],[3.892010715636437,4.335412679138311,4.778814642640184],[3.736691914134162,4.065605828798857,4.394519743463552],[5.566004955574739,5.644047004658329,5.72208905374192],[9.70754600990819,9.926299157618084,10.14505230532798],[14.68946515191483,14.91459397947386,15.13972280703289],[19.29994777184379,19.55924452430365,19.81854127676352],[19.07467930334263,19.23720314048159,19.39972697762055],[16.70365810942879,16.9087915018692,17.11392489430961],[14.6524068751058,14.84013860047634,15.02787032584689],[11.00146649726405,11.16975300342876,11.33803950959348],[9.148422427512457,9.257976062505705,9.367529697498952],[6.980572936245758,7.196189768969838,7.411806601693919],[5.801542921913846,6.118193154142059,6.434843386370272],[6.189001652362524,6.302529256643233,6.416056860923941],[7.391989252792794,7.530821608064769,7.669653963336744],[11.62695836153899,11.75757556544476,11.88819276935053],[15.55909699052638,15.75725782360193,15.95541865667748],[19.97179326273033,20.26380602757434,20.55581879241836],[20.67974052249074,20.87095405919183,21.06216759589291],[17.77127598242114,18.16023439638904,18.54919281035694],[13.79887715841992,13.98162635545408,14.16437555248825],[10.87977963124107,10.99511769676288,11.11045576228469],[9.161051461894566,9.435443532829938,9.70983560376531],[7.147587330617105,7.604876120785748,8.06216491095439],[5.430763070450676,6.014397485483971,6.598031900517266],[4.734607329993175,5.150886265098626,5.567165200204077],[6.260698387036524,6.359212825235646,6.457727263434768],[10.55183822277483,10.7261357759007,10.90043332902658],[14.89772159183128,15.10414885519742,15.31057611856355],[20.19987403712208,20.40640106010198,20.61292808308189],[19.16392934889702,19.47888820172351,19.79384705455],[16.90088119688681,17.0013147894422,17.1017483819976],[14.44740769725503,14.62081341351576,14.79421912977649],[10.24807366232103,10.40601585365903,10.56395804499703],[7.47378286229915,7.592241079547676,7.710699296796203],[5.000876652530071,5.429141328292038,5.857406004054006],[3.650162059457521,4.131354747735614,4.612547436013706],[3.200890867428547,3.653459621361011,4.106028375293476],[4.894683685845023,5.027285286621297,5.159886887397572],[9.807176813696801,9.977282941465733,10.14738906923466],[14.64247095859148,14.91577004570736,15.18906913282324],[17.68630136266222,17.96685610227302,18.24741084188382],[18.99006375439293,19.12701754675441,19.26397133911588],[17.72350083130182,17.87500134954663,18.02650186779145],[14.15999984945871,14.29164152181193,14.42328319416516],[10.63458943912018,10.82732918762793,11.02006893613567],[8.52286338108183,8.864733018425538,9.206602655769245],[6.027162674538439,6.545396151520781,7.063629628503123],[3.88695651476557,4.496498792232152,5.106041069698733],[2.861452051818299,3.492496800810584,4.123541549802868],[4.704576838086056,4.893435150770332,5.082293463454607],[9.842604550098667,10.06459001486233,10.28657547962599],[13.32536584360738,13.47989510355963,13.63442436351187],[18.47863222981175,18.71318724516485,18.94774226051796],[19.81154301999057,20.12142207177918,20.43130112356778],[18.31164837282323,18.61550790009322,18.91936742736321],[13.4673868549523,13.7782989743853,14.0892110938183],[11.16397813953202,11.31569949497419,11.46742085041635],[9.353949649304974,9.481640487499025,9.609331325693075],[7.102614947342157,7.277404836082538,7.452194724822919],[5.32216044548379,5.690017833876818,6.057875222269847],[5.229296129688,5.440608387844832,5.651920646001664],[6.108236392953236,6.161959422544783,6.215682452136329],[9.507907259827457,9.80426422615672,10.10062119248598],[14.70187346756428,14.93094395337922,15.16001443919417],[19.04022252109117,19.20332725375306,19.36643198641496],[20.32836840552542,20.54078747522946,20.75320654493349],[18.33944647517594,18.50195040044359,18.66445432571123],[14.75737894737137,14.89771157122673,15.03804419508209],[11.28175897085443,11.53903343382109,11.79630789678775],[9.113604893139478,9.369432661798928,9.625260430458379],[6.838748542724723,7.264198096334611,7.689647649944499],[5.363357032755803,5.825379780246956,6.287402527738108],[4.443365199162853,4.776138464808713,5.108911730454572],[6.218730484860625,6.269939564246161,6.321148643631696],[9.388796851772414,9.587212808837382,9.78562876590235],[13.58868993510901,13.79335249231217,13.99801504951533],[17.93815328368896,18.05922790960217,18.18030253551538],[19.13525054053237,19.26468903848316,19.39412753643395],[16.84712924385489,16.94233508183651,17.03754091981813],[15.43685014517421,15.52247286698298,15.60809558879175],[10.79703188963328,11.01451261708972,11.23199334454615],[8.118720272934343,8.296814677811783,8.474909082689223],[4.786567969133518,5.308533606053791,5.830499242974064],[4.020606015337221,4.554036280091325,5.087466544845429],[4.301145631174348,4.640439615579859,4.979733599985369],[5.182891958745713,5.268105212081508,5.353318465417304],[10.50268020556684,10.71499836221058,10.92731651885431],[15.22458420266634,15.38011541832075,15.53564663397517],[19.50367353072393,19.65295773006052,19.80224192939712],[20.97615692698191,21.15277573223855,21.32939453749518],[19.20324361854925,19.40547660792625,19.60770959730325],[14.15767188441026,14.43622961828099,14.71478735215172],[10.09169574374848,10.2622523938411,10.43280904393371],[7.366519841793864,7.579192656897782,7.7918654720017],[5.437252284758631,5.774889968661999,6.112527652565368],[4.005090339174083,4.385552601661093,4.766014864148103],[3.413038526419967,3.757349580041458,4.101660633662949],[5.286033141250623,5.371255033554313,5.456476925858003],[9.410103645620531,9.687614482295578,9.965125318970625],[13.97425162036574,14.2428812942855,14.51151096820526],[19.96535891772439,20.27198430563839,20.57860969355239],[19.83289254473125,20.03080773065127,20.22872291657128],[17.79675688166835,17.93049138418873,18.06422588670911],[14.15606217213838,14.24894077140289,14.34181937066741],[10.66600601302019,10.85381025903962,11.04161450505905],[7.708755893522947,7.971419606946834,8.23408332037072],[6.286100226223211,6.681744998427396,7.077389770631581],[5.307860503502623,5.723328222371062,6.138795941239502],[5.408852472768191,5.685216719874452,5.961580966980713],[6.080865675522611,6.130298982126095,6.179732288729578],[8.854074570515053,9.001951393506205,9.149828216497358],[16.27157999447965,16.38214434710054,16.49270869972144],[20.31029360799234,20.41576000049704,20.52122639300175],[20.36449926089532,20.57899894602954,20.79349863116377],[17.97100498917812,18.12087239888891,18.2707398085997],[14.55146236758703,14.64245083474297,14.73343930189891],[11.03330368916373,11.30999381551158,11.58668394185942],[8.107277672811257,8.389126188415858,8.670974704020459],[6.057842951606329,6.293684366199938,6.529525780793547],[4.352924436594517,4.848225720484753,5.343527004374989],[4.436104477838104,4.882798367955061,5.329492258072018],[6.398956865995002,6.547934164939247,6.696911463883492],[10.63609199022926,10.77409104978636,10.91209010934345],[15.77217198170237,15.87718427942154,15.98219657714072],[18.64694501023279,18.81186773740206,18.97679046457133],[20.47168338150875,20.77862609939671,21.08556881728467],[18.47252487934379,18.63558825006274,18.79865162078169],[15.75792783633061,15.93115086688765,16.10437389744469],[11.92319955843128,12.07682259837736,12.23044563832345],[9.702036262716241,9.917158767388273,10.1322812720603],[7.362812865700168,7.736789249806887,8.110765633913607],[5.158086691045852,5.735709994446998,6.313333297848143],[5.096649890712452,5.412545036662853,5.728440182613254],[6.155584333573129,6.276397361325681,6.397210389078232],[9.977047455798184,10.07301327383513,10.16897909187208],[15.85065725646858,16.00731135986226,16.16396546325594],[18.92520270898189,19.13080672994971,19.33641075091753],[19.77881962254672,19.94636755264149,20.11391548273625],[17.96791876492827,18.24304773412648,18.51817670332469],[14.15341042134546,14.40186980450009,14.65032918765473],[12.28941491787394,12.39324851865613,12.49708211943833],[8.819604003312547,8.958799028774575,9.097994054236603],[5.381641298103121,5.864221807614336,6.346802317125551],[5.090557907586377,5.440799819761681,5.791041731936985],[6.698568944923432,6.791135310762619,6.883701676601806],[10.56569200261064,11.05934186951445,11.55299173641825],[15.3058957423115,15.53073529451972,15.75557484672793]]]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="chlorophyll" class="section level3" data-height="300">
<h3>Chlorophyll</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<details>
<summary>
<span style="color: #737373; font-size: 12px">Metadata</span>
</summary>
<p>The ERDDAP dataset for <a
href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/erdMH1chlamday.html">chlorophyll</a>
was extracted using <a
href="https://github.com/noaa-onms/climate-dashboard/blob/main/scripts/get_data.R">get_data.R</a>
for the Stellwagen Bank polygon and output to <a
href="https://raw.githubusercontent.com/noaa-onms/climate-dashboard/main/data/chlorophyll/SBNMS.csv">SBNMS.csv</a>,
which gets visualized below using <a
href="https://marinebon.github.io/extractr/reference/plot_ts.html"><code>extractr::plot_ts()</code></a>.</p>
</details>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="dygraphs html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-186c0eb28becd327bba6" style="width:576px;height:460.8px;"></div>
<script type="application/json" data-for="htmlwidget-186c0eb28becd327bba6">{"x":{"attrs":{"xlabel":"Date","ylabel":"Chlorophyll a (mg/m³)","labels":["month","Chlorophyll a (mg/m³)"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}},"colors":["green","green"],"customBars":true,"series":{"Chlorophyll a (mg/m³)":{"axis":"y"}}},"scale":"monthly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2003-01-16T00:00:00.000Z","2003-02-16T00:00:00.000Z","2003-03-16T00:00:00.000Z","2003-04-16T00:00:00.000Z","2003-05-16T00:00:00.000Z","2003-06-16T00:00:00.000Z","2003-07-16T00:00:00.000Z","2003-08-16T00:00:00.000Z","2003-09-16T00:00:00.000Z","2003-10-16T00:00:00.000Z","2003-11-16T00:00:00.000Z","2003-12-16T00:00:00.000Z","2004-01-16T00:00:00.000Z","2004-02-16T00:00:00.000Z","2004-03-16T00:00:00.000Z","2004-04-16T00:00:00.000Z","2004-05-16T00:00:00.000Z","2004-06-16T00:00:00.000Z","2004-07-16T00:00:00.000Z","2004-08-16T00:00:00.000Z","2004-09-16T00:00:00.000Z","2004-10-16T00:00:00.000Z","2004-11-16T00:00:00.000Z","2004-12-16T00:00:00.000Z","2005-01-16T00:00:00.000Z","2005-02-16T00:00:00.000Z","2005-03-16T00:00:00.000Z","2005-04-16T00:00:00.000Z","2005-05-16T00:00:00.000Z","2005-06-16T00:00:00.000Z","2005-07-16T00:00:00.000Z","2005-08-16T00:00:00.000Z","2005-09-16T00:00:00.000Z","2005-10-16T00:00:00.000Z","2005-11-16T00:00:00.000Z","2005-12-16T00:00:00.000Z","2006-01-16T00:00:00.000Z","2006-02-16T00:00:00.000Z","2006-03-16T00:00:00.000Z","2006-04-16T00:00:00.000Z","2006-05-16T00:00:00.000Z","2006-06-16T00:00:00.000Z","2006-07-16T00:00:00.000Z","2006-08-16T00:00:00.000Z","2006-09-16T00:00:00.000Z","2006-10-16T00:00:00.000Z","2006-11-16T00:00:00.000Z","2006-12-16T00:00:00.000Z","2007-01-16T00:00:00.000Z","2007-02-16T00:00:00.000Z","2007-03-16T00:00:00.000Z","2007-04-16T00:00:00.000Z","2007-05-16T00:00:00.000Z","2007-06-16T00:00:00.000Z","2007-07-16T00:00:00.000Z","2007-08-16T00:00:00.000Z","2007-09-16T00:00:00.000Z","2007-10-16T00:00:00.000Z","2007-11-16T00:00:00.000Z","2007-12-16T00:00:00.000Z","2008-01-16T00:00:00.000Z","2008-02-16T00:00:00.000Z","2008-03-16T00:00:00.000Z","2008-04-16T00:00:00.000Z","2008-05-16T00:00:00.000Z","2008-06-16T00:00:00.000Z","2008-07-16T00:00:00.000Z","2008-08-16T00:00:00.000Z","2008-09-16T00:00:00.000Z","2008-10-16T00:00:00.000Z","2008-11-16T00:00:00.000Z","2008-12-16T00:00:00.000Z","2009-01-16T00:00:00.000Z","2009-02-16T00:00:00.000Z","2009-03-16T00:00:00.000Z","2009-04-16T00:00:00.000Z","2009-05-16T00:00:00.000Z","2009-06-16T00:00:00.000Z","2009-07-16T00:00:00.000Z","2009-08-16T00:00:00.000Z","2009-09-16T00:00:00.000Z","2009-10-16T00:00:00.000Z","2009-11-16T00:00:00.000Z","2009-12-16T00:00:00.000Z","2010-01-16T00:00:00.000Z","2010-02-16T00:00:00.000Z","2010-03-16T00:00:00.000Z","2010-04-16T00:00:00.000Z","2010-05-16T00:00:00.000Z","2010-06-16T00:00:00.000Z","2010-07-16T00:00:00.000Z","2010-08-16T00:00:00.000Z","2010-09-16T00:00:00.000Z","2010-10-16T00:00:00.000Z","2010-11-16T00:00:00.000Z","2010-12-16T00:00:00.000Z","2011-01-16T00:00:00.000Z","2011-02-16T00:00:00.000Z","2011-03-16T00:00:00.000Z","2011-04-16T00:00:00.000Z","2011-05-16T00:00:00.000Z","2011-06-16T00:00:00.000Z","2011-07-16T00:00:00.000Z","2011-08-16T00:00:00.000Z","2011-09-16T00:00:00.000Z","2011-10-16T00:00:00.000Z","2011-11-16T00:00:00.000Z","2011-12-16T00:00:00.000Z","2012-01-16T00:00:00.000Z","2012-02-16T00:00:00.000Z","2012-03-16T00:00:00.000Z","2012-04-16T00:00:00.000Z","2012-05-16T00:00:00.000Z","2012-06-16T00:00:00.000Z","2012-07-16T00:00:00.000Z","2012-08-16T00:00:00.000Z","2012-09-16T00:00:00.000Z","2012-10-16T00:00:00.000Z","2012-11-16T00:00:00.000Z","2012-12-16T00:00:00.000Z","2013-01-16T00:00:00.000Z","2013-02-16T00:00:00.000Z","2013-03-16T00:00:00.000Z","2013-04-16T00:00:00.000Z","2013-05-16T00:00:00.000Z","2013-06-16T00:00:00.000Z","2013-07-16T00:00:00.000Z","2013-08-16T00:00:00.000Z","2013-09-16T00:00:00.000Z","2013-10-16T00:00:00.000Z","2013-11-16T00:00:00.000Z","2013-12-16T00:00:00.000Z","2014-01-16T00:00:00.000Z","2014-02-16T00:00:00.000Z","2014-03-16T00:00:00.000Z","2014-04-16T00:00:00.000Z","2014-05-16T00:00:00.000Z","2014-06-16T00:00:00.000Z","2014-07-16T00:00:00.000Z","2014-08-16T00:00:00.000Z","2014-09-16T00:00:00.000Z","2014-10-16T00:00:00.000Z","2014-11-16T00:00:00.000Z","2014-12-16T00:00:00.000Z","2015-01-16T00:00:00.000Z","2015-02-16T00:00:00.000Z","2015-03-16T00:00:00.000Z","2015-04-16T00:00:00.000Z","2015-05-16T00:00:00.000Z","2015-06-16T00:00:00.000Z","2015-07-16T00:00:00.000Z","2015-08-16T00:00:00.000Z","2015-09-16T00:00:00.000Z","2015-10-16T00:00:00.000Z","2015-11-16T00:00:00.000Z","2015-12-16T00:00:00.000Z","2016-01-16T00:00:00.000Z","2016-02-16T00:00:00.000Z","2016-03-16T00:00:00.000Z","2016-04-16T00:00:00.000Z","2016-05-16T00:00:00.000Z","2016-06-16T00:00:00.000Z","2016-07-16T00:00:00.000Z","2016-08-16T00:00:00.000Z","2016-09-16T00:00:00.000Z","2016-10-16T00:00:00.000Z","2016-11-16T00:00:00.000Z","2016-12-16T00:00:00.000Z","2017-01-16T00:00:00.000Z","2017-02-16T00:00:00.000Z","2017-03-16T00:00:00.000Z","2017-04-16T00:00:00.000Z","2017-05-16T00:00:00.000Z","2017-06-16T00:00:00.000Z","2017-07-16T00:00:00.000Z","2017-08-16T00:00:00.000Z","2017-09-16T00:00:00.000Z","2017-10-16T00:00:00.000Z","2017-11-16T00:00:00.000Z","2017-12-16T00:00:00.000Z","2018-01-16T00:00:00.000Z","2018-02-16T00:00:00.000Z","2018-03-16T00:00:00.000Z","2018-04-16T00:00:00.000Z","2018-05-16T00:00:00.000Z","2018-06-16T00:00:00.000Z","2018-07-16T00:00:00.000Z","2018-08-16T00:00:00.000Z","2018-09-16T00:00:00.000Z","2018-10-16T00:00:00.000Z","2018-11-16T00:00:00.000Z","2018-12-16T00:00:00.000Z","2019-01-16T00:00:00.000Z","2019-02-16T00:00:00.000Z","2019-03-16T00:00:00.000Z","2019-04-16T00:00:00.000Z","2019-05-16T00:00:00.000Z","2019-06-16T00:00:00.000Z","2019-07-16T00:00:00.000Z","2019-08-16T00:00:00.000Z","2019-09-16T00:00:00.000Z","2019-10-16T00:00:00.000Z","2019-11-16T00:00:00.000Z","2019-12-16T00:00:00.000Z","2020-01-16T00:00:00.000Z","2020-02-16T00:00:00.000Z","2020-03-16T00:00:00.000Z","2020-04-16T00:00:00.000Z","2020-05-16T00:00:00.000Z","2020-06-16T00:00:00.000Z","2020-07-16T00:00:00.000Z","2020-08-16T00:00:00.000Z","2020-09-16T00:00:00.000Z","2020-10-16T00:00:00.000Z","2020-11-16T00:00:00.000Z","2020-12-16T00:00:00.000Z","2021-01-16T00:00:00.000Z","2021-02-16T00:00:00.000Z","2021-03-16T00:00:00.000Z","2021-04-16T00:00:00.000Z","2021-05-16T00:00:00.000Z","2021-06-16T00:00:00.000Z","2021-07-16T00:00:00.000Z","2021-08-16T00:00:00.000Z","2021-09-16T00:00:00.000Z","2021-10-16T00:00:00.000Z","2021-11-16T00:00:00.000Z","2021-12-16T00:00:00.000Z","2022-01-16T00:00:00.000Z","2022-02-16T00:00:00.000Z","2022-03-16T00:00:00.000Z","2022-04-16T00:00:00.000Z","2022-05-16T00:00:00.000Z"],[[1.067307048140199,1.227782564876724,1.388258081613248],[0.9209340684936245,1.407052345519518,1.893170622545412],[1.246777240613913,1.841190428194338,2.435603615774763],[2.928012489193392,7.000896145827578,11.07377980246176],[2.556594914406448,3.714929271788493,4.873263629170538],[0.4585994549260535,1.873666711532286,3.288733968138519],[0.8400913327382709,1.140994332567619,1.441897332396966],[0.7955538117488423,1.433840679426263,2.072127547103683],[0.9692488535184514,1.488434927741977,2.007621001965502],[1.757556633924338,3.103251058689869,4.4489454834554],[0.719468138717535,2.429701344810263,4.139934550902991],[1.172869714638344,1.638334238616219,2.103798762594095],[0.9241470792964405,1.796474167900364,2.668801256504287],[0.9077065063323532,1.179598505044506,1.451490503756658],[1.523333917577969,2.842636300699554,4.161938683821139],[4.678287380313689,7.387582592720533,10.09687780512738],[1.207979340591578,2.037213548256533,2.866447755921488],[0.7471182479251237,1.368632012040076,1.990145776155028],[0.8254151691100116,1.028132308138548,1.230849447167085],[0.953882135799704,1.257021366244685,1.560160596689666],[0.9318246701283839,1.27409528511284,1.616365900097297],[1.411509169063773,1.933074370787962,2.45463957251215],[1.174021352722661,1.606205268062814,2.038389183402968],[0.9620770315898064,1.389184012030163,1.816290992470519],[1.299772714906839,1.72483528878567,2.149897862664501],[0.9304999453520215,1.323989219474096,1.717478493596171],[1.40099543650725,2.479732348100983,3.558469259694715],[2.850849197662981,4.715501021294698,6.580152844926415],[2.705369991707014,3.778912888826245,4.852455785945477],[1.086938508693083,2.806885931613671,4.526833354534261],[1.67417724960502,2.869546936376251,4.064916623147482],[1.086008919164504,1.307658313399684,1.529307707634863],[1.211697222054115,1.718410913091506,2.225124604128898],[1.285991443946824,2.538869899554844,3.791748355162865],[2.020710466148471,3.155258719938515,4.289806973728559],[1.232945517432055,1.479007908897678,1.725070300363302],[1.170066494688514,1.414478822346151,1.658891150003789],[1.157681332461252,1.431764808884502,1.705848285307752],[0.9308785429754329,1.721789638926513,2.512700734877593],[5.422064029786265,9.01861756039362,12.61517109100098],[2.427848135771597,4.035165952940057,5.642483770108516],[1.041156602094389,1.709369303536241,2.377582004978094],[1.189563744535791,1.32350880995284,1.45745387536989],[1.68628143948945,2.015844902853026,2.345408366216602],[1.299708413561064,2.140719725267731,2.981731036974397],[1.554723487207928,2.036188264832879,2.517653042457831],[0.9556168460375934,1.755854231597733,2.556091617157873],[1.228718134694814,1.919818886875236,2.610919639055658],[1.143945115406342,1.385613592436714,1.627282069467086],[0.8447094897243562,1.317682566868998,1.790655644013639],[0.918453182865874,1.784681687389847,2.65091019191382],[3.173420895876148,6.341711493304176,9.510002090732204],[1.640911529813122,2.91772098610871,4.194530442404298],[0.07653676662045794,1.729947975517189,3.383359184413921],[0.7382558613804625,0.9318321856269,1.125408509873338],[0.9057783580779581,1.39814349943704,1.890508640796122],[1.209065158574465,1.497277759287479,1.785490360000494],[2.087626029692192,3.130124142570217,4.172622255448243],[1.287151022684082,1.644192766969221,2.00123451125436],[0.9082365181686028,1.07747950127525,1.246722484381898],[0.8734506471407477,1.21136491968684,1.549279192232932],[0.9706122163678458,1.147157167431212,1.323702118494578],[1.587842388897255,3.097297217724097,4.606752046550939],[6.032036936072286,8.274170490947084,10.51630404582188],[1.716655829810219,5.504800793028226,9.292945756246231],[1.242271491571294,1.673852738672799,2.105433985774305],[1.018532096264346,1.270803534201462,1.523074972138578],[1.067483418261253,2.927891061253791,4.78829870424633],[1.58677880022468,2.073660116126067,2.560541432027455],[1.840151658466068,2.499513325900057,3.158874993334046],[1.66320029370478,2.170601479328462,2.678002664952143],[0.9991854438694928,1.583188108719178,2.167190773568864],[0.8498544995661463,1.100823194876204,1.351791890186262],[0.8025730425830305,0.9311071347146138,1.059641226846197],[1.072428657880107,1.364601093487148,1.656773529094189],[9.211081277148509,12.49489020605157,15.77869913495463],[1.605309444605299,4.048064671293663,6.490819897982026],[0.7577203904851697,1.806332571663126,2.854944752841082],[1.547668540447712,2.746612322591517,3.945556104735322],[0.6968498536984347,1.723914413121495,2.750978972544555],[2.010283928295958,4.279281973838806,6.548280019381655],[1.899004007914187,4.112605987674129,6.326207967434071],[2.195519494579235,3.535517549862827,4.875515605146418],[0.9657458348319863,2.418916234569828,3.872086634307669],[0.8696427553963326,1.323729446769631,1.777816138142929],[0.8311462429370166,1.544627492010158,2.2581087410833],[1.908535128212296,2.870896929371966,3.833258730531636],[5.980758178075559,7.872418403625488,9.764078629175417],[1.511398053766398,2.299648497226464,3.087898940686531],[0.9920268003398099,1.258036839700963,1.524046879062117],[0.9858068686003284,1.133859885435035,1.281912902269741],[1.286175565430018,2.04565826906775,2.805140972705482],[1.756165511686183,2.115851224773992,2.475536937861801],[3.763619635224579,4.549508745652916,5.335397856081252],[1.504559226534445,2.094679099799943,2.68479897306544],[1.12925363438082,1.42852838674601,1.727803139111199],[1.242338289493637,1.578899996994186,1.915461704494735],[1.17583010572184,1.503422138899782,1.831014172077725],[1.663262062431042,3.351038448131868,5.038814833832693],[1.858851906020737,4.398153264157093,6.937454622293449],[2.870164539676328,5.164501802764669,7.458839065853011],[1.560647652875474,2.294376489889882,3.02810532690429],[0.9900997808185051,1.292512201914822,1.594924623011139],[1.086828632159412,1.895574123319918,2.704319614480424],[1.402382711592274,2.226592596429978,3.050802481267682],[2.837754999652042,4.113835522728245,5.389916045804447],[2.844720979264564,3.635768309126805,4.426815638989046],[0.7972551455947565,1.796575110324108,2.79589507505346],[0.682803929595532,1.026316919901075,1.369829910206618],[1.154725247463998,1.74164690022921,2.328568552994422],[5.034230464408362,7.628382707164235,10.22253494992011],[4.648632934156542,6.613644194428939,8.578655454701334],[0.9713687906105459,1.931102817946107,2.890836845281668],[1.307657461980787,3.144973201473264,4.982288940965741],[1.012829130133317,1.627117083020454,2.241405035907591],[0.9620701880931588,2.134533257380019,3.30699632666688],[1.350055761921166,2.019186548072927,2.688317334224687],[0.8074874408240409,1.951757656831811,3.096027872839581],[1.380382766337867,1.917597902082179,2.454813037826491],[1.551408270346897,2.238970708673018,2.926533146999138],[1.198698610040793,1.666953269582595,2.135207929124397],[1.341067109531056,1.60528896324826,1.869510816965464],[0.8051746556302277,1.215927495138489,1.62668033464675],[1.011239018829953,1.662235032032876,2.313231045235799],[1.350001031435313,3.090537134748306,4.831073238061298],[1.11394731597535,2.00217470722477,2.890402098474189],[0.9754185375727227,1.443696130366221,1.911973723159719],[1.395452468875242,2.085424156954689,2.775395845034136],[1.998507661694619,3.255043481388231,4.511579301081843],[2.266392387998651,3.191133104971726,4.115873821944801],[2.099816568790719,2.766905332133718,3.433994095476717],[0.4357768380224522,1.377784732164759,2.319792626307065],[1.17455565452116,1.439740736119068,1.704925817716977],[1.194154629951597,1.387056007872533,1.579957385793468],[0.4172455822251301,1.357292606882805,2.29733963154048],[5.948361802228728,8.812463795181609,11.67656578813449],[1.404018688351343,3.242497037797079,5.080975387242814],[1.454215181247995,2.027194707933134,2.600174234618272],[1.122382718854187,1.596356231800831,2.070329744747475],[1.095056366148011,1.796573051135906,2.4980897361238],[1.404900562395778,1.873648556479572,2.342396550563367],[1.60628341117407,1.891786668422448,2.177289925670827],[1.325710333648351,1.761035008152036,2.196359682655721],[1.009101146638208,1.739030700095379,2.46896025355255],[1.396597031131841,1.801538293379067,2.206479555626292],[1.31410827463954,1.75759344118355,2.201078607727559],[0.8789204834450959,1.511347822899366,2.143775162353636],[0.8361174947096164,1.927589478718973,3.01906146272833],[2.808996084704664,3.941517417448281,5.074038750191898],[1.113716115685227,1.410687036757922,1.707657957830616],[1.107579766088849,1.732354141064804,2.357128516040759],[1.067997562872924,1.349606463508884,1.631215364144845],[1.20104967495434,1.655876083965719,2.110702492977099],[2.20756524454913,3.091816789912481,3.976068335275833],[1.908220188526489,2.243835980874779,2.579451773223068],[1.7605036994111,2.1215509533012,2.482598207191299],[1.512734566049325,1.74293123892624,1.973127911803155],[1.620541005097427,1.869043778329,2.117546551560573],[1.438832564939627,1.801741986379136,2.164651407818645],[1.807501065333462,2.835004112146196,3.862507158958931],[1.553760536949169,3.36804016402168,5.182319791094191],[1.246348510285466,1.422246267325687,1.598144024365908],[1.019239649844395,1.225798667782415,1.432357685720435],[1.316196116700534,2.044936059165175,2.773676001629816],[2.012895418779772,3.447326655805546,4.88175789283132],[1.185935300204253,2.128617219681287,3.071299139158322],[2.014403907539331,2.732953955657291,3.451504003775251],[0.8690091214612179,2.523803498188074,4.178597874914931],[1.153352190299268,1.366708728518799,1.58006526673833],[1.181721629404696,1.34657735633154,1.511433083258383],[1.349271207060955,1.651600432221907,1.953929657382858],[2.546796058675576,3.448057693286534,4.349319327897493],[1.954276626200861,7.812975724248121,13.67167482229538],[1.69000895857843,3.398176325498706,5.106343692418982],[0.6137337839126208,1.430554740620356,2.24737569732809],[1.650552099956731,2.449502247093368,3.248452394230005],[2.247678891761966,3.662325166437747,5.076971441113528],[2.918415125567267,5.138185038183727,7.357954950800188],[1.793107083009052,2.905066430133625,4.017025777258198],[0.6864358809707596,0.8732252616951935,1.060014642419628],[1.115262098251858,1.349052058084168,1.582842017916477],[1.421219452108262,1.852399041182804,2.283578630257346],[0.9744632072499169,2.268699974039175,3.562936740828434],[1.647192174825521,2.314836004354658,2.982479833883795],[0.5572395453098802,2.312715811450986,4.068192077592093],[1.324567199533037,1.630138382424403,1.935709565315769],[1.081790344802454,1.314660361213406,1.547530377624357],[0.9186957729498595,1.454977893481289,1.991260014012719],[0.9216448263163168,1.390845856527342,1.860046886738368],[1.412194434098878,1.977404781501659,2.54261512890444],[0.7502043921275814,2.319105036067266,3.888005680006952],[1.111562934817087,1.525649800787877,1.939736666758667],[1.030151187934642,1.286235714915895,1.542320241897149],[0.5037047405433421,1.348200560051159,2.192696379558976],[0.6065872851422193,0.7683362147233782,0.9300851443045371],[0.6183147382141094,1.652945880037155,2.6875770218602],[2.25663740624074,4.676385179923399,7.096132953606057],[1.289224571832059,2.057621221472747,2.826017871113435],[0.9865609581276737,1.445273743928784,1.903986529729894],[1.058103036497252,1.680459921377419,2.302816806257585],[1.847178902304273,3.319483021750067,4.791787141195862],[2.855608871360638,5.068770829778519,7.281932788196399],[2.021208418397442,2.511323573815562,3.001438729233682],[0.9639014711008005,1.373749544150638,1.783597617200475],[1.081111302347865,1.282897344470894,1.484683386593923],[0.9653827334426986,1.953703941219914,2.94202514899713],[1.234044898212243,2.377799796361993,3.521554694511742],[1.969713145724479,3.767164523584129,5.564615901443779],[1.399046892726626,1.870764054521157,2.342481216315688],[1.214456192647554,1.441814175487435,1.669172158327316],[0.9742526930713192,1.11662249234471,1.2589922916181],[1.011418381255816,1.29920358509913,1.586988788942443],[0.7800837328332957,1.022400429214004,1.264717125594712],[1.289689377072162,1.617526070044859,1.945362763017555],[2.537822371778085,3.402535030441562,4.26724768910504],[2.381508211714848,3.537415210347976,4.693322208981104],[0.8707996494707224,1.608775620912984,2.346751592355245],[1.090778030995462,1.283053488626967,1.475328946258472],[1.773986000380684,2.135057298806462,2.496128597232241],[0.7698604135625956,1.350397370157451,1.930934326752306],[1.278120039607334,2.24475473122005,3.211389422832766],[0.9153427007216444,1.163658993087546,1.411975285453447],[0.6066562747676256,2.015551919484661,3.424447564201696],[0.6935056014062244,1.119108281431407,1.54471096145659],[1.473239376061158,2.518275869153712,3.563312362246266],[1.978277447727646,3.018341915450827,4.058406383174008],[2.441396127888669,4.202270699243476,5.963145270598283],[1.41526815174917,2.717958160560496,4.020648169371823],[1.186227168037936,1.318676275928525,1.451125383819114],[0.7589762409630614,0.8545978247684284,0.9502194085737954],[1.199800128270024,1.911609214152733,2.623418300035442],[2.252792259535563,2.87042284185869,3.488053424181817],[1.368397357165397,2.341627256713644,3.314857156261892]]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="forecast" class="section level1">
<h1>Forecast</h1>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
<div id="physical-chemical" class="section level1">
<h1>Physical-chemical</h1>
<div id="chart-p.1" class="section level3">
<h3>Chart P.1</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
<div id="chart-p.2" class="section level3">
<h3>Chart P.2</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
</div>
<div id="biological" class="section level1">
<h1>Biological</h1>
<div id="chart-b.1" class="section level3">
<h3>Chart B.1</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
<div id="chart-b.2" class="section level3">
<h3>Chart B.2</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
</div>
<div id="human-dimensions" class="section level1">
<h1>Human Dimensions</h1>
<div id="chart-h.1" class="section level3">
<h3>Chart H.1</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
<div id="chart-h.2" class="section level3">
<h3>Chart H.2</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
</div>

</div>

<script>
$(document).ready(function() {
  // add bootstrap table styles to pandoc tables
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed table-sm');

  // initialize mathjax
  var script = document.createElement("script");
  script.type = "text/javascript";
  script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
  document.getElementsByTagName("head")[0].appendChild(script);

});
</script>

<script type="text/javascript">
$(document).ready(function () {
  FlexDashboard.init({
    fillPage: false,
    orientation: "columns",
    storyboard: false,
    defaultFigWidth: 576,
    defaultFigHeight: 460,
    defaultFigWidthMobile: 360,
    defaultFigHeightMobile: 460,
    resize_reload: true
  });
  var navbar = $(".navbar").first();
  var body = $("body").first();
  var sidebar = $(".section.sidebar").first();
  function addNavbarPadding() {
    var navHeight = navbar.outerHeight();
    body.css("padding-top", (navHeight + 8) + "px");
    sidebar.css("top", navHeight + "px");
    var resizeEvent = window.document.createEvent("UIEvents");
    resizeEvent.initUIEvent("resize", true, false, window, 0);
    window.dispatchEvent(resizeEvent);
  }
  if (!window.Shiny) setTimeout(addNavbarPadding, 100);
  $(document).on("shiny:idle", function() {
    setTimeout(addNavbarPadding, 50);
  });
});
</script>

</body>
</html>
