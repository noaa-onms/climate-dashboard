<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Stellwagen Bank</title>

<meta property="og:title" content="Stellwagen Bank" />

<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />

<link rel="icon" href="data:image/x-icon;" type="image/x-icon">


<script type="text/javascript">
window.FlexDashboardComponents = [];
</script>

<script src="libs/header-attrs-2.21/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/stickytableheaders-0.1.19/jquery.stickytableheaders.min.js"></script>
<link href="libs/value-box-accent-static-0.6.1.9000/theme-cosmo-value-box.css" rel="stylesheet" />
<link href="libs/flexdashboard-css-0.6.1.9000/flexdashboard.min.css" rel="stylesheet" />
<link href="libs/flexdashboard-css-0.6.1.9000/theme-cosmo.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.2/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.2/leaflet-providers-plugin.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<script id="flexdashboard-navbar" type="application/json">
[
{"title":"Sanctuaries","items":[{"title":"American Samoa","href":"./NMSAS.html"},{"title":"Channel Islands","href":"./CINMS.html"},{"title":"Chumash Proposed Action","href":"./CPNMS.html"},{"title":"Cordell Bank","href":"./CBNMS.html"},{"title":"Florida Keys","href":"./FKNMS.html"},{"title":"Flower Garden Banks","href":"./FGBNMS.html"},{"title":"Gray's Reef","href":"./GRNMS.html"},{"title":"Greater Farallones","href":"./GFNMS.html"},{"title":"Hawaiian Islands Humpback Whale","href":"./HIHWNMS.html"},{"title":"Monitor","href":"./MNMS.html"},{"title":"Monterey Bay","href":"./MBNMS.html"},{"title":"Olympic Coast","href":"./OCNMS.html"},{"title":"Stellwagen Bank","href":"./SBNMS.html"},{"title":"Thunder Bay","href":"./TBNMS.html"}]}
]
</script>
<style type="text/css">
/*
  CSS for flexdashboard.js' use of Sly(). The sizing/position of this CSS needs to be
  applied _before_ flexdashboard.js initializes, which is why this CSS has been pulled
  out from flexdashboard.scss and inlined in the document's head.
*/

.storyboard-nav button {
  background: transparent;
  border: 0;
  opacity: .3;
  outline: none;
  padding: 0;
}

.storyboard-nav button:hover,
.storyboard-nav button:hover {
  opacity: .5;
}

.storyboard-nav button:disabled,
.storyboard-nav button:disabled {
  opacity: .1;
}

.storyboard-nav .sbnext,
.storyboard-nav .sbprev {
  float: left;
  width: 2%;
  height: 120px;
}

.storyboard-nav .sbprev {
  text-align: left;
  width: 2%;
}

.storyboard-nav .sbnext {
  float: right;
  text-align: right;
  margin-right: 8px;
}

.storyboard-nav .sbframelist {
  margin: 0 auto;
  width: 94%;
  height: 120px;
  overflow: hidden;
  text-shadow: none;
  margin-bottom: 8px;
}

.storyboard-nav .sbframelist ul {
  list-style: none;
  margin: 0;
  padding: 0;
  height: 100%;
}

.storyboard-nav .sbframelist ul li {
  float: left;
  width: 270px;
  height: 100%;
  padding: 10px 10px 10px 10px;
  margin-right: 8px;
  text-align: left;
  cursor: pointer;
}

.storyboard-nav .sbframelist ul li:last-child {
  margin-right: 0px;
}

.sbframe-commentary {
  width: 300px;
}

.sbframe-commentary ul {
  padding-left: 22px;
}

.sbframe.active {
  display: flex;
}

.sbframe:not(.active) {
  display: none;
}
</style>


<link rel="stylesheet" href="_style.css" type="text/css" />

</head>

<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container-fluid">
<div class="navbar-header">

<span class="navbar-logo pull-left">
  
</span>
<span class="navbar-brand">
  Stellwagen Bank
  <span class="navbar-author">
        </span>
</span>

<button id="navbar-button" type="button" class="navbar-toggle collapsed pull-right" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>

</div>
<div id="navbar" class="navbar-collapse collapse">
<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right">
</ul>
</div><!--/.nav-collapse-->
</div><!--/.container-->
</div><!--/.navbar-->

<script type="text/javascript">


var FlexDashboard = (function () {

  // initialize options
  var _options = {};

  var FlexDashboard = function() {

    // default options
    _options = $.extend(_options, {
      theme: "cosmo",
      fillPage: false,
      orientation: 'columns',
      storyboard: false,
      defaultFigWidth: 576,
      defaultFigHeight: 461,
      defaultFigWidthMobile: 360,
      defaultFigHeightMobile: 461,
      isMobile: false,
      isPortrait: false,
      resize_reload: true
    });
  };

  function init(options) {

    // extend default options
    $.extend(true, _options, options);

    // add ids to sections that don't have them (pandoc won't assign ids
    // to e.g. sections with titles consisting of only chinese characters)
    var nextId = 1;
    $('.level1:not([id]),.level2:not([id]),.level3:not([id])').each(function() {
      $(this).attr('id', 'dashboard-' + nextId++);
    });

    // find navbar items
    var navbarItems = $('#flexdashboard-navbar');
    if (navbarItems.length)
      navbarItems = JSON.parse(navbarItems.html());
    addNavbarItems(navbarItems);

    // find the main dashboard container
    var dashboardContainer = $('#dashboard-container');

    // resolve mobile classes
    resolveMobileClasses(dashboardContainer);

    // one time global initialization for components
    componentsInit(dashboardContainer);

    // look for a global sidebar
    var globalSidebar = dashboardContainer.find(".section.level1.sidebar");
    if (globalSidebar.length > 0) {

      // global layout for fullscreen displays
      if (!isMobilePhone()) {

         // hoist it up to the top level
         globalSidebar.insertBefore(dashboardContainer);

         // lay it out (set width/positions)
         layoutSidebar(globalSidebar, dashboardContainer);

      // tuck sidebar into first page for mobile phones
      } else {

        // convert it into a level3 section
        globalSidebar.removeClass('sidebar');
        globalSidebar.removeClass('level1');
        globalSidebar.addClass('level3');
        var h1 = globalSidebar.children('h1');
        var h3 = $('<h3></h3>');
        h3.append(h1.contents());
        h3.insertBefore(h1);
        h1.detach();

        // move it into the first page
        var page = dashboardContainer.find('.section.level1').first();
        if (page.length > 0)
          page.prepend(globalSidebar);
      }
    }

    // look for pages to layout
    var pages = $('div.section.level1');
    if (pages.length > 0) {

        // find the navbar and collapse on clicked
        var navbar = $('#navbar');
        navbar.on("click", "a[data-toggle!=dropdown]", null, function () {
           navbar.collapse('hide');
        });

        // envelop the dashboard container in a tab content div
        dashboardContainer.wrapInner('<div class="tab-content"></div>');

        pages.each(function(index) {

          // lay it out
          layoutDashboardPage($(this));

          // add it to the navbar
          addToNavbar($(this), index === 0);

        });

    } else {

      // remove the navbar and navbar button if we don't
      // have any navbuttons
      if (navbarItems.length === 0) {
        $('#navbar').remove();
        $('#navbar-button').remove();
      }

      // add the storyboard class if requested
      if (_options.storyboard)
        dashboardContainer.addClass('storyboard');

      // layout the entire page
      layoutDashboardPage(dashboardContainer);
    }

    // if we are in shiny we need to trigger a window resize event to
    // force correct layout of shiny-bound-output elements
    if (isShinyDoc())
      $(window).trigger('resize');

    // make main components visible
    $('.section.sidebar').css('visibility', 'visible');
    dashboardContainer.css('visibility', 'visible');

    // handle location hash
    handleLocationHash();

    // intialize prism highlighting
    initPrismHighlighting();

    // record mobile and orientation state then register a handler
    // to refresh if resize_reload is set to true and it changes
    _options.isMobile = isMobilePhone();
    _options.isPortrait = isPortrait();
    if (_options.resize_reload) {
      $(window).on('resize', function() {
        if (_options.isMobile !== isMobilePhone() ||
            _options.isPortrait !== isPortrait()) {
          window.location.reload();
        }
      });
    } else {
      // if in desktop mode and resizing to mobile, make sure the heights are 100%
      // This enforces what `fillpage.css` does for "wider" pages.
      // Since we are not reloading once the page becomes small, we need to force the height to 100%
      // This is a new situation introduced when `_options.resize_reload` is `false`
      if (! _options.isMobile) {
        // only add if `fillpage.css` was added in the first place
        if (_options.fillPage) {
          // fillpage.css
          $("html,body,#dashboard").css("height", "100%");
        }
      }
    }
    // trigger layoutcomplete event
    dashboardContainer.trigger('flexdashboard:layoutcomplete');
  }

  function resolveMobileClasses(dashboardContainer) {
     // add top level layout class
    dashboardContainer.addClass(isMobilePhone() ? 'mobile-layout' :
                                                  'desktop-layout');

    // look for .mobile sections and add .no-mobile to their peers
    var mobileSections = $('.section.mobile');
    mobileSections.each(function() {
       var id = $(this).attr('id');
       var nomobileId = id.replace(/-\d+$/, '');
       $('#' + nomobileId).addClass('no-mobile');
    });
  }

  function addNavbarItems(navbarItems) {

    var navbarLeft = $('ul.navbar-left');
    var navbarRight = $('ul.navbar-right');

    for (var i = 0; i<navbarItems.length; i++) {

      // get the item
      var item = navbarItems[i];

      // determine the container
      var container = null;
      if (item.align === "left")
        container = navbarLeft;
      else
        container = navbarRight;

      // navbar menu if we have multiple items
      if (item.items) {
        var menu = navbarMenu(null, item.icon, item.title, container);
        for (var j = 0; j<item.items.length; j++) {
          var subItem = item.items[j];
          var li = $('<li></li>');
          var a = navbarLink(subItem.icon, subItem.title, subItem.href, subItem.target);
          a.removeClass("nav-link").addClass("dropdown-item");
          li.append(a);
          menu.append(li);
        }
      } else {
        var li = $('<li class="nav-item"></li>');
        li.append(navbarLink(item.icon, item.title, item.href, item.target));
        container.append(li);
      }
    }
  }

  // create or get a reference to an existing dropdown menu
  function navbarMenu(id, icon, title, container) {
    var existingMenu = [];
    if (id)
      existingMenu = container.children('#' + id);
    if (existingMenu.length > 0) {
      return existingMenu.children('ul');
    } else {
      var li = $('<li class="nav-item"></li>');
      if (id)
        li.attr('id', id);
      li.addClass('dropdown');
      // auto add "Share" title on mobile if necessary
      if (!title && icon && (icon === "fa-share-alt") && isMobilePhone())
        title = "Share";
      if (title) {
        title = title + ' <span class="caret"></span>';
      }
      var a = navbarLink(icon, title, "#");
      a.addClass('dropdown-toggle');
      a.attr('data-toggle', 'dropdown');
      a.attr('data-bs-toggle', 'dropdown');
      a.attr('role', 'button');
      a.attr('aria-expanded', 'false');
      li.append(a);
      var ul = $('<ul class="dropdown-menu"></ul>');
      ul.attr('role', 'menu');
      li.append(ul);
      container.append(li);
      return ul;
    }
  }

  function addToNavbar(page, active) {

    // capture the id and data-icon attribute (if any)
    var id = page.attr('id');
    var icon = page.attr('data-icon');
    var navmenu = page.attr('data-navmenu');
    var navmenuIcon = page.attr('data-navmenu-icon');

    // get hidden state (transfer this to navbar)
    var hidden = page.hasClass('hidden');
    page.removeClass('hidden');

    // sanitize the id for use with bootstrap tabs
    id = id.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_');
    page.attr('id', id);

    // get the wrapper
    var wrapper = page.closest('.dashboard-page-wrapper');

    // move the id to the wrapper
    page.removeAttr('id');
    wrapper.attr('id', id);

    // add the tab-pane class to the wrapper
    wrapper.addClass('tab-pane');

    // get a reference to the h1, discover its inner contens, then detach it
    var h1 = wrapper.find('h1').first();
    var title = h1.contents();
    h1.detach();

    // create a navbar item
    var li = $('<li></li>');
    var a = navbarLink(icon, title, '#' + id);
    a.attr('data-toggle', 'tab');
    a.attr('data-bs-toggle', 'tab');
    li.append(a);

    // add it to the navbar (or navbar menu if specified)
    var container = $('ul.navbar-left');
    if (navmenu) {
      var menuId = navmenu.replace(/\s+/g, '');
      var menu = navbarMenu(menuId, navmenuIcon, navmenu, container);
      li.find("> a").removeClass("nav-link").addClass("dropdown-item");
      menu.append(li);
    } else {
      li.addClass("nav-item")
      container.append(li);
    }

    // mark active tab and corresponding nav menu item
    if (active)
      $(a).tab("show");

    // hide it if requested
    if (hidden)
      li.addClass('hidden');
  }

  function navbarLink(icon, title, href, target) {

    var a = $('<a class="nav-link"></a>');
    if (icon) {

      // get the name of the icon set and icon
      var dashPos = icon.indexOf("-");
      var iconSet = null;
      var iconSplit = icon.split(" ");
      if (iconSplit.length > 1) {
        iconSet = iconSplit[0];
        icon = iconSplit.slice(1).join(" ");
      } else {
        iconSet = icon.substring(0, dashPos);
      }
      var iconName = icon.substring(dashPos + 1);

      // create the icon
      var iconElement = $('<span class="' + iconSet + ' ' + icon + '"></span>');
      if (title)
        iconElement.css('margin-right', '7px');
      a.append(iconElement);
      // if href is null see if we can auto-generate based on icon (e.g. social)
      if (!href)
        maybeGenerateLinkFromIcon(iconName, a);
    }
    if (title)
      a.append(title);

    // add the href.
    if (href) {
      if (href === "source_embed") {
        a.attr('href', '#');
        a.attr('data-featherlight', "#flexdashboard-source-code");
        a.featherlight({
            beforeOpen: function(event){
              $('body').addClass('unselectable');
            },
            afterClose: function(event){
              $('body').removeClass('unselectable');
            }
        });
      } else {
        a.attr('href', href);
      }
    }

    // add the arget
    if (target)
      a.attr('target', target);

    return a;
  }

  // auto generate a link from an icon name (e.g. twitter) when possible
  function maybeGenerateLinkFromIcon(iconName, a) {

     var serviceLinks = {
      "twitter": "https://twitter.com/share?text=" + encodeURIComponent(document.title) + "&url="+encodeURIComponent(location.href),
      "facebook": "https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(location.href),
      "linkedin": "https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(location.href) + "&title=" + encodeURIComponent(document.title),
      "pinterest": "https://pinterest.com/pin/create/link/?url="+encodeURIComponent(location.href) + "&description=" + encodeURIComponent(document.title)
    };

    var makeSocialLink = function(a, href) {
      a.attr('href', '#');
      a.on('click', function(e) {
        e.preventDefault();
        window.open(href);
      });
    };

    $.each(serviceLinks, function(key, value) {
      if (iconName.indexOf(key) !== -1)
        makeSocialLink(a, value);
    });
  }

  // layout a dashboard page
  function layoutDashboardPage(page) {

    // use a page wrapper so that free form content above the
    // dashboard appears at the top rather than the side (as it
    // would without the wrapper in a column orientation)
    var wrapper = $('<div class="dashboard-page-wrapper"></div>');
    page.wrap(wrapper);

    // if there are no level2 or level3 headers synthesize a level3
    // header to contain the (e.g. frame it, scroll container, etc.)
    var headers = page.find('h2,h3');
    if (headers.length === 0)
      page.wrapInner('<div class="section level3"></div>');

    // hoist up any content before level 2 or level 3 headers
    var children = page.children();
    children.each(function(index) {
      if ($(this).hasClass('level2') || $(this).hasClass('level3'))
        return false;
      $(this).insertBefore(page);
    });

    // determine orientation and fillPage behavior for distinct media
    var orientation, fillPage, storyboard;

    // media: mobile phone
    if (isMobilePhone()) {

      // if there is a sidebar we need to ensure it's content
      // is properly framed as an h3
      var sidebar = page.find('.section.sidebar');
      sidebar.removeClass('sidebar');
      sidebar.wrapInner('<div class="section level3"></div>');
      var h2 = sidebar.find('h2');
      var h3 = $('<h3></h3>');
      h3.append(h2.contents());
      h3.insertBefore(h2);
      h2.detach();

      // wipeout h2 elements then enclose them in a single h2
      var level2 = page.find('div.section.level2');
      level2.each(function() {
        level2.children('h2').remove();
        level2.children().unwrap();
      });
      page.wrapInner('<div class="section level2"></div>');

      // substitute mobile images
      if (isPortrait()) {
        var mobileFigures = $('img.mobile-figure');
        mobileFigures.each(function() {
          // get the src (might be base64 encoded)
          var src = $(this).attr('src');

          // find it's peer
          var id = $(this).attr('data-mobile-figure-id');
          var img = $('img[data-figure-id=' + id + "]");
          img.attr('src', src)
             .attr('width', _options.defaultFigWidthMobile)
             .attr('height', _options.defaultFigHeightMobile);
        });
      }

      // hoist storyboard commentary into it's own section
      if (page.hasClass('storyboard')) {
        var commentaryHR = page.find('div.section.level3 hr');
        commentaryHR.each(function() {
          var commentary = $(this).nextAll().detach();
          var commentarySection = $('<div class="section level3"></div>');
          commentarySection.append(commentary);
          commentarySection.insertAfter($(this).closest('div.section.level3'));
          $(this).remove();
        });
      }

      // force a non full screen layout by columns
      orientation = _options.orientation = 'columns';
      fillPage = _options.fillPage = false;
      storyboard = _options.storyboard = false;

    // media: desktop
    } else {

      // determine orientation
      orientation = page.attr('data-orientation');
      if (orientation !== 'rows' && orientation != 'columns')
        orientation = _options.orientation;

      // determine storyboard mode
      storyboard = page.hasClass('storyboard');

      // fillPage based on options (force for storyboard)
      fillPage = _options.fillPage || storyboard;

      // handle sidebar
      var sidebar = page.find('.section.level2.sidebar');
      if (sidebar.length > 0)
        layoutSidebar(sidebar, page);
    }

    // give it and it's parent divs height: 100% if we are in fillPage mode
    if (fillPage) {
      page.addClass('vertical-layout-fill');
      page.css('height', '100%');
      page.parents('div').css('height', '100%');
    } else {
      page.addClass('vertical-layout-scroll');
    }

    // perform the layout
    if (storyboard)
      layoutPageAsStoryboard(page);
    else if (orientation === 'rows')
      layoutPageByRows(page, fillPage);
    else if (orientation === 'columns')
      layoutPageByColumns(page, fillPage);
  }

  function layoutSidebar(sidebar, content) {

    // get it out of the header hierarchy
    sidebar = sidebar.first();
    if (sidebar.hasClass('level1')) {
      sidebar.removeClass('level1');
      sidebar.children('h1').remove();
    } else if (sidebar.hasClass('level2')) {
      sidebar.removeClass('level2');
      sidebar.children('h2').remove();
    }

    // determine width
    var sidebarWidth = isTablet() ? 220 : 250;
    var dataWidth = parseInt(sidebar.attr('data-width'));
    if (dataWidth)
      sidebarWidth = dataWidth;

    // set the width and shift the page right to accomodate the sidebar
    sidebar.css('width', sidebarWidth + 'px');
    content.css('padding-left', sidebarWidth + 'px');

    // wrap it's contents in a form
    sidebar.wrapInner($('<form></form>'));
  }

  function layoutPageAsStoryboard(page) {

    // create storyboard navigation
    var nav = $('<div class="storyboard-nav"></div>');

    // add navigation buttons
    var prev = $('<button class="sbprev"><i class="fa fa-angle-left"></i></button>');
    nav.append(prev);
    var next= $('<button class="sbnext"><i class="fa fa-angle-right"></i></button>');
    nav.append(next);

    // add navigation frame
    var frameList = $('<div class="sbframelist"></div>');
    nav.append(frameList);
    var ul = $('<ul></ul>');
    frameList.append(ul);

     // find all the level3 sections (those are the storyboard frames)
    var frames = page.find('div.section.level3');
    frames.each(function() {

      // mark it
      $(this).addClass('sbframe');

      // divide it into chart content and (optional) commentary
      $(this).addClass('dashboard-column-orientation');

      // stuff the chart into it's own div w/ flex
      $(this).wrapInner('<div class="sbframe-component"></div>');
      setFlex($(this), 1);
      var frame = $(this).children('.sbframe-component');

      // extract the title from the h3
      var li = $('<li></li>');
      var h3 = frame.children('h3');
      li.append(h3.contents());
      h3.detach();
      ul.append(li);

      // extract commentary
      var hr = frame.children('hr');
      if (hr.length) {
        var commentary = hr.nextAll().detach();
        hr.remove();
        var commentaryFrame = $('<div class="sbframe-commentary"></div>');
        commentaryFrame.addClass('flowing-content-shim');
        commentaryFrame.addClass('flowing-content-container');
        commentaryFrame.append(commentary);
        $(this).append(commentaryFrame);

        // look for a data-commentary-width attribute
        var commentaryWidth = $(this).attr('data-commentary-width');
        if (commentaryWidth)
          commentaryFrame.css('width', commentaryWidth + 'px');
      }

      // layout the chart (force flex)
      var result = layoutChart(frame, true);

      // ice the notes if there are none
      if (!result.notes)
        frame.find('.chart-notes').remove();

      // set flex on chart
      setFlex(frame, 1);
    });

    // create a div to hold all the frames
    var frameContent = $('<div class="sbframe-content"></div>');
    frameContent.addClass('dashboard-row-orientation');
    frameContent.append(frames.detach());

    // row orientation to stack nav and frame content
    page.addClass('dashboard-row-orientation');
    page.append(nav);
    page.append(frameContent);
    setFlex(frameContent, 1);

    // initialize sly
    var sly = new Sly(frameList, {
    		horizontal: true,
    		itemNav: 'basic',
    		smart: true,
    		activateOn: 'click',
    		startAt: 0,
    		scrollBy: 1,
    		activatePageOn: 'click',
    		speed: 200,
    		moveBy: 600,
    		dragHandle: true,
    		dynamicHandle: true,
    		clickBar: true,
    		keyboardNavBy: 'items',
    		next: next,
    		prev: prev
    	}).init();

    // make first frame active
    frames.removeClass('active');
    frames.first().addClass('active');

    // subscribe to frame changed events
    sly.on('active', function (eventName, itemIndex) {
      frames.removeClass('active');
      frames.eq(itemIndex).addClass('active')
                          .trigger('shown');
    });
  }

  function layoutPageByRows(page, fillPage) {

    // row orientation
    page.addClass('dashboard-row-orientation');

    // find all the level2 sections (those are the rows)
    var rows = page.find('div.section.level2');

    // if there are no level2 sections then treat the
    // entire page as if it's a level 2 section
    if (rows.length === 0) {
      page.wrapInner('<div class="section level2"></div>');
      rows = page.find('div.section.level2');
    }

    rows.each(function () {

      // flags
      var haveNotes = false;
      var haveFlexHeight = true;

      // remove the h2
      $(this).children('h2').remove();

      // check for a tabset
      var isTabset = $(this).hasClass('tabset');
      if (isTabset)
        layoutTabset($(this));

      // give it row layout semantics if it's not a tabset
      if (!isTabset)
        $(this).addClass('dashboard-row');

      // find all of the level 3 subheads
      var columns = $(this).find('div.section.level3');

      // determine figureSizes sizes
      var figureSizes = chartFigureSizes(columns);

      // fixup the columns
      columns.each(function(index) {

        // layout the chart (force flex if we are in a tabset)
        var result = layoutChart($(this), isTabset);

        // update flexHeight state
        if (!result.flex)
          haveFlexHeight = false;

        // update state
        if (result.notes)
          haveNotes = true;

        // set the column flex based on the figure width
        // (value boxes will just get the default figure width)
        var chartWidth = figureSizes[index].width;
        setFlex($(this), chartWidth + ' ' + chartWidth + ' 0px');

      });

      // remove empty chart note divs
      if (isTabset)
        $(this).find('.chart-notes').filter(function() {
            return $(this).html() === "&nbsp;";
        }).remove();
      if (!haveNotes)
        $(this).find('.chart-notes').remove();

       // make it a flexbox row
      if (haveFlexHeight)
        $(this).addClass('dashboard-row-flex');

      // now we can set the height on all the wrappers (based on maximum
      // figure height + room for title and notes, or data-height on the
      // container if specified). However, don't do this if there is
      // no flex on any of the constituent columns
      var flexHeight = null;
      var dataHeight = parseInt($(this).attr('data-height'));
      if (dataHeight)
        flexHeight = adjustedHeight(dataHeight, columns.first());
      else if (haveFlexHeight)
        flexHeight = maxChartHeight(figureSizes, columns);
      if (flexHeight) {
        if (fillPage)
          setFlex($(this), flexHeight + ' ' + flexHeight + ' 0px');
        else {
          $(this).css('height', flexHeight + 'px');
          setFlex($(this), '0 0 ' + flexHeight + 'px');
        }
      }

    });
  }

  function layoutPageByColumns(page, fillPage) {

    // column orientation
    page.addClass('dashboard-column-orientation');

    // find all the level2 sections (those are the columns)
    var columns = page.find('div.section.level2');

    // if there are no level2 sections then treat the
    // entire page as if it's a level 2 section
    if (columns.length === 0) {
      page.wrapInner('<div class="section level2"></div>');
      columns = page.find('div.section.level2');
    }

    // layout each column
    columns.each(function (index) {

      // remove the h2
      $(this).children('h2').remove();

      // make it a flexbox column
      $(this).addClass('dashboard-column');

      // check for a tabset
      var isTabset = $(this).hasClass('tabset');
      if (isTabset)
        layoutTabset($(this));

      // find all the h3 elements
      var rows = $(this).find('div.section.level3');

      // get the figure sizes for the rows
      var figureSizes = chartFigureSizes(rows);

      // column flex is the max row width (or data-width if specified)
      var flexWidth;
      var dataWidth = parseInt($(this).attr('data-width'));
      if (dataWidth)
        flexWidth = dataWidth;
      else
        flexWidth = maxChartWidth(figureSizes);
      setFlex($(this), flexWidth + ' ' + flexWidth + ' 0px');

      // layout each chart
      rows.each(function(index) {

        // perform the layout
        var result = layoutChart($(this), false);

        // ice the notes if there are none
        if (!result.notes)
          $(this).find('.chart-notes').remove();

        // set flex height based on figHeight, then adjust
        if (result.flex) {
          var chartHeight = figureSizes[index].height;
          chartHeight = adjustedHeight(chartHeight, $(this));
          if (fillPage)
            setFlex($(this), chartHeight + ' ' + chartHeight + ' 0px');
          else {
            $(this).css('height', chartHeight + 'px');
            setFlex($(this), chartHeight + ' ' + chartHeight + ' ' + chartHeight + 'px');
          }
        }
      });
    });
  }

  function chartFigureSizes(charts) {

    // sizes
    var figureSizes = new Array(charts.length);

    // check each chart
    charts.each(function(index) {

      // start with default
      figureSizes[index] = {
        width: _options.defaultFigWidth,
        height: _options.defaultFigHeight
      };

      // look for data-height or data-width then knit options
      var dataWidth = parseInt($(this).attr('data-width'));
      var dataHeight = parseInt($(this).attr('data-height'));
      var knitrOptions = $(this).find('.knitr-options:first');
      var knitrWidth, knitrHeight;
      if (knitrOptions) {
        knitrWidth = parseInt(knitrOptions.attr('data-fig-width'));
        knitrHeight =  parseInt(knitrOptions.attr('data-fig-height'));
      }

      // width
      if (dataWidth)
        figureSizes[index].width = dataWidth;
      else if (knitrWidth)
        figureSizes[index].width = knitrWidth;

      // height
      if (dataHeight)
        figureSizes[index].height = dataHeight;
      else if (knitrHeight)
        figureSizes[index].height = knitrHeight;
    });

    // return sizes
    return figureSizes;
  }

  function maxChartHeight(figureSizes, charts) {

    // first compute the maximum height
    var maxHeight = _options.defaultFigHeight;
    for (var i = 0; i<figureSizes.length; i++)
      if (figureSizes[i].height > maxHeight)
        maxHeight = figureSizes[i].height;

    // now add offests for chart title and chart notes
    if (charts.length)
      maxHeight = adjustedHeight(maxHeight, charts.first());

    return maxHeight;
  }

  function adjustedHeight(height, chart) {
    if (chart.length > 0) {
      var chartTitle = chart.find('.chart-title');
      if (chartTitle.length)
        height += chartTitle.first().outerHeight();
      var chartNotes = chart.find('.chart-notes');
      if (chartNotes.length)
        height += chartNotes.first().outerHeight();
    }
    return height;
  }

  function maxChartWidth(figureSizes) {
    var maxWidth = _options.defaultFigWidth;
    for (var i = 0; i<figureSizes.length; i++)
      if (figureSizes[i].width > maxWidth)
        maxWidth = figureSizes[i].width;
    return maxWidth;
  }

  // layout a chart
  function layoutChart(chart, forceFlex) {

    // state to return
    var result = {
      notes: false,
      flex: false
    };

    // extract the title
    var title = extractTitle(chart);

    // find components that apply to this container
    var components = componentsFind(chart);

    // if it's a custom component then call it and return
    var customComponents = componentsCustom(components);
    if (customComponents.length) {
      componentsLayout(customComponents, title, chart);
      result.notes = false;
      result.flex = forceFlex || componentsFlex(customComponents);
      return result;
    }

    // put all the content in a chart wrapper div
    chart.addClass('chart-wrapper');
    chart.wrapInner('<div class="chart-stage"></div>');
    var chartContent = chart.children('.chart-stage');

    // flex the content if appropriate
    result.flex = forceFlex || componentsFlex(components);
    if (result.flex) {
      // add flex classes
      chart.addClass('chart-wrapper-flex');
      chartContent.addClass('chart-stage-flex');

      // additional shim to break out of flexbox sizing
      chartContent.wrapInner('<div class="chart-shim"></div>');
      chartContent = chartContent.children('.chart-shim');
    }

    // set custom data-padding attribute
    var pad = chart.attr('data-padding');
    if (pad) {
      if (pad === "0")
        chart.addClass('no-padding');
      else {
        pad = pad + 'px';
        chartContent.css('left', pad)
                    .css('top', pad)
                    .css('right', pad)
                    .css('bottom', pad)
      }
    }

    // call compoents
    componentsLayout(components, title, chartContent);

    // also activate components on shiny output
    findShinyOutput(chartContent).on('shiny:value',
      function(event) {
        var element = $(event.target);
        setTimeout(function() {

          // see if we opted out of flex based on our output (for shiny
          // we can't tell what type of output we have until after the
          // value is bound)
          var components = componentsFind(element);
          var flex = forceFlex || componentsFlex(components);
          if (!flex) {
            chart.css('height', "");
            setFlex(chart, "");
            chart.removeClass('chart-wrapper-flex');
            chartContent.removeClass('chart-stage-flex');
            chartContent.children().unwrap();
          }

          // perform layout
          componentsLayout(components, title, element.parent());
        }, 10);
      });

    // add the title
    var chartTitle = $('<div class="chart-title"></div>');
    chartTitle.append(title);
    chart.prepend(chartTitle);

    // add the notes section
    var chartNotes = $('<div class="chart-notes"></div>');
    chartNotes.html('&nbsp;');
    chart.append(chartNotes);

    // attempt to extract notes if we have a component
    if (components.length)
      result.notes = extractChartNotes(chartContent, chartNotes);

    // return result
    return result;
  }

  // build a tabset from a section div with the .tabset class
  function layoutTabset(tabset) {

    // check for fade option
    var fade = tabset.hasClass("tabset-fade");
    var pills = tabset.hasClass("tabset-pills");
    var navClass = pills ? "nav-pills" : "nav-tabs";

    // determine the heading level of the tabset and tabs
    var match = tabset.attr('class').match(/level(\d) /);
    if (match === null)
      return;
    var tabsetLevel = Number(match[1]);
    var tabLevel = tabsetLevel + 1;

    // find all subheadings immediately below
    var tabs = tabset.find("div.section.level" + tabLevel);
    if (!tabs.length)
      return;

    // create tablist and tab-content elements
    var tabList = $('<ul class="nav ' + navClass + '" role="tablist"></ul>');
    $(tabs[0]).before(tabList);
    var tabContent = $('<div class="tab-content"></div>');
    $(tabs[0]).before(tabContent);

    // build the tabset
    var activeTab = 0;
    tabs.each(function(i) {

      // get the tab div
      var tab = $(tabs[i]);

      // get the id then sanitize it for use with bootstrap tabs
      var id = tab.attr('id');

      // see if this is marked as the active tab
      if (tab.hasClass('active'))
        activeTab = i;

      // sanitize the id for use with bootstrap tabs
      id = id.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_');
      tab.attr('id', id);

      // get the heading element within it and grab it's text
      var heading = tab.find('h' + tabLevel + ':first');
      var headingDom = heading.contents();

      // build and append the tab list item
      var a = $('<a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link"></a>');
      a.append(headingDom);
      a.attr('href', '#' + id);
      a.attr('aria-controls', id);
      var li = $('<li role="presentation" class="nav-item"></li>');
      li.append(a);
      tabList.append(li);

      // set it's attributes
      tab.attr('role', 'tabpanel');
      tab.addClass('tab-pane');
      tab.addClass('tabbed-pane');
      tab.addClass('no-title');
      if (fade)
        tab.addClass('fade');

      // move it into the tab content div
      tab.detach().appendTo(tabContent);
    });

    // set active tab
    $(tabList.children()[activeTab]).tab("show");
    var active = $(tabContent.children('div.section')[activeTab]);
    active.addClass('active');
    if (fade)
      active.addClass('in');

    // add nav-tabs-custom
    tabset.addClass('nav-tabs-custom');

    // internal layout is dashboard-column with tab-content flexing
    tabset.addClass('dashboard-column');
    setFlex(tabContent, 1);
  }

  // one time global initialization for components
  function componentsInit(dashboardContainer) {
    for (var i=0; i<window.FlexDashboardComponents.length; i++) {
      var component = window.FlexDashboardComponents[i];
      if (component.init)
        component.init(dashboardContainer);
    }
  }

  // find components that apply within a container
  function componentsFind(container) {

    // look for components
    var components = [];
    for (var i=0; i<window.FlexDashboardComponents.length; i++) {
      var component = window.FlexDashboardComponents[i];
      if (component.find(container).length)
        components.push(component);
    }

    // if there were none then use a special flowing content component
    // that just adds a scrollbar in fillPage mode
    if (components.length == 0) {
      components.push({
        find: function(container) {
          return container;
        },

        flex: function(fillPage) {
          return fillPage;
        },

        layout: function(title, container, element, fillPage) {
          if (fillPage) {
            container.addClass('flowing-content-shim');
            container.addClass('flowing-content-container');
          }
        }
      });
    }

    return components;
  }

  // if there is a custom component then pick it out
  function componentsCustom(components) {
    var customComponent = [];
    for (var i=0; i<components.length; i++)
      if (components[i].type === "custom") {
        customComponent.push(components[i]);
        break;
      }
    return customComponent;
  }

  // query all components for flex
  function componentsFlex(components) {

    // no components at all means no flex
    if (components.length === 0)
      return false;

    // otherwise query components (assume true unless we see false)
    var isMobile = isMobilePhone();
    for (var i=0; i<components.length; i++)
      if (components[i].flex && !components[i].flex(_options.fillPage))
        return false;
    return true;
  }

  // layout all components
  function componentsLayout(components, title, container) {
    var isMobile = isMobilePhone();
    for (var i=0; i<components.length; i++) {
      var element = components[i].find(container);
      if (components[i].layout) {
        // call layout (don't call other components if it returns false)
        var result = components[i].layout(title, container, element, _options.fillPage);
        if (result === false)
          return;
      }
    }
  }

  // get a reference to the h3, discover it's inner html, and remove it
  function extractTitle(container) {
    var h3 = container.children('h3').first();
    var title = '';
    if (!container.hasClass('no-title'))
      title = h3.contents();
    h3.detach();
    return title;
  }

  // extract chart notes
  function extractChartNotes(chartContent, chartNotes) {
    // look for a terminating blockquote or image caption
    var blockquote = chartContent.children('blockquote:last-child');
    var caption = chartContent.children('div.image-container')
                              .children('p.caption');
    if (blockquote.length) {
      chartNotes.empty().append(blockquote.children('p:first-child').contents());
      blockquote.remove();
      return true;
    } else if (caption.length) {
      chartNotes.empty().append(caption.contents());
      caption.remove();
      return true;
    } else {
      return false;
    }
  }

  function findShinyOutput(chartContent) {
    return chartContent.find('.shiny-text-output, .shiny-html-output');
  }

  // safely detect rendering on a mobile phone
  function isMobilePhone() {
    try
    {
      return ! window.matchMedia("only screen and (min-width: 768px)").matches;
    }
    catch(e) {
      return false;
    }
  }

  function isFillPage() {
    return _options.fillPage;
  }

  // detect portrait mode
  function isPortrait() {
    return ($(window).width() < $(window).height());
  }

  // safely detect rendering on a tablet
  function isTablet() {
    try
    {
      return window.matchMedia("only screen and (min-width: 769px) and (max-width: 992px)").matches;
    }
    catch(e) {
      return false;
    }
  }

  // test whether this is a shiny doc
  function isShinyDoc() {
    return (typeof(window.Shiny) !== "undefined" && !!window.Shiny.outputBindings);
  }

  // set flex using vendor specific prefixes
  function setFlex(el, flex) {
    el.css('-webkit-box-flex', flex)
      .css('-webkit-flex', flex)
      .css('-ms-flex', flex)
      .css('flex', flex);
  }

  // support bookmarking of pages
  function handleLocationHash() {

    // restore tab/page from bookmark
    var hash = window.decodeURIComponent(window.location.hash);
    if (hash.length > 0) {
      // Update the tab without .showPage() so that we don't change page history
      $('ul.nav a[href="' + hash + '"]').tab('show');
    }

    // navigate to a tab when the history changes
    window.addEventListener("popstate", function(e) {
      var hash = window.decodeURIComponent(window.location.hash);
      var activeTab = $('ul.nav a[href="' + hash + '"]');
      if (activeTab.length) {
        activeTab.tab('show');
      } else {
        // returning to the base page URL without a hash activates first tab
        $('ul.nav a:first').tab('show');
      }
    });

    // add a hash to the URL when the user clicks on a tab/page
    $('.navbar-nav a[data-toggle="tab"]').on('click', function(e) {
      var baseUrl = FlexDashboardUtils.urlWithoutHash(window.location.href);
      var hash = FlexDashboardUtils.urlHash($(this).attr('href'));
      var href = baseUrl + hash;
      FlexDashboardUtils.setLocation(href);
    });

    // handle clicks of other links that should activate pages
    var navPages = $('ul.navbar-nav li a[data-toggle=tab]');
    navPages.each(function() {
      var href =  $(this).attr('href');
      var links = $('a[href="' + href + '"][data-toggle!=tab]');
      links.each(function() {
        $(this).on('click', function(e) {
          window.FlexDashboardUtils.showPage(href);
        });
      });
    });
  }

  // tweak Prism highlighting
  function initPrismHighlighting() {

    if (window.Prism) {
      Prism.languages.insertBefore('r', 'comment', {
        'heading': [
          {
            // title 1
        	  // =======

        	  // title 2
        	  // -------
        	  pattern: /\w+.*(?:\r?\n|\r)(?:====+|----+)/,
            alias: 'operator'
          },
          {
            // ### title 3
            pattern: /(^\s*)###[^#].+/m,
            lookbehind: true,
            alias: 'operator'
          }
        ]
      });

      // prism highlight
      Prism.highlightAll();
    }
  }

  FlexDashboard.prototype = {
    constructor: FlexDashboard,
    init: init,
    isMobilePhone: isMobilePhone,
    isFillPage: isFillPage
  };

  return FlexDashboard;

})();

// utils
window.FlexDashboardUtils = {
  resizableImage: function(img) {
    var src = img.attr('src');
    var url = 'url("' + src + '")';
    img.parent().css('background', url)
                .css('background-size', 'contain')
                .css('background-repeat', 'no-repeat')
                .css('background-position', 'center')
                .addClass('image-container');
  },
  setLocation: function(href) {
    if (history && history.pushState) {
      history.pushState(null, null, href);
    } else {
      window.location.replace(href);
    }
    setTimeout(function() {
        window.scrollTo(0, 0);
    }, 10);
  },
  showPage: function(href) {
    $('ul.navbar-nav li a[href="' + href + '"]').tab('show');
    var baseUrl = this.urlWithoutHash(window.location.href);
    var loc = baseUrl + href;
    this.setLocation(loc);
  },
  showLinkedValue: function(href) {
    // check for a page link
    if ($('ul.navbar-nav li a[data-toggle=tab][href="' + href + '"]').length > 0)
      this.showPage(href);
    else
      window.open(href);
  },
  urlWithoutHash: function(url) {
    var hashLoc = url.indexOf('#');
    if (hashLoc != -1)
      return url.substring(0, hashLoc);
    else
      return url;
  },
  urlHash: function(url) {
    var hashLoc = url.indexOf('#');
    if (hashLoc != -1)
      return url.substring(hashLoc);
    else
      return "";
  }
};

window.FlexDashboard = new FlexDashboard();

// empty content
window.FlexDashboardComponents.push({
  find: function(container) {
    if (container.find('p').length == 0)
      return container;
    else
      return $();
  }
})

// plot image
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('p')
                    .children('img:only-child');
  },

  layout: function(title, container, element, fillPage) {
    FlexDashboardUtils.resizableImage(element);
  }
});

// plot image (figure style)
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('div.figure').children('img');
  },

  layout: function(title, container, element, fillPage) {
    FlexDashboardUtils.resizableImage(element);
  }
});

// htmlwidget
window.FlexDashboardComponents.push({

  init: function(dashboardContainer) {
    // trigger "shown" after initial layout to force static htmlwidgets
    // in runtime: shiny to be resized after the dom has been transformed
    dashboardContainer.on('flexdashboard:layoutcomplete', function(event) {
      setTimeout(function() {
        dashboardContainer.trigger('shown');
      }, 200);
    });
  },

  find: function(container) {
    return container.children('div[id^="htmlwidget-"],div.html-widget');
  }
});

// gauge
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('div.html-widget.gauge');
  },

  flex: function(fillPage) {
    return false;
  },

  layout: function(title, container, element, fillPage) {


  }

});

// shiny output
window.FlexDashboardComponents.push({
  find: function(container) {
    return container.children('div[class^="shiny-"]');
  }
});

// bootstrap table
window.FlexDashboardComponents.push({

  find: function(container) {
    var bsTable = container.find('table.table');
    if (bsTable.length !== 0)
      return bsTable;
    else
      return container.find('tr.header').parent('thead').parent('table');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {

    // alias variables
    var bsTable = element;

    // fixup xtable generated tables with a proper thead
    var headerRow = bsTable.find('tbody > tr:first-child > th').parent();
    if (headerRow.length > 0) {
      var thead = $('<thead></thead>');
      bsTable.prepend(thead);
      headerRow.detach().appendTo(thead);
    }

    // improve appearance
    container.addClass('bootstrap-table');

    // for fill page provide scrolling w/ sticky headers
    if (fillPage) {
      // force scrollbar on overflow
      container.addClass('flowing-content-shim');

      // stable table headers when scrolling
      bsTable.stickyTableHeaders({
        scrollableArea: container
      });
    }
  }
});

// embedded shiny app
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.find('iframe.shiny-frame');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {
    if (fillPage) {
      element.attr('height', '100%');
    } else {
      // provide default height if necessary
      var height = element.get(0).style.height;
      if (!height)
        height = element.attr('height');
      if (!height)
        element.attr('height', 500);
    }
  }
});

// shiny fillRow or fillCol
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.find('.flexfill-container');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {
    if (fillPage)
      element.css('height', '100%');
    else {
      // provide default height if necessary
      var height = element.get(0).style.height;
      if (height === "100%" || height === "auto" || height === "initial" ||
          height === "inherit" || !height) {
        element.css('height', 500);
      }
    }
  }
});

// valueBox
window.FlexDashboardComponents.push({

  type: "custom",

  find: function(container) {
    if (container.find('span.value-output, .shiny-valuebox-output').length)
      return container;
    else
      return $();
  },

  flex: function(fillPage) {
    return false;
  },

  layout: function(title, container, element, fillPage) {

    // alias variables
    var chartTitle = title;
    var valueBox = element;

    // add value-box class to container
    container.addClass('value-box');

    // value paragraph
    var value = $('<p class="value"></p>');

    // if we have shiny-text-output then just move it in
    var valueOutputSpan = [];
    var shinyOutput = valueBox.find('.shiny-valuebox-output').detach();
    if (shinyOutput.length) {
      valueBox.children().remove();
      shinyOutput.html("&mdash;");
      value.append(shinyOutput);
    } else {
      // extract the value (remove leading vector index)
      var chartValue = valueBox.text().trim();
      chartValue = chartValue.replace("[1] ", "");
      valueOutputSpan = valueBox.find('span.value-output').detach();
      valueBox.children().remove();
      value.text(chartValue);
    }

    // caption
    var caption = $('<p class="caption"></p>');
    caption.append(chartTitle);

    // build inner div for value box and add it
    var inner = $('<div class="inner"></div>');
    inner.append(value);
    inner.append(caption);
    valueBox.append(inner);

    // add icon if specified
    var icon = $('<div class="icon"><i></i></div>');
    valueBox.append(icon);
    function setIcon(chartIcon) {
      var iconLib = "";
      var iconSplit = chartIcon.split(" ");
      if (iconSplit.length > 1) {
        iconLib = iconSplit[0];
        chartIcon = iconSplit.slice(1).join(" ");
      } else {
        var components = chartIcon.split("-");
        if (components.length > 1)
          iconLib = components[0];
      }
      icon.children('i').attr('class', iconLib + ' ' + chartIcon);
    }
    var chartIcon = valueBox.attr('data-icon');
    if (chartIcon)
      setIcon(chartIcon);

    // handle data attributes in valueOutputSpan
    function handleValueOutput(valueOutput) {

      // caption
      var dataCaption = valueOutput.attr('data-caption');
      if (dataCaption)
        caption.html(dataCaption);

      // icon
      var dataIcon = valueOutput.attr('data-icon');
      if (dataIcon)
        setIcon(dataIcon);

      // If valueBox(color=) was an accent color, this attr should
      // be populated with the accent color and the relevant CSS comes
      // in through HTML dependencies
      var dataColorAccent = valueOutput.attr('data-color-accent');
      var valueBoxClasses = "value-box-" + (["primary", "info", "danger", "warning", "success"].join(" value-box-"));
      if (dataColorAccent) {
        valueBox.removeClass(valueBoxClasses);
        valueBox.addClass('value-box-' + dataColorAccent);
      }

      // If valueBox(color=) was a CSS color, these other data-color-*
      // attrs will be populated
      var dataColor = valueOutput.attr('data-color');
      if (dataColor) {
        valueBox.removeClass(valueBoxClasses);
        valueBox.css('background-color', dataColor);
      }
      var dataColorText = valueOutput.attr('data-color-text');
      if (dataColorText) {
        valueBox.find(".inner").css('color', dataColorText);
      }
      var dataColorIcon = valueOutput.attr('data-color-icon');
      if (dataColorIcon) {
        valueBox.find(".icon").css('color', dataColorIcon);
      }

      // url
      var dataHref = valueOutput.attr('data-href');
      if (dataHref) {
        valueBox.addClass('linked-value');
        valueBox.off('click.value-box');
        valueBox.on('click.value-box', function(e) {
          window.FlexDashboardUtils.showLinkedValue(dataHref);
        });
      }
    }

    // check for a valueOutputSpan
    if (valueOutputSpan.length > 0) {
      handleValueOutput(valueOutputSpan);
    }

    // if we have a shinyOutput then bind a listener to handle
    // new valueOutputSpan values
    shinyOutput.on('shiny:value',
      function(event) {
        var element = $(event.target);
        setTimeout(function() {
          var valueOutputSpan = element.find('span.value-output');
          if (valueOutputSpan.length > 0)
            handleValueOutput(valueOutputSpan);
        }, 10);
      }
    );
  }
});
</script>

<div id="dashboard-container">

<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div id="map" class="section level1 sidebar" data-width="200">
<h1 class="sidebar">Map</h1>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div id="htmlwidget-1c73fca2ead2c6ee1e92" style="width:100%;height:95vh;" class="leaflet html-widget "></div>
<script type="application/json" data-for="htmlwidget-1c73fca2ead2c6ee1e92">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.OceanBasemap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false,"variant":"Ocean/World_Ocean_Base"}]},{"method":"addProviderTiles","args":["Esri.OceanBasemap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false,"variant":"Ocean/World_Ocean_Reference"}]},{"method":"addPolygons","args":[[[[{"lng":[-70.5026211638085,-70.5013015638659,-70.5013180918313,-70.5058763813936,-70.5158680975916,-70.5284293738701,-70.5417879616627,-70.5555771094719,-70.572535802433,-70.5838775955699,-70.586974822815,-70.5973663102738,-70.4704323410657,-70.2780037462046,-70.2558479494516,-70.2388922123962,-70.2170697366174,-70.1960471919709,-70.1729163405436,-70.1549660589103,-70.1400463265967,-70.1238849557436,-70.1060679302054,-70.0865842759506,-70.0670701164006,-70.0543430182692,-70.0350637207954,-70.2166402161426,-70.5026211638085],"lat":[42.6512291980753,42.6424459708021,42.633118291418,42.6210711753564,42.6065073870497,42.5950407728794,42.5878963386425,42.580754673613,42.5752213149529,42.5634686090356,42.5584964299171,42.5510749574145,42.1292384746495,42.115232625591,42.1243491301557,42.1296990631297,42.1333907089025,42.1320990704501,42.1348101681939,42.1334185384463,42.1285269362881,42.1267547496236,42.1203798371099,42.1175187758858,42.1083031091697,42.1051704529701,42.0932996476337,42.7667152248554,42.6512291980753]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Stellwagen Bank",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[42.0932996476337,42.7667152248554],"lng":[-70.5973663102738,-70.0350637207954]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="climatological" class="section level1">
<h1>Climatological</h1>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div id="sea-surface-temperature" class="section level3"
data-height="300">
<h3>Sea Surface Temperature</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<details>
<summary>
<span style="color: #737373; font-size: 12px">Metadata</span>
</summary>
<p>The ERDDAP dataset for <a
href="https://upwell.pfeg.noaa.gov/erddap/griddap/jplMURSST41mday.html">sst</a>
was extracted using <a
href="https://github.com/noaa-onms/climate-dashboard/blob/main/scripts/get_data.R">get_data.R</a>
for the Stellwagen Bank polygon and output to <a
href="https://raw.githubusercontent.com/noaa-onms/climate-dashboard/main/data/sst/SBNMS.csv">SBNMS.csv</a>,
which gets visualized below using <a
href="https://marinebon.github.io/extractr/reference/plot_ts.html"><code>extractr::plot_ts()</code></a>.</p>
</details>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="dygraphs html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-f7cb45a32c428d03ae16" style="width:576px;height:460.8px;"></div>
<script type="application/json" data-for="htmlwidget-f7cb45a32c428d03ae16">{"x":{"attrs":{"xlabel":"Date","ylabel":"Temperature (C)","labels":["month","Temperature (C)"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}},"colors":["red","red"],"customBars":true,"series":{"Temperature (C)":{"axis":"y"}}},"scale":"monthly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2002-06-16T00:00:00.000Z","2002-07-16T00:00:00.000Z","2002-08-16T00:00:00.000Z","2002-09-16T00:00:00.000Z","2002-10-16T00:00:00.000Z","2002-11-16T00:00:00.000Z","2002-12-16T00:00:00.000Z","2003-01-16T00:00:00.000Z","2003-02-16T00:00:00.000Z","2003-03-16T00:00:00.000Z","2003-04-16T00:00:00.000Z","2003-05-16T00:00:00.000Z","2003-06-16T00:00:00.000Z","2003-07-16T00:00:00.000Z","2003-08-16T00:00:00.000Z","2003-09-16T00:00:00.000Z","2003-10-16T00:00:00.000Z","2003-11-16T00:00:00.000Z","2003-12-16T00:00:00.000Z","2004-01-16T00:00:00.000Z","2004-02-16T00:00:00.000Z","2004-03-16T00:00:00.000Z","2004-04-16T00:00:00.000Z","2004-05-16T00:00:00.000Z","2004-06-16T00:00:00.000Z","2004-07-16T00:00:00.000Z","2004-08-16T00:00:00.000Z","2004-09-16T00:00:00.000Z","2004-10-16T00:00:00.000Z","2004-11-16T00:00:00.000Z","2004-12-16T00:00:00.000Z","2005-01-16T00:00:00.000Z","2005-02-16T00:00:00.000Z","2005-03-16T00:00:00.000Z","2005-04-16T00:00:00.000Z","2005-05-16T00:00:00.000Z","2005-06-16T00:00:00.000Z","2005-07-16T00:00:00.000Z","2005-08-16T00:00:00.000Z","2005-09-16T00:00:00.000Z","2005-10-16T00:00:00.000Z","2005-11-16T00:00:00.000Z","2005-12-16T00:00:00.000Z","2006-01-16T00:00:00.000Z","2006-02-16T00:00:00.000Z","2006-03-16T00:00:00.000Z","2006-04-16T00:00:00.000Z","2006-05-16T00:00:00.000Z","2006-06-16T00:00:00.000Z","2006-07-16T00:00:00.000Z","2006-08-16T00:00:00.000Z","2006-09-16T00:00:00.000Z","2006-10-16T00:00:00.000Z","2006-11-16T00:00:00.000Z","2006-12-16T00:00:00.000Z","2007-01-16T00:00:00.000Z","2007-02-16T00:00:00.000Z","2007-03-16T00:00:00.000Z","2007-04-16T00:00:00.000Z","2007-05-16T00:00:00.000Z","2007-06-16T00:00:00.000Z","2007-07-16T00:00:00.000Z","2007-08-16T00:00:00.000Z","2007-09-16T00:00:00.000Z","2007-10-16T00:00:00.000Z","2007-11-16T00:00:00.000Z","2007-12-16T00:00:00.000Z","2008-01-16T00:00:00.000Z","2008-02-16T00:00:00.000Z","2008-03-16T00:00:00.000Z","2008-04-16T00:00:00.000Z","2008-05-16T00:00:00.000Z","2008-06-16T00:00:00.000Z","2008-07-16T00:00:00.000Z","2008-08-16T00:00:00.000Z","2008-09-16T00:00:00.000Z","2008-10-16T00:00:00.000Z","2008-11-16T00:00:00.000Z","2008-12-16T00:00:00.000Z","2009-01-16T00:00:00.000Z","2009-02-16T00:00:00.000Z","2009-03-16T00:00:00.000Z","2009-04-16T00:00:00.000Z","2009-05-16T00:00:00.000Z","2009-06-16T00:00:00.000Z","2009-07-16T00:00:00.000Z","2009-08-16T00:00:00.000Z","2009-09-16T00:00:00.000Z","2009-10-16T00:00:00.000Z","2009-11-16T00:00:00.000Z","2009-12-16T00:00:00.000Z","2010-01-16T00:00:00.000Z","2010-02-16T00:00:00.000Z","2010-03-16T00:00:00.000Z","2010-04-16T00:00:00.000Z","2010-05-16T00:00:00.000Z","2010-06-16T00:00:00.000Z","2010-07-16T00:00:00.000Z","2010-08-16T00:00:00.000Z","2010-09-16T00:00:00.000Z","2010-10-16T00:00:00.000Z","2010-11-16T00:00:00.000Z","2010-12-16T00:00:00.000Z","2011-01-16T00:00:00.000Z","2011-02-16T00:00:00.000Z","2011-03-16T00:00:00.000Z","2011-04-16T00:00:00.000Z","2011-05-16T00:00:00.000Z","2011-06-16T00:00:00.000Z","2011-07-16T00:00:00.000Z","2011-08-16T00:00:00.000Z","2011-09-16T00:00:00.000Z","2011-10-16T00:00:00.000Z","2011-11-16T00:00:00.000Z","2011-12-16T00:00:00.000Z","2012-01-16T00:00:00.000Z","2012-02-16T00:00:00.000Z","2012-03-16T00:00:00.000Z","2012-04-16T00:00:00.000Z","2012-05-16T00:00:00.000Z","2012-06-16T00:00:00.000Z","2012-07-16T00:00:00.000Z","2012-08-16T00:00:00.000Z","2012-09-16T00:00:00.000Z","2012-10-16T00:00:00.000Z","2012-11-16T00:00:00.000Z","2012-12-16T00:00:00.000Z","2013-01-16T00:00:00.000Z","2013-02-16T00:00:00.000Z","2013-03-16T00:00:00.000Z","2013-04-16T00:00:00.000Z","2013-05-16T00:00:00.000Z","2013-06-16T00:00:00.000Z","2013-07-16T00:00:00.000Z","2013-08-16T00:00:00.000Z","2013-09-16T00:00:00.000Z","2013-10-16T00:00:00.000Z","2013-11-16T00:00:00.000Z","2013-12-16T00:00:00.000Z","2014-01-16T00:00:00.000Z","2014-02-16T00:00:00.000Z","2014-03-16T00:00:00.000Z","2014-04-16T00:00:00.000Z","2014-05-16T00:00:00.000Z","2014-06-16T00:00:00.000Z","2014-07-16T00:00:00.000Z","2014-08-16T00:00:00.000Z","2014-09-16T00:00:00.000Z","2014-10-16T00:00:00.000Z","2014-11-16T00:00:00.000Z","2014-12-16T00:00:00.000Z","2015-01-16T00:00:00.000Z","2015-02-16T00:00:00.000Z","2015-03-16T00:00:00.000Z","2015-04-16T00:00:00.000Z","2015-05-16T00:00:00.000Z","2015-06-16T00:00:00.000Z","2015-07-16T00:00:00.000Z","2015-08-16T00:00:00.000Z","2015-09-16T00:00:00.000Z","2015-10-16T00:00:00.000Z","2015-11-16T00:00:00.000Z","2015-12-16T00:00:00.000Z","2016-01-16T00:00:00.000Z","2016-02-16T00:00:00.000Z","2016-03-16T00:00:00.000Z","2016-04-16T00:00:00.000Z","2016-05-16T00:00:00.000Z","2016-06-16T00:00:00.000Z","2016-07-16T00:00:00.000Z","2016-08-16T00:00:00.000Z","2016-09-16T00:00:00.000Z","2016-10-16T00:00:00.000Z","2016-11-16T00:00:00.000Z","2016-12-16T00:00:00.000Z","2017-01-16T00:00:00.000Z","2017-02-16T00:00:00.000Z","2017-03-16T00:00:00.000Z","2017-04-16T00:00:00.000Z","2017-05-16T00:00:00.000Z","2017-06-16T00:00:00.000Z","2017-07-16T00:00:00.000Z","2017-08-16T00:00:00.000Z","2017-09-16T00:00:00.000Z","2017-10-16T00:00:00.000Z","2017-11-16T00:00:00.000Z","2017-12-16T00:00:00.000Z","2018-01-16T00:00:00.000Z","2018-02-16T00:00:00.000Z","2018-03-16T00:00:00.000Z","2018-04-16T00:00:00.000Z","2018-05-16T00:00:00.000Z","2018-06-16T00:00:00.000Z","2018-07-16T00:00:00.000Z","2018-08-16T00:00:00.000Z","2018-09-16T00:00:00.000Z","2018-10-16T00:00:00.000Z","2018-11-16T00:00:00.000Z","2018-12-16T00:00:00.000Z","2019-01-16T00:00:00.000Z","2019-02-16T00:00:00.000Z","2019-03-16T00:00:00.000Z","2019-04-16T00:00:00.000Z","2019-05-16T00:00:00.000Z","2019-06-16T00:00:00.000Z","2019-07-16T00:00:00.000Z","2019-08-16T00:00:00.000Z","2019-09-16T00:00:00.000Z","2019-10-16T00:00:00.000Z","2019-11-16T00:00:00.000Z","2019-12-16T00:00:00.000Z","2020-01-16T00:00:00.000Z","2020-02-16T00:00:00.000Z","2020-03-16T00:00:00.000Z","2020-04-16T00:00:00.000Z","2020-05-16T00:00:00.000Z","2020-06-16T00:00:00.000Z","2020-07-16T00:00:00.000Z","2020-08-16T00:00:00.000Z","2020-09-16T00:00:00.000Z","2020-10-16T00:00:00.000Z","2020-11-16T00:00:00.000Z","2020-12-16T00:00:00.000Z","2021-01-16T00:00:00.000Z","2021-02-16T00:00:00.000Z","2021-03-16T00:00:00.000Z","2021-04-16T00:00:00.000Z","2021-05-16T00:00:00.000Z","2021-06-16T00:00:00.000Z","2021-07-16T00:00:00.000Z","2021-08-16T00:00:00.000Z","2021-09-16T00:00:00.000Z","2021-10-16T00:00:00.000Z","2021-11-16T00:00:00.000Z","2021-12-16T00:00:00.000Z","2022-01-16T00:00:00.000Z","2022-02-16T00:00:00.000Z","2022-03-16T00:00:00.000Z","2022-04-16T00:00:00.000Z","2022-05-16T00:00:00.000Z","2022-06-16T00:00:00.000Z","2022-07-16T00:00:00.000Z","2022-08-16T00:00:00.000Z","2022-09-16T00:00:00.000Z","2022-10-16T00:00:00.000Z","2022-11-16T00:00:00.000Z","2022-12-16T00:00:00.000Z","2023-02-16T00:00:00.000Z","2023-03-16T00:00:00.000Z"],[[12.6424025476082,12.8023382066735,12.9622738657389],[17.849936823525,18.1155732130577,18.3812096025903],[19.1542845465911,19.2846435241317,19.4150025016724],[17.2063723808379,17.4250252110589,17.6436780412799],[14.1694512696846,14.2428543542791,14.3162574388736],[10.1030859133353,10.2846458794726,10.4662058456098],[7.45774026373303,7.70554928228564,7.95335830083825],[5.26507055790854,5.58809603618292,5.91112151445731],[3.12386307322463,3.55393539511466,3.98400771700469],[3.00754916452295,3.38034103450847,3.75313290449398],[4.49224032175952,4.55521426879221,4.61818821582489],[8.39132467360955,8.54095877853094,8.69059288345234],[12.7193135792051,12.9718908406219,13.2244681020387],[17.7451813630848,17.9156535263603,18.0861256896358],[18.7577659433955,18.8708562807187,18.9839466180419],[17.1312455050344,17.3317077280235,17.5321699510125],[12.9210950703356,13.1673323878359,13.4135697053362],[9.26862278031051,9.44097769255433,9.61333260479815],[6.57319854522235,6.70050309825351,6.82780765128468],[4.31336443665151,4.62297263720357,4.93258083775563],[2.73433453982485,3.42175278964021,4.10917103945557],[2.97253217483124,3.33433190872135,3.69613164261146],[4.72189301229825,4.85325937665001,4.98462574100177],[8.85085388121337,9.05335245462672,9.25585102804006],[13.4025205745936,13.6576786224276,13.9128366702616],[17.0501366555318,17.1876669872986,17.3251973190653],[17.9880503956767,18.1730321089228,18.3580138221689],[16.7005816095666,16.8046808159247,16.9087800222828],[12.8791847913361,13.2052155750515,13.5312463587669],[9.14895528583276,9.49171475126786,9.83447421670297],[7.21537608441296,7.4173976626056,7.61941924079825],[4.8445748729631,5.0900360222006,5.3354971714381],[3.05025268241238,3.56376048928755,4.07726829616272],[2.82712503775055,3.26909122140794,3.71105740506534],[6.06018488274628,6.20928136438044,6.35837784601461],[8.19876331935986,8.41582620467153,8.6328890899832],[13.0917346597087,13.3634584607509,13.6351822617931],[17.9066069858194,18.0898202984443,18.2730336110693],[19.6494840954443,19.788098936435,19.9267137774258],[17.6485243282825,17.8419217971846,18.0353192660867],[12.7777804046966,12.8928515737038,13.0079227427109],[9.87552131617813,10.0018927773486,10.1282642385191],[7.2162537480418,7.33567277242305,7.45509179680429],[5.51438638353717,5.8185000079445,6.12261363235183],[4.58643803258819,4.90421142068862,5.22198480878906],[3.92112185495539,4.21793921529923,4.51475657564308],[6.02415752392193,6.18207416049033,6.33999079705872],[9.20401219916599,9.44191327212401,9.67981434508203],[14.4627498791883,14.6193300453285,14.7759102114687],[18.3244424970179,18.4679551934221,18.6114678898263],[19.2149311117133,19.4902486470922,19.7655661824712],[17.4376241644489,17.5572047609561,17.6767853574632],[13.409890154724,13.5613248886344,13.7127596225448],[10.2785345402585,10.4648723705739,10.6512102008893],[8.57523279732345,8.65188692846445,8.72854105960546],[6.75048565581509,6.99610337506845,7.2417210943218],[4.49382089048322,5.032612927516,5.57140496454879],[4.25940306064733,4.62284607264615,4.98628908464496],[5.19701114717936,5.25793013972544,5.31884913227151],[9.48511591758962,9.78834799144683,10.091580065304],[13.7128188448784,14.1293374046864,14.5458559644944],[17.8810197991006,17.9915897781569,18.1021597572133],[18.8755581102217,19.0125972539323,19.149636397643],[17.1118224562373,17.2466297237188,17.3814369912002],[14.4313929963837,14.5388570251592,14.6463210539348],[9.80001291803784,9.89869570901208,9.99737849998632],[6.8481067551846,6.9533761939159,7.0586456326472],[4.96958228094274,5.23391420621398,5.49824613148523],[3.83509905492167,4.06640956020872,4.29772006549578],[3.584904150176,3.78264564765609,3.98038714513618],[6.04770939221717,6.1489879749793,6.25026655774144],[9.67278749236112,9.8815549899003,10.0903224874395],[15.4454866691866,15.5897752541425,15.7340638390985],[19.0711367647315,19.1892184693962,19.3073001740608],[19.8651605875692,19.9497424250202,20.0343242624712],[17.0999609726651,17.4695402104804,17.8391194482957],[13.1027545724564,13.2913580788241,13.4799615851919],[10.0787565190759,10.2187157266081,10.3586749341404],[7.43913346151411,7.59838728413365,7.75764110675319],[4.5069453444409,4.84927056240548,5.19159578037006],[3.39058974991176,3.81887623862918,4.2471627273466],[3.53820004441605,3.74954862757728,3.9608972107385],[5.54184321340329,5.6661315077685,5.79041980213371],[10.2559182912354,10.3628257652795,10.4697332393237],[13.3947575317869,13.6511072851888,13.9074570385908],[16.7802142746282,17.1057239288979,17.4312335831677],[20.0404559296145,20.1998783982093,20.3593008668042],[16.9208299053259,17.0933066739308,17.2657834425357],[13.0448285824021,13.2818076428543,13.5187867033066],[10.3641751156982,10.6190393198815,10.8739035240647],[8.0633703095224,8.29033838175812,8.51730645399385],[5.28637759456344,5.82340159951323,6.36042560446301],[4.02902107726302,4.48196237983433,4.93490368240564],[4.50677599793564,4.63969136836084,4.77260673878605],[7.56548569468393,7.70136945626613,7.83725321784834],[10.6297449972364,10.834272184917,11.0387993725977],[16.1208580573804,16.2094975592049,16.2981370610294],[19.994525262203,20.1667137352884,20.3389022083738],[18.8636849427845,19.069602358376,19.2755197739675],[17.724083148362,17.8211958546613,17.9183085609605],[13.1363045976901,13.3778784301911,13.6194522626921],[10.1540725593708,10.3288929174978,10.5037132756248],[7.71803827027163,8.0471259647476,8.37621365922357],[5.35394683610197,5.87389006155155,6.39383328700113],[3.89201071563644,4.33541267913831,4.77881464264018],[3.73669191413416,4.06560582879886,4.39451974346355],[5.56600495557474,5.64404700465833,5.72208905374192],[9.70754600990819,9.92629915761808,10.145052305328],[14.6894651519148,14.9145939794739,15.1397228070329],[19.2999477718438,19.5592445243037,19.8185412767635],[19.0746793033426,19.2372031404816,19.3997269776205],[16.7036581094288,16.9087915018692,17.1139248943096],[14.6524068751058,14.8401386004763,15.0278703258469],[11.0014664972641,11.1697530034288,11.3380395095935],[9.14842242751246,9.2579760625057,9.36752969749895],[6.98057293624576,7.19618976896984,7.41180660169392],[5.80154292191385,6.11819315414206,6.43484338637027],[6.18900165236252,6.30252925664323,6.41605686092394],[7.39198925279279,7.53082160806477,7.66965396333674],[11.626958361539,11.7575755654448,11.8881927693505],[15.5590969905264,15.7572578236019,15.9554186566775],[19.9717932627303,20.2638060275743,20.5558187924184],[20.6797405224907,20.8709540591918,21.0621675958929],[17.7712759824211,18.160234396389,18.5491928103569],[13.7988771584199,13.9816263554541,14.1643755524882],[10.8797796312411,10.9951176967629,11.1104557622847],[9.16105146189457,9.43544353282994,9.70983560376531],[7.1475873306171,7.60487612078575,8.06216491095439],[5.43076307045068,6.01439748548397,6.59803190051727],[4.73460732999317,5.15088626509863,5.56716520020408],[6.26069838703652,6.35921282523565,6.45772726343477],[10.5518382227748,10.7261357759007,10.9004333290266],[14.8977215918313,15.1041488551974,15.3105761185636],[20.1998740371221,20.406401060102,20.6129280830819],[19.163929348897,19.4788882017235,19.79384705455],[16.9008811968868,17.0013147894422,17.1017483819976],[14.447407697255,14.6208134135158,14.7942191297765],[10.248073662321,10.406015853659,10.563958044997],[7.47378286229915,7.59224107954768,7.7106992967962],[5.00087665253007,5.42914132829204,5.85740600405401],[3.65016205945752,4.13135474773561,4.61254743601371],[3.20089086742855,3.65345962136101,4.10602837529348],[4.89468368584502,5.0272852866213,5.15988688739757],[9.8071768136968,9.97728294146573,10.1473890692347],[14.6424709585915,14.9157700457074,15.1890691328232],[17.6863013626622,17.966856102273,18.2474108418838],[18.9900637543929,19.1270175467544,19.2639713391159],[17.7235008313018,17.8750013495466,18.0265018677914],[14.1599998494587,14.2916415218119,14.4232831941652],[10.6345894391202,10.8273291876279,11.0200689361357],[8.52286338108183,8.86473301842554,9.20660265576925],[6.02716267453844,6.54539615152078,7.06362962850312],[3.88695651476557,4.49649879223215,5.10604106969873],[2.8614520518183,3.49249680081058,4.12354154980287],[4.70457683808606,4.89343515077033,5.08229346345461],[9.84260455009867,10.0645900148623,10.286575479626],[13.3253658436074,13.4798951035596,13.6344243635119],[18.4786322298118,18.7131872451649,18.947742260518],[19.8115430199906,20.1214220717792,20.4313011235678],[18.3116483728232,18.6155079000932,18.9193674273632],[13.4673868549523,13.7782989743853,14.0892110938183],[11.163978139532,11.3156994949742,11.4674208504164],[9.35394964930497,9.48164048749902,9.60933132569308],[7.10261494734216,7.27740483608254,7.45219472482292],[5.32216044548379,5.69001783387682,6.05787522226985],[5.229296129688,5.44060838784483,5.65192064600166],[6.10823639295324,6.16195942254478,6.21568245213633],[9.50790725982746,9.80426422615672,10.100621192486],[14.7018734675643,14.9309439533792,15.1600144391942],[19.0402225210912,19.2033272537531,19.366431986415],[20.3283684055254,20.5407874752295,20.7532065449335],[18.3394464751759,18.5019504004436,18.6644543257112],[14.7573789473714,14.8977115712267,15.0380441950821],[11.2817589708544,11.5390334338211,11.7963078967877],[9.11360489313948,9.36943266179893,9.62526043045838],[6.83874854272472,7.26419809633461,7.6896476499445],[5.3633570327558,5.82537978024696,6.28740252773811],[4.44336519916285,4.77613846480871,5.10891173045457],[6.21873048486063,6.26993956424616,6.3211486436317],[9.38879685177241,9.58721280883738,9.78562876590235],[13.588689935109,13.7933524923122,13.9980150495153],[17.938153283689,18.0592279096022,18.1803025355154],[19.1352505405324,19.2646890384832,19.3941275364339],[16.8471292438549,16.9423350818365,17.0375409198181],[15.4368501451742,15.522472866983,15.6080955887917],[10.7970318896333,11.0145126170897,11.2319933445462],[8.11872027293434,8.29681467781178,8.47490908268922],[4.78656796913352,5.30853360605379,5.83049924297406],[4.02060601533722,4.55403628009133,5.08746654484543],[4.30114563117435,4.64043961557986,4.97973359998537],[5.18289195874571,5.26810521208151,5.3533184654173],[10.5026802055668,10.7149983622106,10.9273165188543],[15.2245842026663,15.3801154183208,15.5356466339752],[19.5036735307239,19.6529577300605,19.8022419293971],[20.9761569269819,21.1527757322385,21.3293945374952],[19.2032436185493,19.4054766079262,19.6077095973032],[14.1576718844103,14.436229618281,14.7147873521517],[10.0916957437485,10.2622523938411,10.4328090439337],[7.36651984179386,7.57919265689778,7.7918654720017],[5.43725228475863,5.774889968662,6.11252765256537],[4.00509033917408,4.38555260166109,4.7660148641481],[3.41303852641997,3.75734958004146,4.10166063366295],[5.28603314125062,5.37125503355431,5.456476925858],[9.41010364562053,9.68761448229558,9.96512531897062],[13.9742516203657,14.2428812942855,14.5115109682053],[19.9653589177244,20.2719843056384,20.5786096935524],[19.8328925447313,20.0308077306513,20.2287229165713],[17.7967568816684,17.9304913841887,18.0642258867091],[14.1560621721384,14.2489407714029,14.3418193706674],[10.6660060130202,10.8538102590396,11.041614505059],[7.70875589352295,7.97141960694683,8.23408332037072],[6.28610022622321,6.6817449984274,7.07738977063158],[5.30786050350262,5.72332822237106,6.1387959412395],[5.40885247276819,5.68521671987445,5.96158096698071],[6.08086567552261,6.13029898212609,6.17973228872958],[8.85407457051505,9.00195139350621,9.14982821649736],[16.2715799944796,16.3821443471005,16.4927086997214],[20.3102936079923,20.415760000497,20.5212263930017],[20.3644992608953,20.5789989460295,20.7934986311638],[17.9710049891781,18.1208723988889,18.2707398085997],[14.551462367587,14.642450834743,14.7334393018989],[11.0333036891637,11.3099938155116,11.5866839418594],[8.10727767281126,8.38912618841586,8.67097470402046],[6.05784295160633,6.29368436619994,6.52952578079355],[4.35292443659452,4.84822572048475,5.34352700437499],[4.4361044778381,4.88279836795506,5.32949225807202],[6.398956865995,6.54793416493925,6.69691146388349],[10.6360919902293,10.7740910497864,10.9120901093434],[15.7721719817024,15.8771842794215,15.9821965771407],[18.6469450102328,18.8118677374021,18.9767904645713],[20.4716833815087,20.7786260993967,21.0855688172847],[18.4725248793438,18.6355882500627,18.7986516207817],[15.7579278363306,15.9311508668876,16.1043738974447],[11.9231995584313,12.0768225983774,12.2304456383234],[9.70203626271624,9.91715876738827,10.1322812720603],[7.36281286570017,7.73678924980689,8.11076563391361],[5.15808669104585,5.735709994447,6.31333329784814],[5.09664989071245,5.41254503666285,5.72844018261325],[6.15558433357313,6.27639736132568,6.39721038907823],[9.97704745579818,10.0730132738351,10.1689790918721],[15.8506572564686,16.0073113598623,16.1639654632559],[18.9252027089819,19.1308067299497,19.3364107509175],[19.7788196225467,19.9463675526415,20.1139154827362],[17.9679187649283,18.2430477341265,18.5181767033247],[14.1534104213455,14.4018698045001,14.6503291876547],[12.2894149178739,12.3932485186561,12.4970821194383],[8.81960400331255,8.95879902877457,9.0979940542366],[5.38164129810312,5.86422180761434,6.34680231712555],[5.09055790758638,5.44079981976168,5.79104173193698]]]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="chlorophyll" class="section level3" data-height="300">
<h3>Chlorophyll</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<details>
<summary>
<span style="color: #737373; font-size: 12px">Metadata</span>
</summary>
<p>The ERDDAP dataset for <a
href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/erdMH1chlamday.html">chlorophyll</a>
was extracted using <a
href="https://github.com/noaa-onms/climate-dashboard/blob/main/scripts/get_data.R">get_data.R</a>
for the Stellwagen Bank polygon and output to <a
href="https://raw.githubusercontent.com/noaa-onms/climate-dashboard/main/data/chlorophyll/SBNMS.csv">SBNMS.csv</a>,
which gets visualized below using <a
href="https://marinebon.github.io/extractr/reference/plot_ts.html"><code>extractr::plot_ts()</code></a>.</p>
</details>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="dygraphs html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-8d81c9846530bc88eae0" style="width:576px;height:460.8px;"></div>
<script type="application/json" data-for="htmlwidget-8d81c9846530bc88eae0">{"x":{"attrs":{"xlabel":"Date","ylabel":"Chlorophyll a (mg/m)","labels":["month","Chlorophyll a (mg/m)"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}},"colors":["green","green"],"customBars":true,"series":{"Chlorophyll a (mg/m)":{"axis":"y"}}},"scale":"monthly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2003-01-16T00:00:00.000Z","2003-02-16T00:00:00.000Z","2003-03-16T00:00:00.000Z","2003-04-16T00:00:00.000Z","2003-05-16T00:00:00.000Z","2003-06-16T00:00:00.000Z","2003-07-16T00:00:00.000Z","2003-08-16T00:00:00.000Z","2003-09-16T00:00:00.000Z","2003-10-16T00:00:00.000Z","2003-11-16T00:00:00.000Z","2003-12-16T00:00:00.000Z","2004-01-16T00:00:00.000Z","2004-02-16T00:00:00.000Z","2004-03-16T00:00:00.000Z","2004-04-16T00:00:00.000Z","2004-05-16T00:00:00.000Z","2004-06-16T00:00:00.000Z","2004-07-16T00:00:00.000Z","2004-08-16T00:00:00.000Z","2004-09-16T00:00:00.000Z","2004-10-16T00:00:00.000Z","2004-11-16T00:00:00.000Z","2004-12-16T00:00:00.000Z","2005-01-16T00:00:00.000Z","2005-02-16T00:00:00.000Z","2005-03-16T00:00:00.000Z","2005-04-16T00:00:00.000Z","2005-05-16T00:00:00.000Z","2005-06-16T00:00:00.000Z","2005-07-16T00:00:00.000Z","2005-08-16T00:00:00.000Z","2005-09-16T00:00:00.000Z","2005-10-16T00:00:00.000Z","2005-11-16T00:00:00.000Z","2005-12-16T00:00:00.000Z","2006-01-16T00:00:00.000Z","2006-02-16T00:00:00.000Z","2006-03-16T00:00:00.000Z","2006-04-16T00:00:00.000Z","2006-05-16T00:00:00.000Z","2006-06-16T00:00:00.000Z","2006-07-16T00:00:00.000Z","2006-08-16T00:00:00.000Z","2006-09-16T00:00:00.000Z","2006-10-16T00:00:00.000Z","2006-11-16T00:00:00.000Z","2006-12-16T00:00:00.000Z","2007-01-16T00:00:00.000Z","2007-02-16T00:00:00.000Z","2007-03-16T00:00:00.000Z","2007-04-16T00:00:00.000Z","2007-05-16T00:00:00.000Z","2007-06-16T00:00:00.000Z","2007-07-16T00:00:00.000Z","2007-08-16T00:00:00.000Z","2007-09-16T00:00:00.000Z","2007-10-16T00:00:00.000Z","2007-11-16T00:00:00.000Z","2007-12-16T00:00:00.000Z","2008-01-16T00:00:00.000Z","2008-02-16T00:00:00.000Z","2008-03-16T00:00:00.000Z","2008-04-16T00:00:00.000Z","2008-05-16T00:00:00.000Z","2008-06-16T00:00:00.000Z","2008-07-16T00:00:00.000Z","2008-08-16T00:00:00.000Z","2008-09-16T00:00:00.000Z","2008-10-16T00:00:00.000Z","2008-11-16T00:00:00.000Z","2008-12-16T00:00:00.000Z","2009-01-16T00:00:00.000Z","2009-02-16T00:00:00.000Z","2009-03-16T00:00:00.000Z","2009-04-16T00:00:00.000Z","2009-05-16T00:00:00.000Z","2009-06-16T00:00:00.000Z","2009-07-16T00:00:00.000Z","2009-08-16T00:00:00.000Z","2009-09-16T00:00:00.000Z","2009-10-16T00:00:00.000Z","2009-11-16T00:00:00.000Z","2009-12-16T00:00:00.000Z","2010-01-16T00:00:00.000Z","2010-02-16T00:00:00.000Z","2010-03-16T00:00:00.000Z","2010-04-16T00:00:00.000Z","2010-05-16T00:00:00.000Z","2010-06-16T00:00:00.000Z","2010-07-16T00:00:00.000Z","2010-08-16T00:00:00.000Z","2010-09-16T00:00:00.000Z","2010-10-16T00:00:00.000Z","2010-11-16T00:00:00.000Z","2010-12-16T00:00:00.000Z","2011-01-16T00:00:00.000Z","2011-02-16T00:00:00.000Z","2011-03-16T00:00:00.000Z","2011-04-16T00:00:00.000Z","2011-05-16T00:00:00.000Z","2011-06-16T00:00:00.000Z","2011-07-16T00:00:00.000Z","2011-08-16T00:00:00.000Z","2011-09-16T00:00:00.000Z","2011-10-16T00:00:00.000Z","2011-11-16T00:00:00.000Z","2011-12-16T00:00:00.000Z","2012-01-16T00:00:00.000Z","2012-02-16T00:00:00.000Z","2012-03-16T00:00:00.000Z","2012-04-16T00:00:00.000Z","2012-05-16T00:00:00.000Z","2012-06-16T00:00:00.000Z","2012-07-16T00:00:00.000Z","2012-08-16T00:00:00.000Z","2012-09-16T00:00:00.000Z","2012-10-16T00:00:00.000Z","2012-11-16T00:00:00.000Z","2012-12-16T00:00:00.000Z","2013-01-16T00:00:00.000Z","2013-02-16T00:00:00.000Z","2013-03-16T00:00:00.000Z","2013-04-16T00:00:00.000Z","2013-05-16T00:00:00.000Z","2013-06-16T00:00:00.000Z","2013-07-16T00:00:00.000Z","2013-08-16T00:00:00.000Z","2013-09-16T00:00:00.000Z","2013-10-16T00:00:00.000Z","2013-11-16T00:00:00.000Z","2013-12-16T00:00:00.000Z","2014-01-16T00:00:00.000Z","2014-02-16T00:00:00.000Z","2014-03-16T00:00:00.000Z","2014-04-16T00:00:00.000Z","2014-05-16T00:00:00.000Z","2014-06-16T00:00:00.000Z","2014-07-16T00:00:00.000Z","2014-08-16T00:00:00.000Z","2014-09-16T00:00:00.000Z","2014-10-16T00:00:00.000Z","2014-11-16T00:00:00.000Z","2014-12-16T00:00:00.000Z","2015-01-16T00:00:00.000Z","2015-02-16T00:00:00.000Z","2015-03-16T00:00:00.000Z","2015-04-16T00:00:00.000Z","2015-05-16T00:00:00.000Z","2015-06-16T00:00:00.000Z","2015-07-16T00:00:00.000Z","2015-08-16T00:00:00.000Z","2015-09-16T00:00:00.000Z","2015-10-16T00:00:00.000Z","2015-11-16T00:00:00.000Z","2015-12-16T00:00:00.000Z","2016-01-16T00:00:00.000Z","2016-02-16T00:00:00.000Z","2016-03-16T00:00:00.000Z","2016-04-16T00:00:00.000Z","2016-05-16T00:00:00.000Z","2016-06-16T00:00:00.000Z","2016-07-16T00:00:00.000Z","2016-08-16T00:00:00.000Z","2016-09-16T00:00:00.000Z","2016-10-16T00:00:00.000Z","2016-11-16T00:00:00.000Z","2016-12-16T00:00:00.000Z","2017-01-16T00:00:00.000Z","2017-02-16T00:00:00.000Z","2017-03-16T00:00:00.000Z","2017-04-16T00:00:00.000Z","2017-05-16T00:00:00.000Z","2017-06-16T00:00:00.000Z","2017-07-16T00:00:00.000Z","2017-08-16T00:00:00.000Z","2017-09-16T00:00:00.000Z","2017-10-16T00:00:00.000Z","2017-11-16T00:00:00.000Z","2017-12-16T00:00:00.000Z","2018-01-16T00:00:00.000Z","2018-02-16T00:00:00.000Z","2018-03-16T00:00:00.000Z","2018-04-16T00:00:00.000Z","2018-05-16T00:00:00.000Z","2018-06-16T00:00:00.000Z","2018-07-16T00:00:00.000Z","2018-08-16T00:00:00.000Z","2018-09-16T00:00:00.000Z","2018-10-16T00:00:00.000Z","2018-11-16T00:00:00.000Z","2018-12-16T00:00:00.000Z","2019-01-16T00:00:00.000Z","2019-02-16T00:00:00.000Z","2019-03-16T00:00:00.000Z","2019-04-16T00:00:00.000Z","2019-05-16T00:00:00.000Z","2019-06-16T00:00:00.000Z","2019-07-16T00:00:00.000Z","2019-08-16T00:00:00.000Z","2019-09-16T00:00:00.000Z","2019-10-16T00:00:00.000Z","2019-11-16T00:00:00.000Z","2019-12-16T00:00:00.000Z","2020-01-16T00:00:00.000Z","2020-02-16T00:00:00.000Z","2020-03-16T00:00:00.000Z","2020-04-16T00:00:00.000Z","2020-05-16T00:00:00.000Z","2020-06-16T00:00:00.000Z","2020-07-16T00:00:00.000Z","2020-08-16T00:00:00.000Z","2020-09-16T00:00:00.000Z","2020-10-16T00:00:00.000Z","2020-11-16T00:00:00.000Z","2020-12-16T00:00:00.000Z","2021-01-16T00:00:00.000Z","2021-02-16T00:00:00.000Z","2021-03-16T00:00:00.000Z","2021-04-16T00:00:00.000Z","2021-05-16T00:00:00.000Z","2021-06-16T00:00:00.000Z","2021-07-16T00:00:00.000Z","2021-08-16T00:00:00.000Z","2021-09-16T00:00:00.000Z","2021-10-16T00:00:00.000Z","2021-11-16T00:00:00.000Z","2021-12-16T00:00:00.000Z","2022-01-16T00:00:00.000Z","2022-02-16T00:00:00.000Z","2022-03-16T00:00:00.000Z","2022-04-16T00:00:00.000Z","2022-05-16T00:00:00.000Z"],[[1.0673070481402,1.22778256487672,1.38825808161325],[0.920934068493624,1.40705234551952,1.89317062254541],[1.24677724061391,1.84119042819434,2.43560361577476],[2.92801248919339,7.00089614582758,11.0737798024618],[2.55659491440645,3.71492927178849,4.87326362917054],[0.458599454926053,1.87366671153229,3.28873396813852],[0.840091332738271,1.14099433256762,1.44189733239697],[0.795553811748842,1.43384067942626,2.07212754710368],[0.969248853518451,1.48843492774198,2.0076210019655],[1.75755663392434,3.10325105868987,4.4489454834554],[0.719468138717535,2.42970134481026,4.13993455090299],[1.17286971463834,1.63833423861622,2.10379876259409],[0.92414707929644,1.79647416790036,2.66880125650429],[0.907706506332353,1.17959850504451,1.45149050375666],[1.52333391757797,2.84263630069955,4.16193868382114],[4.67828738031369,7.38758259272053,10.0968778051274],[1.20797934059158,2.03721354825653,2.86644775592149],[0.747118247925124,1.36863201204008,1.99014577615503],[0.825415169110012,1.02813230813855,1.23084944716708],[0.953882135799704,1.25702136624468,1.56016059668967],[0.931824670128384,1.27409528511284,1.6163659000973],[1.41150916906377,1.93307437078796,2.45463957251215],[1.17402135272266,1.60620526806281,2.03838918340297],[0.962077031589806,1.38918401203016,1.81629099247052],[1.29977271490684,1.72483528878567,2.1498978626645],[0.930499945352022,1.3239892194741,1.71747849359617],[1.40099543650725,2.47973234810098,3.55846925969472],[2.85084919766298,4.7155010212947,6.58015284492642],[2.70536999170701,3.77891288882625,4.85245578594548],[1.08693850869308,2.80688593161367,4.52683335453426],[1.67417724960502,2.86954693637625,4.06491662314748],[1.0860089191645,1.30765831339968,1.52930770763486],[1.21169722205412,1.71841091309151,2.2251246041289],[1.28599144394682,2.53886989955484,3.79174835516287],[2.02071046614847,3.15525871993851,4.28980697372856],[1.23294551743205,1.47900790889768,1.7250703003633],[1.17006649468851,1.41447882234615,1.65889115000379],[1.15768133246125,1.4317648088845,1.70584828530775],[0.930878542975433,1.72178963892651,2.51270073487759],[5.42206402978626,9.01861756039362,12.615171091001],[2.4278481357716,4.03516595294006,5.64248377010852],[1.04115660209439,1.70936930353624,2.37758200497809],[1.18956374453579,1.32350880995284,1.45745387536989],[1.68628143948945,2.01584490285303,2.3454083662166],[1.29970841356106,2.14071972526773,2.9817310369744],[1.55472348720793,2.03618826483288,2.51765304245783],[0.955616846037593,1.75585423159773,2.55609161715787],[1.22871813469481,1.91981888687524,2.61091963905566],[1.14394511540634,1.38561359243671,1.62728206946709],[0.844709489724356,1.317682566869,1.79065564401364],[0.918453182865874,1.78468168738985,2.65091019191382],[3.17342089587615,6.34171149330418,9.5100020907322],[1.64091152981312,2.91772098610871,4.1945304424043],[0.0765367666204579,1.72994797551719,3.38335918441392],[0.738255861380463,0.9318321856269,1.12540850987334],[0.905778358077958,1.39814349943704,1.89050864079612],[1.20906515857446,1.49727775928748,1.78549036000049],[2.08762602969219,3.13012414257022,4.17262225544824],[1.28715102268408,1.64419276696922,2.00123451125436],[0.908236518168603,1.07747950127525,1.2467224843819],[0.873450647140748,1.21136491968684,1.54927919223293],[0.970612216367846,1.14715716743121,1.32370211849458],[1.58784238889726,3.0972972177241,4.60675204655094],[6.03203693607229,8.27417049094708,10.5163040458219],[1.71665582981022,5.50480079302823,9.29294575624623],[1.24227149157129,1.6738527386728,2.10543398577431],[1.01853209626435,1.27080353420146,1.52307497213858],[1.06748341826125,2.92789106125379,4.78829870424633],[1.58677880022468,2.07366011612607,2.56054143202745],[1.84015165846607,2.49951332590006,3.15887499333405],[1.66320029370478,2.17060147932846,2.67800266495214],[0.999185443869493,1.58318810871918,2.16719077356886],[0.849854499566146,1.1008231948762,1.35179189018626],[0.802573042583031,0.931107134714614,1.0596412268462],[1.07242865788011,1.36460109348715,1.65677352909419],[9.21108127714851,12.4948902060516,15.7786991349546],[1.6053094446053,4.04806467129366,6.49081989798203],[0.75772039048517,1.80633257166313,2.85494475284108],[1.54766854044771,2.74661232259152,3.94555610473532],[0.696849853698435,1.72391441312149,2.75097897254456],[2.01028392829596,4.27928197383881,6.54828001938165],[1.89900400791419,4.11260598767413,6.32620796743407],[2.19551949457924,3.53551754986283,4.87551560514642],[0.965745834831986,2.41891623456983,3.87208663430767],[0.869642755396333,1.32372944676963,1.77781613814293],[0.831146242937017,1.54462749201016,2.2581087410833],[1.9085351282123,2.87089692937197,3.83325873053164],[5.98075817807556,7.87241840362549,9.76407862917542],[1.5113980537664,2.29964849722646,3.08789894068653],[0.99202680033981,1.25803683970096,1.52404687906212],[0.985806868600328,1.13385988543503,1.28191290226974],[1.28617556543002,2.04565826906775,2.80514097270548],[1.75616551168618,2.11585122477399,2.4755369378618],[3.76361963522458,4.54950874565292,5.33539785608125],[1.50455922653445,2.09467909979994,2.68479897306544],[1.12925363438082,1.42852838674601,1.7278031391112],[1.24233828949364,1.57889999699419,1.91546170449473],[1.17583010572184,1.50342213889978,1.83101417207772],[1.66326206243104,3.35103844813187,5.03881483383269],[1.85885190602074,4.39815326415709,6.93745462229345],[2.87016453967633,5.16450180276467,7.45883906585301],[1.56064765287547,2.29437648988988,3.02810532690429],[0.990099780818505,1.29251220191482,1.59492462301114],[1.08682863215941,1.89557412331992,2.70431961448042],[1.40238271159227,2.22659259642998,3.05080248126768],[2.83775499965204,4.11383552272824,5.38991604580445],[2.84472097926456,3.63576830912681,4.42681563898905],[0.797255145594757,1.79657511032411,2.79589507505346],[0.682803929595532,1.02631691990108,1.36982991020662],[1.154725247464,1.74164690022921,2.32856855299442],[5.03423046440836,7.62838270716423,10.2225349499201],[4.64863293415654,6.61364419442894,8.57865545470133],[0.971368790610546,1.93110281794611,2.89083684528167],[1.30765746198079,3.14497320147326,4.98228894096574],[1.01282913013332,1.62711708302045,2.24140503590759],[0.962070188093159,2.13453325738002,3.30699632666688],[1.35005576192117,2.01918654807293,2.68831733422469],[0.807487440824041,1.95175765683181,3.09602787283958],[1.38038276633787,1.91759790208218,2.45481303782649],[1.5514082703469,2.23897070867302,2.92653314699914],[1.19869861004079,1.6669532695826,2.1352079291244],[1.34106710953106,1.60528896324826,1.86951081696546],[0.805174655630228,1.21592749513849,1.62668033464675],[1.01123901882995,1.66223503203288,2.3132310452358],[1.35000103143531,3.09053713474831,4.8310732380613],[1.11394731597535,2.00217470722477,2.89040209847419],[0.975418537572723,1.44369613036622,1.91197372315972],[1.39545246887524,2.08542415695469,2.77539584503414],[1.99850766169462,3.25504348138823,4.51157930108184],[2.26639238799865,3.19113310497173,4.1158738219448],[2.09981656879072,2.76690533213372,3.43399409547672],[0.435776838022452,1.37778473216476,2.31979262630707],[1.17455565452116,1.43974073611907,1.70492581771698],[1.1941546299516,1.38705600787253,1.57995738579347],[0.41724558222513,1.35729260688281,2.29733963154048],[5.94836180222873,8.81246379518161,11.6765657881345],[1.40401868835134,3.24249703779708,5.08097538724281],[1.45421518124799,2.02719470793313,2.60017423461827],[1.12238271885419,1.59635623180083,2.07032974474747],[1.09505636614801,1.79657305113591,2.4980897361238],[1.40490056239578,1.87364855647957,2.34239655056337],[1.60628341117407,1.89178666842245,2.17728992567083],[1.32571033364835,1.76103500815204,2.19635968265572],[1.00910114663821,1.73903070009538,2.46896025355255],[1.39659703113184,1.80153829337907,2.20647955562629],[1.31410827463954,1.75759344118355,2.20107860772756],[0.878920483445096,1.51134782289937,2.14377516235364],[0.836117494709616,1.92758947871897,3.01906146272833],[2.80899608470466,3.94151741744828,5.0740387501919],[1.11371611568523,1.41068703675792,1.70765795783062],[1.10757976608885,1.7323541410648,2.35712851604076],[1.06799756287292,1.34960646350888,1.63121536414485],[1.20104967495434,1.65587608396572,2.1107024929771],[2.20756524454913,3.09181678991248,3.97606833527583],[1.90822018852649,2.24383598087478,2.57945177322307],[1.7605036994111,2.1215509533012,2.4825982071913],[1.51273456604932,1.74293123892624,1.97312791180316],[1.62054100509743,1.869043778329,2.11754655156057],[1.43883256493963,1.80174198637914,2.16465140781864],[1.80750106533346,2.8350041121462,3.86250715895893],[1.55376053694917,3.36804016402168,5.18231979109419],[1.24634851028547,1.42224626732569,1.59814402436591],[1.01923964984439,1.22579866778241,1.43235768572043],[1.31619611670053,2.04493605916517,2.77367600162982],[2.01289541877977,3.44732665580555,4.88175789283132],[1.18593530020425,2.12861721968129,3.07129913915832],[2.01440390753933,2.73295395565729,3.45150400377525],[0.869009121461218,2.52380349818807,4.17859787491493],[1.15335219029927,1.3667087285188,1.58006526673833],[1.1817216294047,1.34657735633154,1.51143308325838],[1.34927120706096,1.65160043222191,1.95392965738286],[2.54679605867558,3.44805769328653,4.34931932789749],[1.95427662620086,7.81297572424812,13.6716748222954],[1.69000895857843,3.39817632549871,5.10634369241898],[0.613733783912621,1.43055474062036,2.24737569732809],[1.65055209995673,2.44950224709337,3.24845239423],[2.24767889176197,3.66232516643775,5.07697144111353],[2.91841512556727,5.13818503818373,7.35795495080019],[1.79310708300905,2.90506643013362,4.0170257772582],[0.68643588097076,0.873225261695194,1.06001464241963],[1.11526209825186,1.34905205808417,1.58284201791648],[1.42121945210826,1.8523990411828,2.28357863025735],[0.974463207249917,2.26869997403918,3.56293674082843],[1.64719217482552,2.31483600435466,2.9824798338838],[0.55723954530988,2.31271581145099,4.06819207759209],[1.32456719953304,1.6301383824244,1.93570956531577],[1.08179034480245,1.31466036121341,1.54753037762436],[0.918695772949859,1.45497789348129,1.99126001401272],[0.921644826316317,1.39084585652734,1.86004688673837],[1.41219443409888,1.97740478150166,2.54261512890444],[0.750204392127581,2.31910503606727,3.88800568000695],[1.11156293481709,1.52564980078788,1.93973666675867],[1.03015118793464,1.2862357149159,1.54232024189715],[0.503704740543342,1.34820056005116,2.19269637955898],[0.606587285142219,0.768336214723378,0.930085144304537],[0.618314738214109,1.65294588003715,2.6875770218602],[2.25663740624074,4.6763851799234,7.09613295360606],[1.28922457183206,2.05762122147275,2.82601787111343],[0.986560958127674,1.44527374392878,1.90398652972989],[1.05810303649725,1.68045992137742,2.30281680625759],[1.84717890230427,3.31948302175007,4.79178714119586],[2.85560887136064,5.06877082977852,7.2819327881964],[2.02120841839744,2.51132357381556,3.00143872923368],[0.9639014711008,1.37374954415064,1.78359761720048],[1.08111130234787,1.28289734447089,1.48468338659392],[0.965382733442699,1.95370394121991,2.94202514899713],[1.23404489821224,2.37779979636199,3.52155469451174],[1.96971314572448,3.76716452358413,5.56461590144378],[1.39904689272663,1.87076405452116,2.34248121631569],[1.21445619264755,1.44181417548743,1.66917215832732],[0.974252693071319,1.11662249234471,1.2589922916181],[1.01141838125582,1.29920358509913,1.58698878894244],[0.780083732833296,1.022400429214,1.26471712559471],[1.28968937707216,1.61752607004486,1.94536276301755],[2.53782237177809,3.40253503044156,4.26724768910504],[2.38150821171485,3.53741521034798,4.6933222089811],[0.870799649470722,1.60877562091298,2.34675159235524],[1.09077803099546,1.28305348862697,1.47532894625847],[1.77398600038068,2.13505729880646,2.49612859723224],[0.769860413562596,1.35039737015745,1.93093432675231],[1.27812003960733,2.24475473122005,3.21138942283277],[0.915342700721644,1.16365899308755,1.41197528545345],[0.606656274767626,2.01555191948466,3.4244475642017],[0.693505601406224,1.11910828143141,1.54471096145659],[1.47323937606116,2.51827586915371,3.56331236224627],[1.97827744772765,3.01834191545083,4.05840638317401],[2.44139612788867,4.20227069924348,5.96314527059828],[1.41526815174917,2.7179581605605,4.02064816937182],[1.18622716803794,1.31867627592853,1.45112538381911],[0.758976240963061,0.854597824768428,0.950219408573795],[1.19980012827002,1.91160921415273,2.62341830003544],[2.25279225953556,2.87042284185869,3.48805342418182],[1.3683973571654,2.34162725671364,3.31485715626189]]]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="coral-reef-watch" class="section level3" data-height="300">
<h3>Coral Reef Watch</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<details>
<summary>
<span style="color: #737373; font-size: 12px">Metadata</span>
</summary>
<details>
<summary>
<span style="color: #dc3545;font-size: 12px">Dataset Incomplete</span>
</summary>
Only the first of the year for this daily dataset was consistently
fetched across sanctuaries so far.
</details>
<p>The ERDDAP dataset for <a
href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/NOAA_DHW.html">CRW_SST</a>
was extracted using <a
href="https://github.com/noaa-onms/climate-dashboard/blob/main/scripts/get_data.R">get_data.R</a>
for the Stellwagen Bank polygon and output to <a
href="https://raw.githubusercontent.com/noaa-onms/climate-dashboard/main/data/CRW_SST/SBNMS.csv">SBNMS.csv</a>,
which gets visualized below using <a
href="https://marinebon.github.io/extractr/reference/plot_ts.html"><code>extractr::plot_ts()</code></a>.</p>
</details>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="dygraphs html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-348dc8fc33cced7044c2" style="width:576px;height:460.8px;"></div>
<script type="application/json" data-for="htmlwidget-348dc8fc33cced7044c2">{"x":{"attrs":{"xlabel":"Date","ylabel":"Temperature (C)","labels":["year","Temperature (C)"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}},"colors":["red","red"],"customBars":true,"series":{"Temperature (C)":{"axis":"y"}}},"scale":"yearly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["1986-01-01T00:00:00.000Z","1987-01-01T00:00:00.000Z","1988-01-01T00:00:00.000Z","1989-01-01T00:00:00.000Z","1990-01-01T00:00:00.000Z","1991-01-01T00:00:00.000Z","1992-01-01T00:00:00.000Z","1993-01-01T00:00:00.000Z","1994-01-01T00:00:00.000Z","1995-01-01T00:00:00.000Z","1996-01-01T00:00:00.000Z","1997-01-01T00:00:00.000Z","1998-01-01T00:00:00.000Z","1999-01-01T00:00:00.000Z","2000-01-01T00:00:00.000Z","2001-01-01T00:00:00.000Z","2002-01-01T00:00:00.000Z","2003-01-01T00:00:00.000Z","2004-01-01T00:00:00.000Z","2005-01-01T00:00:00.000Z","2006-01-01T00:00:00.000Z","2007-01-01T00:00:00.000Z","2008-01-01T00:00:00.000Z","2009-01-01T00:00:00.000Z","2010-01-01T00:00:00.000Z","2011-01-01T00:00:00.000Z","2012-01-01T00:00:00.000Z","2013-01-01T00:00:00.000Z","2014-01-01T00:00:00.000Z","2015-01-01T00:00:00.000Z","2016-01-01T00:00:00.000Z","2017-01-01T00:00:00.000Z","2018-01-01T00:00:00.000Z","2019-01-01T00:00:00.000Z","2020-01-01T00:00:00.000Z","2021-01-01T00:00:00.000Z","2022-01-01T00:00:00.000Z","2023-01-01T00:00:00.000Z"],[[4.85024724042607,5.08052630173533,5.31080536304458],[5.67145701143917,5.90000003513537,6.12854305883157],[3.34358588104057,3.45252630585118,3.5614667306618],[4.83424437187803,4.98189473905061,5.1295451062232],[2.7285189742789,2.95389474818581,3.17927052209272],[6.36575159803671,6.46694737484581,6.5681431516549],[6.11296826619401,6.36557894254986,6.6181896189057],[5.383600805117,5.62936842567042,5.87513604622385],[4.77808092045933,4.91031580975181,5.0425506990443],[5.88620279688944,6.14557894656533,6.40495509624121],[4.83935662694083,5.0529473756489,5.26653812435697],[5.88883178696691,5.97747367055793,6.06611555414894],[5.15426243861709,5.29873683829057,5.44321123796404],[5.71704583596078,5.76736845217253,5.81769106838428],[5.90776208966489,6.0170525902196,6.12634309077431],[5.42161835945143,5.8223157832497,6.22301320704798],[6.21254015355132,6.29084212152581,6.36914408950031],[5.64908588048159,5.92884210787321,6.20859833526483],[5.54116799895296,5.73715792204204,5.93314784513113],[5.53498253975475,5.71684209422061,5.89870164868647],[5.54254199281487,5.63863159982782,5.73472120684076],[7.57103745807485,7.75410526175248,7.93717306543011],[5.45625869211526,5.5895789497777,5.72289920744015],[5.75571963396541,5.93621054197613,6.11670144998684],[6.62428635943409,6.7929473726373,6.9616083858405],[6.10140320771333,6.73305265527023,7.36470210282712],[7.90360414079357,8.04557895158467,8.18755376237576],[8.00940405630461,8.33873687041433,8.66806968452405],[5.9112253250297,6.16694736982647,6.42266941462323],[6.82687545772005,7.39347369545384,7.96007193318764],[8.16718236691082,8.27789471274928,8.38860705858774],[7.94191035440469,8.26494734914679,8.5879843438889],[6.24838078483969,6.52347368943064,6.79856659402158],[6.90799379804394,7.20315789172524,7.49832198540653],[6.67722672851081,7.10663157011333,7.53603641171586],[7.0497639967698,7.29978945380763,7.54981491084546],[8.23925166487953,8.55084218978882,8.86243271469811],[6.58766718438813,6.81663158818295,7.04559599197777]]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="physical-chemical" class="section level1">
<h1>Physical-chemical</h1>
<div id="chart-p.1" class="section level3">
<h3>Chart P.1</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
<div id="chart-p.2" class="section level3">
<h3>Chart P.2</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
</div>
<div id="biological" class="section level1">
<h1>Biological</h1>
<div id="chart-b.1" class="section level3">
<h3>Chart B.1</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
<div id="chart-b.2" class="section level3">
<h3>Chart B.2</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
</div>
<div id="human-dimensions" class="section level1">
<h1>Human Dimensions</h1>
<div id="chart-h.1" class="section level3">
<h3>Chart H.1</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
<div id="chart-h.2" class="section level3">
<h3>Chart H.2</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
</div>

</div>

<script>
$(document).ready(function() {
  // add bootstrap table styles to pandoc tables
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed table-sm');

  // initialize mathjax
  var script = document.createElement("script");
  script.type = "text/javascript";
  script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
  document.getElementsByTagName("head")[0].appendChild(script);

});
</script>

<script type="text/javascript">
$(document).ready(function () {
  FlexDashboard.init({
    fillPage: false,
    orientation: "columns",
    storyboard: false,
    defaultFigWidth: 576,
    defaultFigHeight: 460,
    defaultFigWidthMobile: 360,
    defaultFigHeightMobile: 460,
    resize_reload: true
  });
  var navbar = $(".navbar").first();
  var body = $("body").first();
  var sidebar = $(".section.sidebar").first();
  function addNavbarPadding() {
    var navHeight = navbar.outerHeight();
    body.css("padding-top", (navHeight + 8) + "px");
    sidebar.css("top", navHeight + "px");
    var resizeEvent = window.document.createEvent("UIEvents");
    resizeEvent.initUIEvent("resize", true, false, window, 0);
    window.dispatchEvent(resizeEvent);
  }
  if (!window.Shiny) setTimeout(addNavbarPadding, 100);
  $(document).on("shiny:idle", function() {
    setTimeout(addNavbarPadding, 50);
  });
});
</script>

</body>
</html>
