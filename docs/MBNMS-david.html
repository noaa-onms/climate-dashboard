<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Monterey Bay - Davidson Seamount</title>

<meta property="og:title" content="Monterey Bay - Davidson Seamount" />

<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />

<link rel="icon" href="data:image/x-icon;" type="image/x-icon">


<script type="text/javascript">
window.FlexDashboardComponents = [];
</script>

<script src="libs/header-attrs-2.28/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/stickytableheaders-0.1.19/jquery.stickytableheaders.min.js"></script>
<link href="libs/value-box-accent-static-0.6.2/theme-cosmo-value-box.css" rel="stylesheet" />
<link href="libs/flexdashboard-css-0.6.2/flexdashboard.min.css" rel="stylesheet" />
<link href="libs/flexdashboard-css-0.6.2/theme-cosmo.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.2.2/leaflet.js"></script>
<script src="libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<script id="flexdashboard-navbar" type="application/json">
[
{"title":"Sanctuaries","items":[{"title":"American Samoa","href":"./NMSAS.html"},{"title":"Channel Islands","href":"./CINMS.html"},{"title":"Chumash Proposed Action","href":"./CPNMS.html"},{"title":"Cordell Bank","href":"./CBNMS.html"},{"title":"Florida Keys","href":"./FKNMS.html"},{"title":"Flower Garden Banks","href":"./FGBNMS.html"},{"title":"Gray's Reef","href":"./GRNMS.html"},{"title":"Greater Farallones","href":"./GFNMS.html"},{"title":"Hawaiian Islands Humpback Whale","href":"./HIHWNMS.html"},{"title":"Monitor","href":"./MNMS.html"},{"title":"Monterey Bay","href":"./MBNMS.html"},{"title":"Monterey Bay - Davidson Seamount","href":"./MBNMS-david.html"},{"title":"Monterey Bay - Mainland","href":"./MBNMS-main.html"},{"title":"Olympic Coast","href":"./OCNMS.html"},{"title":"Stellwagen Bank","href":"./SBNMS.html"},{"title":"Thunder Bay","href":"./TBNMS.html"}]}
]
</script>
<style type="text/css">
/*
  CSS for flexdashboard.js' use of Sly(). The sizing/position of this CSS needs to be
  applied _before_ flexdashboard.js initializes, which is why this CSS has been pulled
  out from flexdashboard.scss and inlined in the document's head.
*/

.storyboard-nav button {
  background: transparent;
  border: 0;
  opacity: .3;
  outline: none;
  padding: 0;
}

.storyboard-nav button:hover,
.storyboard-nav button:hover {
  opacity: .5;
}

.storyboard-nav button:disabled,
.storyboard-nav button:disabled {
  opacity: .1;
}

.storyboard-nav .sbnext,
.storyboard-nav .sbprev {
  float: left;
  width: 2%;
  height: 120px;
}

.storyboard-nav .sbprev {
  text-align: left;
  width: 2%;
}

.storyboard-nav .sbnext {
  float: right;
  text-align: right;
  margin-right: 8px;
}

.storyboard-nav .sbframelist {
  margin: 0 auto;
  width: 94%;
  height: 120px;
  overflow: hidden;
  text-shadow: none;
  margin-bottom: 8px;
}

.storyboard-nav .sbframelist ul {
  list-style: none;
  margin: 0;
  padding: 0;
  height: 100%;
}

.storyboard-nav .sbframelist ul li {
  float: left;
  width: 270px;
  height: 100%;
  padding: 10px 10px 10px 10px;
  margin-right: 8px;
  text-align: left;
  cursor: pointer;
}

.storyboard-nav .sbframelist ul li:last-child {
  margin-right: 0px;
}

.sbframe-commentary {
  width: 300px;
}

.sbframe-commentary ul {
  padding-left: 22px;
}

.sbframe.active {
  display: flex;
}

.sbframe:not(.active) {
  display: none;
}
</style>


<link rel="stylesheet" href="_style.css" type="text/css" />

</head>

<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container-fluid">
<div class="navbar-header">

<span class="navbar-logo pull-left">
  
</span>
<span class="navbar-brand">
  Monterey Bay - Davidson Seamount
  <span class="navbar-author">
        </span>
</span>

<button id="navbar-button" type="button" class="navbar-toggle collapsed pull-right" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>

</div>
<div id="navbar" class="navbar-collapse collapse">
<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right">
</ul>
</div><!--/.nav-collapse-->
</div><!--/.container-->
</div><!--/.navbar-->

<script type="text/javascript">


var FlexDashboard = (function () {

  // initialize options
  var _options = {};

  var FlexDashboard = function() {

    // default options
    _options = $.extend(_options, {
      theme: "cosmo",
      fillPage: false,
      orientation: 'columns',
      storyboard: false,
      defaultFigWidth: 576,
      defaultFigHeight: 461,
      defaultFigWidthMobile: 360,
      defaultFigHeightMobile: 461,
      isMobile: false,
      isPortrait: false,
      resize_reload: true
    });
  };

  function init(options) {

    // extend default options
    $.extend(true, _options, options);

    // add ids to sections that don't have them (pandoc won't assign ids
    // to e.g. sections with titles consisting of only chinese characters)
    var nextId = 1;
    $('.level1:not([id]),.level2:not([id]),.level3:not([id])').each(function() {
      $(this).attr('id', 'dashboard-' + nextId++);
    });

    // find navbar items
    var navbarItems = $('#flexdashboard-navbar');
    if (navbarItems.length)
      navbarItems = JSON.parse(navbarItems.html());
    addNavbarItems(navbarItems);

    // find the main dashboard container
    var dashboardContainer = $('#dashboard-container');

    // resolve mobile classes
    resolveMobileClasses(dashboardContainer);

    // one time global initialization for components
    componentsInit(dashboardContainer);

    // look for a global sidebar
    var globalSidebar = dashboardContainer.find(".section.level1.sidebar");
    if (globalSidebar.length > 0) {

      // global layout for fullscreen displays
      if (!isMobilePhone()) {

         // hoist it up to the top level
         globalSidebar.insertBefore(dashboardContainer);

         // lay it out (set width/positions)
         layoutSidebar(globalSidebar, dashboardContainer);

      // tuck sidebar into first page for mobile phones
      } else {

        // convert it into a level3 section
        globalSidebar.removeClass('sidebar');
        globalSidebar.removeClass('level1');
        globalSidebar.addClass('level3');
        var h1 = globalSidebar.children('h1');
        var h3 = $('<h3></h3>');
        h3.append(h1.contents());
        h3.insertBefore(h1);
        h1.detach();

        // move it into the first page
        var page = dashboardContainer.find('.section.level1').first();
        if (page.length > 0)
          page.prepend(globalSidebar);
      }
    }

    // look for pages to layout
    var pages = $('div.section.level1');
    if (pages.length > 0) {

        // find the navbar and collapse on clicked
        var navbar = $('#navbar');
        navbar.on("click", "a[data-toggle!=dropdown]", null, function () {
           navbar.collapse('hide');
        });

        // envelop the dashboard container in a tab content div
        dashboardContainer.wrapInner('<div class="tab-content"></div>');

        pages.each(function(index) {

          // lay it out
          layoutDashboardPage($(this));

          // add it to the navbar
          addToNavbar($(this), index === 0);

        });

    } else {

      // remove the navbar and navbar button if we don't
      // have any navbuttons
      if (navbarItems.length === 0) {
        $('#navbar').remove();
        $('#navbar-button').remove();
      }

      // add the storyboard class if requested
      if (_options.storyboard)
        dashboardContainer.addClass('storyboard');

      // layout the entire page
      layoutDashboardPage(dashboardContainer);
    }

    // if we are in shiny we need to trigger a window resize event to
    // force correct layout of shiny-bound-output elements
    if (isShinyDoc())
      $(window).trigger('resize');

    // make main components visible
    $('.section.sidebar').css('visibility', 'visible');
    dashboardContainer.css('visibility', 'visible');

    // handle location hash
    handleLocationHash();

    // intialize prism highlighting
    initPrismHighlighting();

    // record mobile and orientation state then register a handler
    // to refresh if resize_reload is set to true and it changes
    _options.isMobile = isMobilePhone();
    _options.isPortrait = isPortrait();
    if (_options.resize_reload) {
      $(window).on('resize', function() {
        if (_options.isMobile !== isMobilePhone() ||
            _options.isPortrait !== isPortrait()) {
          window.location.reload();
        }
      });
    } else {
      // if in desktop mode and resizing to mobile, make sure the heights are 100%
      // This enforces what `fillpage.css` does for "wider" pages.
      // Since we are not reloading once the page becomes small, we need to force the height to 100%
      // This is a new situation introduced when `_options.resize_reload` is `false`
      if (! _options.isMobile) {
        // only add if `fillpage.css` was added in the first place
        if (_options.fillPage) {
          // fillpage.css
          $("html,body,#dashboard").css("height", "100%");
        }
      }
    }
    // trigger layoutcomplete event
    dashboardContainer.trigger('flexdashboard:layoutcomplete');
  }

  function resolveMobileClasses(dashboardContainer) {
     // add top level layout class
    dashboardContainer.addClass(isMobilePhone() ? 'mobile-layout' :
                                                  'desktop-layout');

    // look for .mobile sections and add .no-mobile to their peers
    var mobileSections = $('.section.mobile');
    mobileSections.each(function() {
       var id = $(this).attr('id');
       var nomobileId = id.replace(/-\d+$/, '');
       $('#' + nomobileId).addClass('no-mobile');
    });
  }

  function addNavbarItems(navbarItems) {

    var navbarLeft = $('ul.navbar-left');
    var navbarRight = $('ul.navbar-right');

    for (var i = 0; i<navbarItems.length; i++) {

      // get the item
      var item = navbarItems[i];

      // determine the container
      var container = null;
      if (item.align === "left")
        container = navbarLeft;
      else
        container = navbarRight;

      // navbar menu if we have multiple items
      if (item.items) {
        var menu = navbarMenu(null, item.icon, item.title, container);
        for (var j = 0; j<item.items.length; j++) {
          var subItem = item.items[j];
          var li = $('<li></li>');
          var a = navbarLink(subItem.icon, subItem.title, subItem.href, subItem.target);
          a.removeClass("nav-link").addClass("dropdown-item");
          li.append(a);
          menu.append(li);
        }
      } else {
        var li = $('<li class="nav-item"></li>');
        li.append(navbarLink(item.icon, item.title, item.href, item.target));
        container.append(li);
      }
    }
  }

  // create or get a reference to an existing dropdown menu
  function navbarMenu(id, icon, title, container) {
    var existingMenu = [];
    if (id)
      existingMenu = container.children('#' + id);
    if (existingMenu.length > 0) {
      return existingMenu.children('ul');
    } else {
      var li = $('<li class="nav-item"></li>');
      if (id)
        li.attr('id', id);
      li.addClass('dropdown');
      // auto add "Share" title on mobile if necessary
      if (!title && icon && (icon === "fa-share-alt") && isMobilePhone())
        title = "Share";
      if (title) {
        title = title + ' <span class="caret"></span>';
      }
      var a = navbarLink(icon, title, "#");
      a.addClass('dropdown-toggle');
      a.attr('data-toggle', 'dropdown');
      a.attr('data-bs-toggle', 'dropdown');
      a.attr('role', 'button');
      a.attr('aria-expanded', 'false');
      li.append(a);
      var ul = $('<ul class="dropdown-menu"></ul>');
      ul.attr('role', 'menu');
      li.append(ul);
      container.append(li);
      return ul;
    }
  }

  function addToNavbar(page, active) {

    // capture the id and data-icon attribute (if any)
    var id = page.attr('id');
    var icon = page.attr('data-icon');
    var navmenu = page.attr('data-navmenu');
    var navmenuIcon = page.attr('data-navmenu-icon');

    // get hidden state (transfer this to navbar)
    var hidden = page.hasClass('hidden');
    page.removeClass('hidden');

    // sanitize the id for use with bootstrap tabs
    id = id.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_');
    page.attr('id', id);

    // get the wrapper
    var wrapper = page.closest('.dashboard-page-wrapper');

    // move the id to the wrapper
    page.removeAttr('id');
    wrapper.attr('id', id);

    // add the tab-pane class to the wrapper
    wrapper.addClass('tab-pane');

    // get a reference to the h1, discover its inner contens, then detach it
    var h1 = wrapper.find('h1').first();
    var title = h1.contents();
    h1.detach();

    // create a navbar item
    var li = $('<li></li>');
    var a = navbarLink(icon, title, '#' + id);
    a.attr('data-toggle', 'tab');
    a.attr('data-bs-toggle', 'tab');
    li.append(a);

    // add it to the navbar (or navbar menu if specified)
    var container = $('ul.navbar-left');
    if (navmenu) {
      var menuId = navmenu.replace(/\s+/g, '');
      var menu = navbarMenu(menuId, navmenuIcon, navmenu, container);
      li.find("> a").removeClass("nav-link").addClass("dropdown-item");
      menu.append(li);
    } else {
      li.addClass("nav-item")
      container.append(li);
    }

    // mark active tab and corresponding nav menu item
    if (active)
      $(a).tab("show");

    // hide it if requested
    if (hidden)
      li.addClass('hidden');
  }

  function navbarLink(icon, title, href, target) {

    var a = $('<a class="nav-link"></a>');
    if (icon) {

      // get the name of the icon set and icon
      var dashPos = icon.indexOf("-");
      var iconSet = null;
      var iconSplit = icon.split(" ");
      if (iconSplit.length > 1) {
        iconSet = iconSplit[0];
        icon = iconSplit.slice(1).join(" ");
      } else {
        iconSet = icon.substring(0, dashPos);
      }
      var iconName = icon.substring(dashPos + 1);

      // create the icon
      var iconElement = $('<span class="' + iconSet + ' ' + icon + '"></span>');
      if (title)
        iconElement.css('margin-right', '7px');
      a.append(iconElement);
      // if href is null see if we can auto-generate based on icon (e.g. social)
      if (!href)
        maybeGenerateLinkFromIcon(iconName, a);
    }
    if (title)
      a.append(title);

    // add the href.
    if (href) {
      if (href === "source_embed") {
        a.attr('href', '#');
        a.attr('data-featherlight', "#flexdashboard-source-code");
        a.featherlight({
            beforeOpen: function(event){
              $('body').addClass('unselectable');
            },
            afterClose: function(event){
              $('body').removeClass('unselectable');
            }
        });
      } else {
        a.attr('href', href);
      }
    }

    // add the arget
    if (target)
      a.attr('target', target);

    return a;
  }

  // auto generate a link from an icon name (e.g. twitter) when possible
  function maybeGenerateLinkFromIcon(iconName, a) {

     var serviceLinks = {
      "twitter": "https://twitter.com/share?text=" + encodeURIComponent(document.title) + "&url="+encodeURIComponent(location.href),
      "facebook": "https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(location.href),
      "linkedin": "https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(location.href) + "&title=" + encodeURIComponent(document.title),
      "pinterest": "https://pinterest.com/pin/create/link/?url="+encodeURIComponent(location.href) + "&description=" + encodeURIComponent(document.title)
    };

    var makeSocialLink = function(a, href) {
      a.attr('href', '#');
      a.on('click', function(e) {
        e.preventDefault();
        window.open(href);
      });
    };

    $.each(serviceLinks, function(key, value) {
      if (iconName.indexOf(key) !== -1)
        makeSocialLink(a, value);
    });
  }

  // layout a dashboard page
  function layoutDashboardPage(page) {

    // use a page wrapper so that free form content above the
    // dashboard appears at the top rather than the side (as it
    // would without the wrapper in a column orientation)
    var wrapper = $('<div class="dashboard-page-wrapper"></div>');
    page.wrap(wrapper);

    // if there are no level2 or level3 headers synthesize a level3
    // header to contain the (e.g. frame it, scroll container, etc.)
    var headers = page.find('h2,h3');
    if (headers.length === 0)
      page.wrapInner('<div class="section level3"></div>');

    // hoist up any content before level 2 or level 3 headers
    var children = page.children();
    children.each(function(index) {
      if ($(this).hasClass('level2') || $(this).hasClass('level3'))
        return false;
      $(this).insertBefore(page);
    });

    // determine orientation and fillPage behavior for distinct media
    var orientation, fillPage, storyboard;

    // media: mobile phone
    if (isMobilePhone()) {

      // if there is a sidebar we need to ensure it's content
      // is properly framed as an h3
      var sidebar = page.find('.section.sidebar');
      sidebar.removeClass('sidebar');
      sidebar.wrapInner('<div class="section level3"></div>');
      var h2 = sidebar.find('h2');
      var h3 = $('<h3></h3>');
      h3.append(h2.contents());
      h3.insertBefore(h2);
      h2.detach();

      // wipeout h2 elements then enclose them in a single h2
      var level2 = page.find('div.section.level2');
      level2.each(function() {
        level2.children('h2').remove();
        level2.children().unwrap();
      });
      page.wrapInner('<div class="section level2"></div>');

      // substitute mobile images
      if (isPortrait()) {
        var mobileFigures = $('img.mobile-figure');
        mobileFigures.each(function() {
          // get the src (might be base64 encoded)
          var src = $(this).attr('src');

          // find it's peer
          var id = $(this).attr('data-mobile-figure-id');
          var img = $('img[data-figure-id=' + id + "]");
          img.attr('src', src)
             .attr('width', _options.defaultFigWidthMobile)
             .attr('height', _options.defaultFigHeightMobile);
        });
      }

      // hoist storyboard commentary into it's own section
      if (page.hasClass('storyboard')) {
        var commentaryHR = page.find('div.section.level3 hr');
        commentaryHR.each(function() {
          var commentary = $(this).nextAll().detach();
          var commentarySection = $('<div class="section level3"></div>');
          commentarySection.append(commentary);
          commentarySection.insertAfter($(this).closest('div.section.level3'));
          $(this).remove();
        });
      }

      // force a non full screen layout by columns
      orientation = _options.orientation = 'columns';
      fillPage = _options.fillPage = false;
      storyboard = _options.storyboard = false;

    // media: desktop
    } else {

      // determine orientation
      orientation = page.attr('data-orientation');
      if (orientation !== 'rows' && orientation != 'columns')
        orientation = _options.orientation;

      // determine storyboard mode
      storyboard = page.hasClass('storyboard');

      // fillPage based on options (force for storyboard)
      fillPage = _options.fillPage || storyboard;

      // handle sidebar
      var sidebar = page.find('.section.level2.sidebar');
      if (sidebar.length > 0)
        layoutSidebar(sidebar, page);
    }

    // give it and it's parent divs height: 100% if we are in fillPage mode
    if (fillPage) {
      page.addClass('vertical-layout-fill');
      page.css('height', '100%');
      page.parents('div').css('height', '100%');
    } else {
      page.addClass('vertical-layout-scroll');
    }

    // perform the layout
    if (storyboard)
      layoutPageAsStoryboard(page);
    else if (orientation === 'rows')
      layoutPageByRows(page, fillPage);
    else if (orientation === 'columns')
      layoutPageByColumns(page, fillPage);
  }

  function layoutSidebar(sidebar, content) {

    // get it out of the header hierarchy
    sidebar = sidebar.first();
    if (sidebar.hasClass('level1')) {
      sidebar.removeClass('level1');
      sidebar.children('h1').remove();
    } else if (sidebar.hasClass('level2')) {
      sidebar.removeClass('level2');
      sidebar.children('h2').remove();
    }

    // determine width
    var sidebarWidth = isTablet() ? 220 : 250;
    var dataWidth = parseInt(sidebar.attr('data-width'));
    if (dataWidth)
      sidebarWidth = dataWidth;

    // set the width and shift the page right to accomodate the sidebar
    sidebar.css('width', sidebarWidth + 'px');
    content.css('padding-left', sidebarWidth + 'px');

    // wrap it's contents in a form
    sidebar.wrapInner($('<form></form>'));
  }

  function layoutPageAsStoryboard(page) {

    // create storyboard navigation
    var nav = $('<div class="storyboard-nav"></div>');

    // add navigation buttons
    var prev = $('<button class="sbprev"><i class="fa fa-angle-left"></i></button>');
    nav.append(prev);
    var next= $('<button class="sbnext"><i class="fa fa-angle-right"></i></button>');
    nav.append(next);

    // add navigation frame
    var frameList = $('<div class="sbframelist"></div>');
    nav.append(frameList);
    var ul = $('<ul></ul>');
    frameList.append(ul);

     // find all the level3 sections (those are the storyboard frames)
    var frames = page.find('div.section.level3');
    frames.each(function() {

      // mark it
      $(this).addClass('sbframe');

      // divide it into chart content and (optional) commentary
      $(this).addClass('dashboard-column-orientation');

      // stuff the chart into it's own div w/ flex
      $(this).wrapInner('<div class="sbframe-component"></div>');
      setFlex($(this), 1);
      var frame = $(this).children('.sbframe-component');

      // extract the title from the h3
      var li = $('<li></li>');
      var h3 = frame.children('h3');
      li.append(h3.contents());
      h3.detach();
      ul.append(li);

      // extract commentary
      var hr = frame.children('hr');
      if (hr.length) {
        var commentary = hr.nextAll().detach();
        hr.remove();
        var commentaryFrame = $('<div class="sbframe-commentary"></div>');
        commentaryFrame.addClass('flowing-content-shim');
        commentaryFrame.addClass('flowing-content-container');
        commentaryFrame.append(commentary);
        $(this).append(commentaryFrame);

        // look for a data-commentary-width attribute
        var commentaryWidth = $(this).attr('data-commentary-width');
        if (commentaryWidth)
          commentaryFrame.css('width', commentaryWidth + 'px');
      }

      // layout the chart (force flex)
      var result = layoutChart(frame, true);

      // ice the notes if there are none
      if (!result.notes)
        frame.find('.chart-notes').remove();

      // set flex on chart
      setFlex(frame, 1);
    });

    // create a div to hold all the frames
    var frameContent = $('<div class="sbframe-content"></div>');
    frameContent.addClass('dashboard-row-orientation');
    frameContent.append(frames.detach());

    // row orientation to stack nav and frame content
    page.addClass('dashboard-row-orientation');
    page.append(nav);
    page.append(frameContent);
    setFlex(frameContent, 1);

    // initialize sly
    var sly = new Sly(frameList, {
    		horizontal: true,
    		itemNav: 'basic',
    		smart: true,
    		activateOn: 'click',
    		startAt: 0,
    		scrollBy: 1,
    		activatePageOn: 'click',
    		speed: 200,
    		moveBy: 600,
    		dragHandle: true,
    		dynamicHandle: true,
    		clickBar: true,
    		keyboardNavBy: 'items',
    		next: next,
    		prev: prev
    	}).init();

    // make first frame active
    frames.removeClass('active');
    frames.first().addClass('active');

    // subscribe to frame changed events
    sly.on('active', function (eventName, itemIndex) {
      frames.removeClass('active');
      frames.eq(itemIndex).addClass('active')
                          .trigger('shown');
    });
  }

  function layoutPageByRows(page, fillPage) {

    // row orientation
    page.addClass('dashboard-row-orientation');

    // find all the level2 sections (those are the rows)
    var rows = page.find('div.section.level2');

    // if there are no level2 sections then treat the
    // entire page as if it's a level 2 section
    if (rows.length === 0) {
      page.wrapInner('<div class="section level2"></div>');
      rows = page.find('div.section.level2');
    }

    rows.each(function () {

      // flags
      var haveNotes = false;
      var haveFlexHeight = true;

      // remove the h2
      $(this).children('h2').remove();

      // check for a tabset
      var isTabset = $(this).hasClass('tabset');
      if (isTabset)
        layoutTabset($(this));

      // give it row layout semantics if it's not a tabset
      if (!isTabset)
        $(this).addClass('dashboard-row');

      // find all of the level 3 subheads
      var columns = $(this).find('div.section.level3');

      // determine figureSizes sizes
      var figureSizes = chartFigureSizes(columns);

      // fixup the columns
      columns.each(function(index) {

        // layout the chart (force flex if we are in a tabset)
        var result = layoutChart($(this), isTabset);

        // update flexHeight state
        if (!result.flex)
          haveFlexHeight = false;

        // update state
        if (result.notes)
          haveNotes = true;

        // set the column flex based on the figure width
        // (value boxes will just get the default figure width)
        var chartWidth = figureSizes[index].width;
        setFlex($(this), chartWidth + ' ' + chartWidth + ' 0px');

      });

      // remove empty chart note divs
      if (isTabset)
        $(this).find('.chart-notes').filter(function() {
            return $(this).html() === "&nbsp;";
        }).remove();
      if (!haveNotes)
        $(this).find('.chart-notes').remove();

       // make it a flexbox row
      if (haveFlexHeight)
        $(this).addClass('dashboard-row-flex');

      // now we can set the height on all the wrappers (based on maximum
      // figure height + room for title and notes, or data-height on the
      // container if specified). However, don't do this if there is
      // no flex on any of the constituent columns
      var flexHeight = null;
      var dataHeight = parseInt($(this).attr('data-height'));
      if (dataHeight)
        flexHeight = adjustedHeight(dataHeight, columns.first());
      else if (haveFlexHeight)
        flexHeight = maxChartHeight(figureSizes, columns);
      if (flexHeight) {
        if (fillPage)
          setFlex($(this), flexHeight + ' ' + flexHeight + ' 0px');
        else {
          $(this).css('height', flexHeight + 'px');
          setFlex($(this), '0 0 ' + flexHeight + 'px');
        }
      }

    });
  }

  function layoutPageByColumns(page, fillPage) {

    // column orientation
    page.addClass('dashboard-column-orientation');

    // find all the level2 sections (those are the columns)
    var columns = page.find('div.section.level2');

    // if there are no level2 sections then treat the
    // entire page as if it's a level 2 section
    if (columns.length === 0) {
      page.wrapInner('<div class="section level2"></div>');
      columns = page.find('div.section.level2');
    }

    // layout each column
    columns.each(function (index) {

      // remove the h2
      $(this).children('h2').remove();

      // make it a flexbox column
      $(this).addClass('dashboard-column');

      // check for a tabset
      var isTabset = $(this).hasClass('tabset');
      if (isTabset)
        layoutTabset($(this));

      // find all the h3 elements
      var rows = $(this).find('div.section.level3');

      // get the figure sizes for the rows
      var figureSizes = chartFigureSizes(rows);

      // column flex is the max row width (or data-width if specified)
      var flexWidth;
      var dataWidth = parseInt($(this).attr('data-width'));
      if (dataWidth)
        flexWidth = dataWidth;
      else
        flexWidth = maxChartWidth(figureSizes);
      setFlex($(this), flexWidth + ' ' + flexWidth + ' 0px');

      // layout each chart
      rows.each(function(index) {

        // perform the layout
        var result = layoutChart($(this), false);

        // ice the notes if there are none
        if (!result.notes)
          $(this).find('.chart-notes').remove();

        // set flex height based on figHeight, then adjust
        if (result.flex) {
          var chartHeight = figureSizes[index].height;
          chartHeight = adjustedHeight(chartHeight, $(this));
          if (fillPage)
            setFlex($(this), chartHeight + ' ' + chartHeight + ' 0px');
          else {
            $(this).css('height', chartHeight + 'px');
            setFlex($(this), chartHeight + ' ' + chartHeight + ' ' + chartHeight + 'px');
          }
        }
      });
    });
  }

  function chartFigureSizes(charts) {

    // sizes
    var figureSizes = new Array(charts.length);

    // check each chart
    charts.each(function(index) {

      // start with default
      figureSizes[index] = {
        width: _options.defaultFigWidth,
        height: _options.defaultFigHeight
      };

      // look for data-height or data-width then knit options
      var dataWidth = parseInt($(this).attr('data-width'));
      var dataHeight = parseInt($(this).attr('data-height'));
      var knitrOptions = $(this).find('.knitr-options:first');
      var knitrWidth, knitrHeight;
      if (knitrOptions) {
        knitrWidth = parseInt(knitrOptions.attr('data-fig-width'));
        knitrHeight =  parseInt(knitrOptions.attr('data-fig-height'));
      }

      // width
      if (dataWidth)
        figureSizes[index].width = dataWidth;
      else if (knitrWidth)
        figureSizes[index].width = knitrWidth;

      // height
      if (dataHeight)
        figureSizes[index].height = dataHeight;
      else if (knitrHeight)
        figureSizes[index].height = knitrHeight;
    });

    // return sizes
    return figureSizes;
  }

  function maxChartHeight(figureSizes, charts) {

    // first compute the maximum height
    var maxHeight = _options.defaultFigHeight;
    for (var i = 0; i<figureSizes.length; i++)
      if (figureSizes[i].height > maxHeight)
        maxHeight = figureSizes[i].height;

    // now add offests for chart title and chart notes
    if (charts.length)
      maxHeight = adjustedHeight(maxHeight, charts.first());

    return maxHeight;
  }

  function adjustedHeight(height, chart) {
    if (chart.length > 0) {
      var chartTitle = chart.find('.chart-title');
      if (chartTitle.length)
        height += chartTitle.first().outerHeight();
      var chartNotes = chart.find('.chart-notes');
      if (chartNotes.length)
        height += chartNotes.first().outerHeight();
    }
    return height;
  }

  function maxChartWidth(figureSizes) {
    var maxWidth = _options.defaultFigWidth;
    for (var i = 0; i<figureSizes.length; i++)
      if (figureSizes[i].width > maxWidth)
        maxWidth = figureSizes[i].width;
    return maxWidth;
  }

  // layout a chart
  function layoutChart(chart, forceFlex) {

    // state to return
    var result = {
      notes: false,
      flex: false
    };

    // extract the title
    var title = extractTitle(chart);

    // find components that apply to this container
    var components = componentsFind(chart);

    // if it's a custom component then call it and return
    var customComponents = componentsCustom(components);
    if (customComponents.length) {
      componentsLayout(customComponents, title, chart);
      result.notes = false;
      result.flex = forceFlex || componentsFlex(customComponents);
      return result;
    }

    // put all the content in a chart wrapper div
    chart.addClass('chart-wrapper');
    chart.wrapInner('<div class="chart-stage"></div>');
    var chartContent = chart.children('.chart-stage');

    // flex the content if appropriate
    result.flex = forceFlex || componentsFlex(components);
    if (result.flex) {
      // add flex classes
      chart.addClass('chart-wrapper-flex');
      chartContent.addClass('chart-stage-flex');

      // additional shim to break out of flexbox sizing
      chartContent.wrapInner('<div class="chart-shim"></div>');
      chartContent = chartContent.children('.chart-shim');
    }

    // set custom data-padding attribute
    var pad = chart.attr('data-padding');
    if (pad) {
      if (pad === "0")
        chart.addClass('no-padding');
      else {
        pad = pad + 'px';
        chartContent.css('left', pad)
                    .css('top', pad)
                    .css('right', pad)
                    .css('bottom', pad)
      }
    }

    // call compoents
    componentsLayout(components, title, chartContent);

    // also activate components on shiny output
    findShinyOutput(chartContent).on('shiny:value',
      function(event) {
        var element = $(event.target);
        setTimeout(function() {

          // see if we opted out of flex based on our output (for shiny
          // we can't tell what type of output we have until after the
          // value is bound)
          var components = componentsFind(element);
          var flex = forceFlex || componentsFlex(components);
          if (!flex) {
            chart.css('height', "");
            setFlex(chart, "");
            chart.removeClass('chart-wrapper-flex');
            chartContent.removeClass('chart-stage-flex');
            chartContent.children().unwrap();
          }

          // perform layout
          componentsLayout(components, title, element.parent());
        }, 10);
      });

    // add the title
    var chartTitle = $('<div class="chart-title"></div>');
    chartTitle.append(title);
    chart.prepend(chartTitle);

    // add the notes section
    var chartNotes = $('<div class="chart-notes"></div>');
    chartNotes.html('&nbsp;');
    chart.append(chartNotes);

    // attempt to extract notes if we have a component
    if (components.length)
      result.notes = extractChartNotes(chartContent, chartNotes);

    // return result
    return result;
  }

  // build a tabset from a section div with the .tabset class
  function layoutTabset(tabset) {

    // check for fade option
    var fade = tabset.hasClass("tabset-fade");
    var pills = tabset.hasClass("tabset-pills");
    var navClass = pills ? "nav-pills" : "nav-tabs";

    // determine the heading level of the tabset and tabs
    var match = tabset.attr('class').match(/level(\d) /);
    if (match === null)
      return;
    var tabsetLevel = Number(match[1]);
    var tabLevel = tabsetLevel + 1;

    // find all subheadings immediately below
    var tabs = tabset.find("div.section.level" + tabLevel);
    if (!tabs.length)
      return;

    // create tablist and tab-content elements
    var tabList = $('<ul class="nav ' + navClass + '" role="tablist"></ul>');
    $(tabs[0]).before(tabList);
    var tabContent = $('<div class="tab-content"></div>');
    $(tabs[0]).before(tabContent);

    // build the tabset
    var activeTab = 0;
    tabs.each(function(i) {

      // get the tab div
      var tab = $(tabs[i]);

      // get the id then sanitize it for use with bootstrap tabs
      var id = tab.attr('id');

      // see if this is marked as the active tab
      if (tab.hasClass('active'))
        activeTab = i;

      // sanitize the id for use with bootstrap tabs
      id = id.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_');
      tab.attr('id', id);

      // get the heading element within it and grab it's text
      var heading = tab.find('h' + tabLevel + ':first');
      var headingDom = heading.contents();

      // build and append the tab list item
      var a = $('<a role="tab" data-toggle="tab" data-bs-toggle="tab" class="nav-link"></a>');
      a.append(headingDom);
      a.attr('href', '#' + id);
      a.attr('aria-controls', id);
      var li = $('<li role="presentation" class="nav-item"></li>');
      li.append(a);
      tabList.append(li);

      // set it's attributes
      tab.attr('role', 'tabpanel');
      tab.addClass('tab-pane');
      tab.addClass('tabbed-pane');
      tab.addClass('no-title');
      if (fade)
        tab.addClass('fade');

      // move it into the tab content div
      tab.detach().appendTo(tabContent);
    });

    // set active tab
    $(tabList.children()[activeTab]).tab("show");
    var active = $(tabContent.children('div.section')[activeTab]);
    active.addClass('active');
    if (fade)
      active.addClass('in');

    // add nav-tabs-custom
    tabset.addClass('nav-tabs-custom');

    // internal layout is dashboard-column with tab-content flexing
    tabset.addClass('dashboard-column');
    setFlex(tabContent, 1);
  }

  // one time global initialization for components
  function componentsInit(dashboardContainer) {
    for (var i=0; i<window.FlexDashboardComponents.length; i++) {
      var component = window.FlexDashboardComponents[i];
      if (component.init)
        component.init(dashboardContainer);
    }
  }

  // find components that apply within a container
  function componentsFind(container) {

    // look for components
    var components = [];
    for (var i=0; i<window.FlexDashboardComponents.length; i++) {
      var component = window.FlexDashboardComponents[i];
      if (component.find(container).length)
        components.push(component);
    }

    // if there were none then use a special flowing content component
    // that just adds a scrollbar in fillPage mode
    if (components.length == 0) {
      components.push({
        find: function(container) {
          return container;
        },

        flex: function(fillPage) {
          return fillPage;
        },

        layout: function(title, container, element, fillPage) {
          if (fillPage) {
            container.addClass('flowing-content-shim');
            container.addClass('flowing-content-container');
          }
        }
      });
    }

    return components;
  }

  // if there is a custom component then pick it out
  function componentsCustom(components) {
    var customComponent = [];
    for (var i=0; i<components.length; i++)
      if (components[i].type === "custom") {
        customComponent.push(components[i]);
        break;
      }
    return customComponent;
  }

  // query all components for flex
  function componentsFlex(components) {

    // no components at all means no flex
    if (components.length === 0)
      return false;

    // otherwise query components (assume true unless we see false)
    var isMobile = isMobilePhone();
    for (var i=0; i<components.length; i++)
      if (components[i].flex && !components[i].flex(_options.fillPage))
        return false;
    return true;
  }

  // layout all components
  function componentsLayout(components, title, container) {
    var isMobile = isMobilePhone();
    for (var i=0; i<components.length; i++) {
      var element = components[i].find(container);
      if (components[i].layout) {
        // call layout (don't call other components if it returns false)
        var result = components[i].layout(title, container, element, _options.fillPage);
        if (result === false)
          return;
      }
    }
  }

  // get a reference to the h3, discover it's inner html, and remove it
  function extractTitle(container) {
    var h3 = container.children('h3').first();
    var title = '';
    if (!container.hasClass('no-title'))
      title = h3.contents();
    h3.detach();
    return title;
  }

  // extract chart notes
  function extractChartNotes(chartContent, chartNotes) {
    // look for a terminating blockquote or image caption
    var blockquote = chartContent.children('blockquote:last-child');
    var caption = chartContent.children('div.image-container')
                              .children('p.caption');
    if (blockquote.length) {
      chartNotes.empty().append(blockquote.children('p:first-child').contents());
      blockquote.remove();
      return true;
    } else if (caption.length) {
      chartNotes.empty().append(caption.contents());
      caption.remove();
      return true;
    } else {
      return false;
    }
  }

  function findShinyOutput(chartContent) {
    return chartContent.find('.shiny-text-output, .shiny-html-output');
  }

  // safely detect rendering on a mobile phone
  function isMobilePhone() {
    try
    {
      return ! window.matchMedia("only screen and (min-width: 768px)").matches;
    }
    catch(e) {
      return false;
    }
  }

  function isFillPage() {
    return _options.fillPage;
  }

  // detect portrait mode
  function isPortrait() {
    return ($(window).width() < $(window).height());
  }

  // safely detect rendering on a tablet
  function isTablet() {
    try
    {
      return window.matchMedia("only screen and (min-width: 769px) and (max-width: 992px)").matches;
    }
    catch(e) {
      return false;
    }
  }

  // test whether this is a shiny doc
  function isShinyDoc() {
    return (typeof(window.Shiny) !== "undefined" && !!window.Shiny.outputBindings);
  }

  // set flex using vendor specific prefixes
  function setFlex(el, flex) {
    el.css('-webkit-box-flex', flex)
      .css('-webkit-flex', flex)
      .css('-ms-flex', flex)
      .css('flex', flex);
  }

  // support bookmarking of pages
  function handleLocationHash() {

    // restore tab/page from bookmark
    var hash = window.decodeURIComponent(window.location.hash);
    if (hash.length > 0) {
      // Update the tab without .showPage() so that we don't change page history
      $('ul.nav a[href="' + hash + '"]').tab('show');
    }

    // navigate to a tab when the history changes
    window.addEventListener("popstate", function(e) {
      var hash = window.decodeURIComponent(window.location.hash);
      var activeTab = $('ul.nav a[href="' + hash + '"]');
      if (activeTab.length) {
        activeTab.tab('show');
      } else {
        // returning to the base page URL without a hash activates first tab
        $('ul.nav a:first').tab('show');
      }
    });

    // add a hash to the URL when the user clicks on a tab/page
    $('.navbar-nav a[data-toggle="tab"]').on('click', function(e) {
      var baseUrl = FlexDashboardUtils.urlWithoutHash(window.location.href);
      var hash = FlexDashboardUtils.urlHash($(this).attr('href'));
      var href = baseUrl + hash;
      FlexDashboardUtils.setLocation(href);
    });

    // handle clicks of other links that should activate pages
    var navPages = $('ul.navbar-nav li a[data-toggle=tab]');
    navPages.each(function() {
      var href =  $(this).attr('href');
      var links = $('a[href="' + href + '"][data-toggle!=tab]');
      links.each(function() {
        $(this).on('click', function(e) {
          window.FlexDashboardUtils.showPage(href);
        });
      });
    });
  }

  // tweak Prism highlighting
  function initPrismHighlighting() {

    if (window.Prism) {
      Prism.languages.insertBefore('r', 'comment', {
        'heading': [
          {
            // title 1
        	  // =======

        	  // title 2
        	  // -------
        	  pattern: /\w+.*(?:\r?\n|\r)(?:====+|----+)/,
            alias: 'operator'
          },
          {
            // ### title 3
            pattern: /(^\s*)###[^#].+/m,
            lookbehind: true,
            alias: 'operator'
          }
        ]
      });

      // prism highlight
      Prism.highlightAll();
    }
  }

  FlexDashboard.prototype = {
    constructor: FlexDashboard,
    init: init,
    isMobilePhone: isMobilePhone,
    isFillPage: isFillPage
  };

  return FlexDashboard;

})();

// utils
window.FlexDashboardUtils = {
  resizableImage: function(img) {
    var src = img.attr('src');
    var url = 'url("' + src + '")';
    img.parent().css('background', url)
                .css('background-size', 'contain')
                .css('background-repeat', 'no-repeat')
                .css('background-position', 'center')
                .addClass('image-container');
  },
  setLocation: function(href) {
    if (history && history.pushState) {
      history.pushState(null, null, href);
    } else {
      window.location.replace(href);
    }
    setTimeout(function() {
        window.scrollTo(0, 0);
    }, 10);
  },
  showPage: function(href) {
    $('ul.navbar-nav li a[href="' + href + '"]').tab('show');
    var baseUrl = this.urlWithoutHash(window.location.href);
    var loc = baseUrl + href;
    this.setLocation(loc);
  },
  showLinkedValue: function(href) {
    // check for a page link
    if ($('ul.navbar-nav li a[data-toggle=tab][href="' + href + '"]').length > 0)
      this.showPage(href);
    else
      window.open(href);
  },
  urlWithoutHash: function(url) {
    var hashLoc = url.indexOf('#');
    if (hashLoc != -1)
      return url.substring(0, hashLoc);
    else
      return url;
  },
  urlHash: function(url) {
    var hashLoc = url.indexOf('#');
    if (hashLoc != -1)
      return url.substring(hashLoc);
    else
      return "";
  }
};

window.FlexDashboard = new FlexDashboard();

// empty content
window.FlexDashboardComponents.push({
  find: function(container) {
    if (container.find('p').length == 0)
      return container;
    else
      return $();
  }
})

// plot image
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('p')
                    .children('img:only-child');
  },

  layout: function(title, container, element, fillPage) {
    FlexDashboardUtils.resizableImage(element);
  }
});

// plot image (figure style)
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('div.figure').children('img');
  },

  layout: function(title, container, element, fillPage) {
    FlexDashboardUtils.resizableImage(element);
  }
});

// htmlwidget
window.FlexDashboardComponents.push({

  init: function(dashboardContainer) {
    // trigger "shown" after initial layout to force static htmlwidgets
    // in runtime: shiny to be resized after the dom has been transformed
    dashboardContainer.on('flexdashboard:layoutcomplete', function(event) {
      setTimeout(function() {
        dashboardContainer.trigger('shown');
      }, 200);
    });
  },

  find: function(container) {
    return container.children('div[id^="htmlwidget-"],div.html-widget');
  }
});

// gauge
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('div.html-widget.gauge');
  },

  flex: function(fillPage) {
    return false;
  },

  layout: function(title, container, element, fillPage) {


  }

});

// shiny output
window.FlexDashboardComponents.push({
  find: function(container) {
    return container.children('div[class^="shiny-"]');
  }
});

// bootstrap table
window.FlexDashboardComponents.push({

  find: function(container) {
    var bsTable = container.find('table.table');
    if (bsTable.length !== 0)
      return bsTable;
    else
      return container.find('tr.header').parent('thead').parent('table');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {

    // alias variables
    var bsTable = element;

    // fixup xtable generated tables with a proper thead
    var headerRow = bsTable.find('tbody > tr:first-child > th').parent();
    if (headerRow.length > 0) {
      var thead = $('<thead></thead>');
      bsTable.prepend(thead);
      headerRow.detach().appendTo(thead);
    }

    // improve appearance
    container.addClass('bootstrap-table');

    // for fill page provide scrolling w/ sticky headers
    if (fillPage) {
      // force scrollbar on overflow
      container.addClass('flowing-content-shim');

      // stable table headers when scrolling
      bsTable.stickyTableHeaders({
        scrollableArea: container
      });
    }
  }
});

// embedded shiny app
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.find('iframe.shiny-frame');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {
    if (fillPage) {
      element.attr('height', '100%');
    } else {
      // provide default height if necessary
      var height = element.get(0).style.height;
      if (!height)
        height = element.attr('height');
      if (!height)
        element.attr('height', 500);
    }
  }
});

// shiny fillRow or fillCol
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.find('.flexfill-container');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {
    if (fillPage)
      element.css('height', '100%');
    else {
      // provide default height if necessary
      var height = element.get(0).style.height;
      if (height === "100%" || height === "auto" || height === "initial" ||
          height === "inherit" || !height) {
        element.css('height', 500);
      }
    }
  }
});

// valueBox
window.FlexDashboardComponents.push({

  type: "custom",

  find: function(container) {
    if (container.find('span.value-output, .shiny-valuebox-output').length)
      return container;
    else
      return $();
  },

  flex: function(fillPage) {
    return false;
  },

  layout: function(title, container, element, fillPage) {

    // alias variables
    var chartTitle = title;
    var valueBox = element;

    // add value-box class to container
    container.addClass('value-box');

    // value paragraph
    var value = $('<p class="value"></p>');

    // if we have shiny-text-output then just move it in
    var valueOutputSpan = [];
    var shinyOutput = valueBox.find('.shiny-valuebox-output').detach();
    if (shinyOutput.length) {
      valueBox.children().remove();
      shinyOutput.html("&mdash;");
      value.append(shinyOutput);
    } else {
      // extract the value (remove leading vector index)
      var chartValue = valueBox.text().trim();
      chartValue = chartValue.replace("[1] ", "");
      valueOutputSpan = valueBox.find('span.value-output').detach();
      valueBox.children().remove();
      value.text(chartValue);
    }

    // caption
    var caption = $('<p class="caption"></p>');
    caption.append(chartTitle);

    // build inner div for value box and add it
    var inner = $('<div class="inner"></div>');
    inner.append(value);
    inner.append(caption);
    valueBox.append(inner);

    // add icon if specified
    var icon = $('<div class="icon"><i></i></div>');
    valueBox.append(icon);
    function setIcon(chartIcon) {
      var iconLib = "";
      var iconSplit = chartIcon.split(" ");
      if (iconSplit.length > 1) {
        iconLib = iconSplit[0];
        chartIcon = iconSplit.slice(1).join(" ");
      } else {
        var components = chartIcon.split("-");
        if (components.length > 1)
          iconLib = components[0];
      }
      icon.children('i').attr('class', iconLib + ' ' + chartIcon);
    }
    var chartIcon = valueBox.attr('data-icon');
    if (chartIcon)
      setIcon(chartIcon);

    // handle data attributes in valueOutputSpan
    function handleValueOutput(valueOutput) {

      // caption
      var dataCaption = valueOutput.attr('data-caption');
      if (dataCaption)
        caption.html(dataCaption);

      // icon
      var dataIcon = valueOutput.attr('data-icon');
      if (dataIcon)
        setIcon(dataIcon);

      // If valueBox(color=) was an accent color, this attr should
      // be populated with the accent color and the relevant CSS comes
      // in through HTML dependencies
      var dataColorAccent = valueOutput.attr('data-color-accent');
      var valueBoxClasses = "value-box-" + (["primary", "info", "danger", "warning", "success"].join(" value-box-"));
      if (dataColorAccent) {
        valueBox.removeClass(valueBoxClasses);
        valueBox.addClass('value-box-' + dataColorAccent);
      }

      // If valueBox(color=) was a CSS color, these other data-color-*
      // attrs will be populated
      var dataColor = valueOutput.attr('data-color');
      if (dataColor) {
        valueBox.removeClass(valueBoxClasses);
        valueBox.css('background-color', dataColor);
      }
      var dataColorText = valueOutput.attr('data-color-text');
      if (dataColorText) {
        valueBox.find(".inner").css('color', dataColorText);
      }
      var dataColorIcon = valueOutput.attr('data-color-icon');
      if (dataColorIcon) {
        valueBox.find(".icon").css('color', dataColorIcon);
      }

      // url
      var dataHref = valueOutput.attr('data-href');
      if (dataHref) {
        valueBox.addClass('linked-value');
        valueBox.off('click.value-box');
        valueBox.on('click.value-box', function(e) {
          window.FlexDashboardUtils.showLinkedValue(dataHref);
        });
      }
    }

    // check for a valueOutputSpan
    if (valueOutputSpan.length > 0) {
      handleValueOutput(valueOutputSpan);
    }

    // if we have a shinyOutput then bind a listener to handle
    // new valueOutputSpan values
    shinyOutput.on('shiny:value',
      function(event) {
        var element = $(event.target);
        setTimeout(function() {
          var valueOutputSpan = element.find('span.value-output');
          if (valueOutputSpan.length > 0)
            handleValueOutput(valueOutputSpan);
        }, 10);
      }
    );
  }
});
</script>

<div id="dashboard-container">

<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div id="map" class="section level1 sidebar" data-width="200">
<h1 class="sidebar">Map</h1>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div id="htmlwidget-5bf38fbae7719bb61537" style="width:100%;height:95vh;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-5bf38fbae7719bb61537">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.OceanBasemap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false,"variant":"Ocean/World_Ocean_Base"}]},{"method":"addProviderTiles","args":["Esri.OceanBasemap",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false,"variant":"Ocean/World_Ocean_Reference"}]},{"method":"addPolygons","args":[[[[{"lng":[-122.5000000001256,-123.0000000001507,-123.0000000001471,-122.5000000001226,-122.5000000001256],"lat":[35.90000000384009,35.90000000383724,35.50000000376804,35.50000000377088,35.90000000384009]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,"Monterey Bay - Davidson Seamount",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[35.50000000376804,35.90000000384009],"lng":[-123.0000000001507,-122.5000000001226]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="climatological" class="section level1">
<h1>Climatological</h1>
<div id="sea-surface-temperature" class="section level3"
data-height="300">
<h3>Sea Surface Temperature</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<details>
<summary>
<span style="color: #737373; font-size: 12px">Metadata</span>
</summary>
<p>The ERDDAP dataset for <a
href="https://upwell.pfeg.noaa.gov/erddap/griddap/jplMURSST41mday.html">sst</a>
was extracted using <a
href="https://github.com/noaa-onms/climate-dashboard/blob/main/scripts/get_data.R">get_data.R</a>
for the Monterey Bay - Davidson Seamount polygon and output to <a
href="https://raw.githubusercontent.com/noaa-onms/climate-dashboard/main/data/sst/MBNMS-david.csv">MBNMS-david.csv</a>,
which gets visualized below using <a
href="https://marinebon.github.io/extractr/reference/plot_ts.html"><code>extractr::plot_ts()</code></a>.</p>
</details>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-b7b80d9f7aaed0657122" style="width:576px;height:460.8px;"></div>
<script type="application/json" data-for="htmlwidget-b7b80d9f7aaed0657122">{"x":{"attrs":{"xlabel":"Date","ylabel":"Temperature (°C)","labels":["month","Temperature (°C)"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}},"colors":["red","red"],"customBars":true,"series":{"Temperature (°C)":{"axis":"y"}}},"scale":"monthly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2002-06-16T00:00:00.000Z","2002-07-16T00:00:00.000Z","2002-08-16T00:00:00.000Z","2002-09-16T00:00:00.000Z","2002-10-16T00:00:00.000Z","2002-11-16T00:00:00.000Z","2002-12-16T00:00:00.000Z","2003-01-16T00:00:00.000Z","2003-02-16T00:00:00.000Z","2003-03-16T00:00:00.000Z","2003-04-16T00:00:00.000Z","2003-05-16T00:00:00.000Z","2003-06-16T00:00:00.000Z","2003-07-16T00:00:00.000Z","2003-08-16T00:00:00.000Z","2003-09-16T00:00:00.000Z","2003-10-16T00:00:00.000Z","2003-11-16T00:00:00.000Z","2003-12-16T00:00:00.000Z","2004-01-16T00:00:00.000Z","2004-02-16T00:00:00.000Z","2004-03-16T00:00:00.000Z","2004-04-16T00:00:00.000Z","2004-05-16T00:00:00.000Z","2004-06-16T00:00:00.000Z","2004-07-16T00:00:00.000Z","2004-08-16T00:00:00.000Z","2004-09-16T00:00:00.000Z","2004-10-16T00:00:00.000Z","2004-11-16T00:00:00.000Z","2004-12-16T00:00:00.000Z","2005-01-16T00:00:00.000Z","2005-02-16T00:00:00.000Z","2005-03-16T00:00:00.000Z","2005-04-16T00:00:00.000Z","2005-05-16T00:00:00.000Z","2005-06-16T00:00:00.000Z","2005-07-16T00:00:00.000Z","2005-08-16T00:00:00.000Z","2005-09-16T00:00:00.000Z","2005-10-16T00:00:00.000Z","2005-11-16T00:00:00.000Z","2005-12-16T00:00:00.000Z","2006-01-16T00:00:00.000Z","2006-02-16T00:00:00.000Z","2006-03-16T00:00:00.000Z","2006-04-16T00:00:00.000Z","2006-05-16T00:00:00.000Z","2006-06-16T00:00:00.000Z","2006-07-16T00:00:00.000Z","2006-08-16T00:00:00.000Z","2006-09-16T00:00:00.000Z","2006-10-16T00:00:00.000Z","2006-11-16T00:00:00.000Z","2006-12-16T00:00:00.000Z","2007-01-16T00:00:00.000Z","2007-02-16T00:00:00.000Z","2007-03-16T00:00:00.000Z","2007-04-16T00:00:00.000Z","2007-05-16T00:00:00.000Z","2007-06-16T00:00:00.000Z","2007-07-16T00:00:00.000Z","2007-08-16T00:00:00.000Z","2007-09-16T00:00:00.000Z","2007-10-16T00:00:00.000Z","2007-11-16T00:00:00.000Z","2007-12-16T00:00:00.000Z","2008-01-16T00:00:00.000Z","2008-02-16T00:00:00.000Z","2008-03-16T00:00:00.000Z","2008-04-16T00:00:00.000Z","2008-05-16T00:00:00.000Z","2008-06-16T00:00:00.000Z","2008-07-16T00:00:00.000Z","2008-08-16T00:00:00.000Z","2008-09-16T00:00:00.000Z","2008-10-16T00:00:00.000Z","2008-11-16T00:00:00.000Z","2008-12-16T00:00:00.000Z","2009-01-16T00:00:00.000Z","2009-02-16T00:00:00.000Z","2009-03-16T00:00:00.000Z","2009-04-16T00:00:00.000Z","2009-05-16T00:00:00.000Z","2009-06-16T00:00:00.000Z","2009-07-16T00:00:00.000Z","2009-08-16T00:00:00.000Z","2009-09-16T00:00:00.000Z","2009-10-16T00:00:00.000Z","2009-11-16T00:00:00.000Z","2009-12-16T00:00:00.000Z","2010-01-16T00:00:00.000Z","2010-02-16T00:00:00.000Z","2010-03-16T00:00:00.000Z","2010-04-16T00:00:00.000Z","2010-05-16T00:00:00.000Z","2010-06-16T00:00:00.000Z","2010-07-16T00:00:00.000Z","2010-08-16T00:00:00.000Z","2010-09-16T00:00:00.000Z","2010-10-16T00:00:00.000Z","2010-11-16T00:00:00.000Z","2010-12-16T00:00:00.000Z","2011-01-16T00:00:00.000Z","2011-02-16T00:00:00.000Z","2011-03-16T00:00:00.000Z","2011-04-16T00:00:00.000Z","2011-05-16T00:00:00.000Z","2011-06-16T00:00:00.000Z","2011-07-16T00:00:00.000Z","2011-08-16T00:00:00.000Z","2011-09-16T00:00:00.000Z","2011-10-16T00:00:00.000Z","2011-11-16T00:00:00.000Z","2011-12-16T00:00:00.000Z","2012-01-16T00:00:00.000Z","2012-02-16T00:00:00.000Z","2012-03-16T00:00:00.000Z","2012-04-16T00:00:00.000Z","2012-05-16T00:00:00.000Z","2012-06-16T00:00:00.000Z","2012-07-16T00:00:00.000Z","2012-08-16T00:00:00.000Z","2012-09-16T00:00:00.000Z","2012-10-16T00:00:00.000Z","2012-11-16T00:00:00.000Z","2012-12-16T00:00:00.000Z","2013-01-16T00:00:00.000Z","2013-02-16T00:00:00.000Z","2013-03-16T00:00:00.000Z","2013-04-16T00:00:00.000Z","2013-05-16T00:00:00.000Z","2013-06-16T00:00:00.000Z","2013-07-16T00:00:00.000Z","2013-08-16T00:00:00.000Z","2013-09-16T00:00:00.000Z","2013-10-16T00:00:00.000Z","2013-11-16T00:00:00.000Z","2013-12-16T00:00:00.000Z","2014-01-16T00:00:00.000Z","2014-02-16T00:00:00.000Z","2014-03-16T00:00:00.000Z","2014-04-16T00:00:00.000Z","2014-05-16T00:00:00.000Z","2014-06-16T00:00:00.000Z","2014-07-16T00:00:00.000Z","2014-08-16T00:00:00.000Z","2014-09-16T00:00:00.000Z","2014-10-16T00:00:00.000Z","2014-11-16T00:00:00.000Z","2014-12-16T00:00:00.000Z","2015-01-16T00:00:00.000Z","2015-02-16T00:00:00.000Z","2015-03-16T00:00:00.000Z","2015-04-16T00:00:00.000Z","2015-05-16T00:00:00.000Z","2015-06-16T00:00:00.000Z","2015-07-16T00:00:00.000Z","2015-08-16T00:00:00.000Z","2015-09-16T00:00:00.000Z","2015-10-16T00:00:00.000Z","2015-11-16T00:00:00.000Z","2015-12-16T00:00:00.000Z","2016-01-16T00:00:00.000Z","2016-02-16T00:00:00.000Z","2016-03-16T00:00:00.000Z","2016-04-16T00:00:00.000Z","2016-05-16T00:00:00.000Z","2016-06-16T00:00:00.000Z","2016-07-16T00:00:00.000Z","2016-08-16T00:00:00.000Z","2016-09-16T00:00:00.000Z","2016-10-16T00:00:00.000Z","2016-11-16T00:00:00.000Z","2016-12-16T00:00:00.000Z","2017-01-16T00:00:00.000Z","2017-02-16T00:00:00.000Z","2017-03-16T00:00:00.000Z","2017-04-16T00:00:00.000Z","2017-05-16T00:00:00.000Z","2017-06-16T00:00:00.000Z","2017-07-16T00:00:00.000Z","2017-08-16T00:00:00.000Z","2017-09-16T00:00:00.000Z","2017-10-16T00:00:00.000Z","2017-11-16T00:00:00.000Z","2017-12-16T00:00:00.000Z","2018-01-16T00:00:00.000Z","2018-02-16T00:00:00.000Z","2018-03-16T00:00:00.000Z","2018-04-16T00:00:00.000Z","2018-05-16T00:00:00.000Z","2018-06-16T00:00:00.000Z","2018-07-16T00:00:00.000Z","2018-08-16T00:00:00.000Z","2018-09-16T00:00:00.000Z","2018-10-16T00:00:00.000Z","2018-11-16T00:00:00.000Z","2018-12-16T00:00:00.000Z","2019-01-16T00:00:00.000Z","2019-02-16T00:00:00.000Z","2019-03-16T00:00:00.000Z","2019-04-16T00:00:00.000Z","2019-05-16T00:00:00.000Z","2019-06-16T00:00:00.000Z","2019-07-16T00:00:00.000Z","2019-08-16T00:00:00.000Z","2019-09-16T00:00:00.000Z","2019-10-16T00:00:00.000Z","2019-11-16T00:00:00.000Z","2019-12-16T00:00:00.000Z","2020-01-16T00:00:00.000Z","2020-02-16T00:00:00.000Z","2020-03-16T00:00:00.000Z","2020-04-16T00:00:00.000Z","2020-05-16T00:00:00.000Z","2020-06-16T00:00:00.000Z","2020-07-16T00:00:00.000Z","2020-08-16T00:00:00.000Z","2020-09-16T00:00:00.000Z","2020-10-16T00:00:00.000Z","2020-11-16T00:00:00.000Z","2020-12-16T00:00:00.000Z","2021-01-16T00:00:00.000Z","2021-02-16T00:00:00.000Z","2021-03-16T00:00:00.000Z","2021-04-16T00:00:00.000Z","2021-05-16T00:00:00.000Z","2021-06-16T00:00:00.000Z","2021-07-16T00:00:00.000Z","2021-08-16T00:00:00.000Z","2021-09-16T00:00:00.000Z","2021-10-16T00:00:00.000Z","2021-11-16T00:00:00.000Z","2021-12-16T00:00:00.000Z","2022-01-16T00:00:00.000Z","2022-02-16T00:00:00.000Z","2022-03-16T00:00:00.000Z","2022-04-16T00:00:00.000Z","2022-05-16T00:00:00.000Z","2022-06-16T00:00:00.000Z","2022-07-16T00:00:00.000Z","2022-08-16T00:00:00.000Z","2022-09-16T00:00:00.000Z","2022-10-16T00:00:00.000Z","2022-11-16T00:00:00.000Z","2022-12-16T00:00:00.000Z","2023-02-16T00:00:00.000Z","2023-03-16T00:00:00.000Z","2023-04-16T00:00:00.000Z","2023-05-16T00:00:00.000Z","2023-06-16T00:00:00.000Z","2023-07-16T00:00:00.000Z","2023-08-16T00:00:00.000Z","2023-09-16T00:00:00.000Z","2023-10-16T00:00:00.000Z","2023-11-16T00:00:00.000Z","2023-12-16T00:00:00.000Z","2024-01-16T00:00:00.000Z","2024-02-16T00:00:00.000Z","2024-03-16T00:00:00.000Z","2024-04-16T00:00:00.000Z","2024-05-16T00:00:00.000Z","2024-06-16T00:00:00.000Z","2024-07-16T00:00:00.000Z"],[[13.90908855980029,13.93993727594172,13.97078599208315],[14.8896412512183,15.05230199156168,15.21496273190505],[15.83314479514038,15.87504514149648,15.91694548785259],[15.99295366218308,16.37409286462537,16.75523206706766],[15.51154644108141,15.86313336161208,16.21472028214275],[14.4427477679425,14.75742025206615,15.07209273618979],[14.10696989846075,14.31899354516006,14.53101719185938],[14.15822854063743,14.20676674972819,14.25530495881895],[13.60952687646866,13.68013585007174,13.75074482367481],[13.70035070869276,13.75056021866874,13.80076972864472],[13.7125125685242,13.873060710803,14.03360885308179],[13.71161801177459,14.00535391575409,14.29908981973358],[14.72933164718229,14.83440592914948,14.93948021111667],[16.14850510922803,16.29613009963179,16.44375509003556],[17.71886261097418,17.89573118482578,18.07259975867738],[16.77540627940082,17.05140863361112,17.32741098782143],[15.13156543646621,15.42292173395654,15.71427803144687],[15.17324833871117,15.27828011861662,15.38331189852206],[13.56995519965424,13.69027869043482,13.81060218121541],[12.90074744369532,12.94917284957762,12.99759825545991],[12.61410872781147,12.74097618128568,12.86784363475989],[13.13524611276462,13.23686891808457,13.33849172340453],[13.83949555197413,13.91207055302113,13.98464555406814],[14.44563620127844,14.70251403545889,14.95939186963934],[14.81663175196736,15.25029058105235,15.68394941013735],[15.55998581224714,15.93292919361437,16.30587257498161],[16.33758941891544,16.51256341993495,16.68753742095446],[16.53144185916906,16.74382851672252,16.95621517427599],[15.64691846994753,15.75064256212918,15.85436665431082],[14.69449313695941,14.80776469642497,14.92103625589052],[13.24515377856351,13.34473263390722,13.44431148925094],[13.16635274052502,13.2186746474147,13.27099655430438],[13.23964455703405,13.34227994593178,13.44491533482952],[13.95692874609296,14.02552645814185,14.09412417019075],[14.05074062097304,14.12167609427775,14.19261156758245],[15.48234354657251,15.54111685403963,15.59989016150676],[14.79483687985938,14.95775792155181,15.12067896324425],[15.22430442721551,15.46682761149906,15.7093507957826],[16.42638059507635,16.51340324441991,16.60042589376346],[16.43077964194567,16.6112876684115,16.79179569487733],[14.90177768549072,15.15040891219531,15.3990401388999],[14.18384403605242,14.38090943492012,14.57797483378782],[13.2075376447549,13.29403906903844,13.38054049332199],[13.04089571132688,13.11369809005204,13.1865004687772],[13.17722806643273,13.28419521629155,13.39116236615037],[12.20016940212174,12.23866567515916,12.27716194819659],[13.05098691754403,13.14335271104679,13.23571850454954],[14.2304462927832,14.30553059370423,14.38061489462526],[14.92205508659375,15.1691522803505,15.41624947410724],[15.31255138669316,15.42689424402574,15.54123710135831],[16.52248289791291,16.64092938766589,16.75937587741887],[15.72471354023291,15.89758019102982,16.07044684182674],[16.28655327637131,16.35598807423836,16.42542287210542],[14.78299224801221,15.01389256189566,15.24479287577911],[13.70935476666373,13.84731613443777,13.9852775022118],[12.22518808723636,12.27984896440474,12.33450984157312],[12.23830334047223,12.34824165917081,12.4581799778694],[12.67378955207662,12.74076963668232,12.80774972128802],[12.39068176607393,12.44051114068198,12.49034051529003],[13.06417428003878,13.15536119560486,13.24654811117094],[13.9872326858573,14.05995218358161,14.13267168130592],[15.30295477119723,15.50028115285748,15.69760753451774],[15.63455085841598,15.81980331909822,16.00505577978046],[16.52557085442441,16.77576252788177,17.02595420133913],[15.19328437055815,15.40515266611837,15.6170209616786],[14.65639785085463,14.74013041674606,14.82386298263749],[11.90501098627466,11.96620835715193,12.02740572802921],[11.60705101120838,11.65381019917018,11.70056938713198],[11.71808445234548,11.8105824277596,11.90308040317372],[11.78987780127013,11.91724669038252,12.0446155794949],[11.6512553178054,11.80472033814002,11.95818535847464],[12.84071157983409,13.0036479670827,13.1665843543313],[13.06135324848676,13.1480483607434,13.23474347300004],[15.0363896980674,15.1476472975933,15.25890489711919],[15.36316848179,15.54679156193489,15.73041464207978],[16.09280154451948,16.13375215243062,16.17470276034175],[15.1602415767756,15.2800017712163,15.399761965657],[14.25699000872746,14.35165495760757,14.44631990648767],[13.02178439443709,13.15080514449015,13.27982589454322],[12.95877582216448,13.08413899155794,13.2095021609514],[12.10544355001545,12.21261539760245,12.31978724518945],[12.07722639073385,12.14235157102332,12.2074767513128],[12.61924829227318,12.6702241464302,12.72120000058723],[13.15083760172383,13.31890407947192,13.48697055722001],[15.15249696059483,15.26445845791394,15.37641995523305],[15.11799869864582,15.21629758932441,15.314596480003],[16.71639050223526,16.97494482024898,17.23349913826271],[16.76848485279032,16.96825366245965,17.16802247212898],[15.18535842730253,15.3501102806905,15.51486213407846],[13.46722129821841,13.65360674864934,13.83999219908028],[12.58316974362885,12.65793137114793,12.73269299866701],[13.06992005093062,13.15566377352437,13.24140749611812],[13.31954843090157,13.39260617606894,13.46566392123631],[13.33811028613195,13.38704168756632,13.43597308900069],[13.13711693752025,13.32673359692581,13.51635025633137],[13.02203657284667,13.17543145813251,13.32882634341835],[13.86558246114658,13.94712802589595,14.02867359064532],[14.80555807692714,14.87215366299673,14.93874924906633],[14.41125553346331,14.66043442553279,14.90961331760227],[15.04684798065154,15.14329049371749,15.23973300678345],[15.15804569646297,15.28485327802281,15.41166085958266],[13.72279749762799,13.8347023043092,13.94660711099042],[12.75729955206069,12.82744091586711,12.89758227967353],[12.89356662090756,12.95193878421938,13.01031094753121],[12.32350846434551,12.41534365449209,12.50717884463868],[12.42919041245302,12.51771185650089,12.60623330054876],[12.96030726386839,13.04484993758126,13.12939261129414],[12.9800559861142,13.13225724353909,13.28445850096397],[14.18681917348639,14.25256209006325,14.31830500664011],[15.37450583452362,15.41024783192383,15.44598982932404],[16.1529168309286,16.37322698854933,16.59353714617006],[17.00173135402892,17.35189248682038,17.70205361961183],[16.10162619057899,16.24824082435232,16.39485545812565],[14.1460897699451,14.32953241349179,14.51297505703848],[12.81966850925104,12.9837301027142,13.14779169617735],[12.68355088363263,12.79418078385604,12.90481068407945],[12.32478386859241,12.45295594925518,12.58112802991795],[11.92143813458295,12.10948253396252,12.29752693334209],[12.41318425378804,12.48651628024495,12.55984830670185],[12.97209542989912,13.08431431803619,13.19653320617326],[13.6118673994833,13.86544112392956,14.11901484837583],[14.87113197814922,15.13097878907184,15.39082559999446],[14.95290043816298,15.23368230497706,15.51446417179115],[15.53036867470874,15.74436785033421,15.95836702595968],[16.47642156956788,16.57788828809201,16.67935500661614],[16.03726124386354,16.08142987419577,16.125598504528],[14.05967108266784,14.30341697047054,14.54716285827325],[13.00270564651886,13.14227124163547,13.28183683675208],[12.22782829561217,12.32262890239699,12.41742950918182],[11.88347837040366,11.96068143548149,12.03788450055932],[12.44722630694869,12.51698033949908,12.58673437204948],[13.52296712656003,13.56630955992105,13.60965199328207],[13.83450321154179,13.95509000510932,14.07567679867686],[15.23994689552048,15.31317884462522,15.38641079372996],[15.63908635837499,15.81930536154296,15.99952436471093],[16.30642309772207,16.60667545677999,16.9069278158379],[14.60595656524893,15.04966981761026,15.49338306997158],[13.91861768185866,14.2447733502819,14.57092901870514],[12.97190849853392,13.07762394836222,13.18333939819051],[13.04092198799783,13.28821473598252,13.53550748396721],[13.21546143283733,13.31057517417933,13.40568891552134],[13.48763382042262,13.53550519537321,13.58337657032381],[14.11362939016195,14.16643615751846,14.21924292487496],[15.23810030822764,15.3552279953521,15.47235568247657],[14.36005702059152,14.55275079407001,14.74544456754849],[16.21585643046504,16.39032440696363,16.56479238346221],[17.94483633748895,18.04952684764597,18.154217357803],[18.12598328107285,18.33026010667463,18.5345369322764],[18.2030572511548,18.41872896023882,18.63440066932284],[16.88685442960508,17.14815550064824,17.4094565716914],[15.92220164219197,16.15874511485234,16.39528858751272],[14.76972903756982,14.88069385617957,14.99165867478933],[14.7475241577326,14.79347657359199,14.83942898945139],[14.77370722025527,14.89842576583797,15.02314431142067],[14.36731502898959,14.54894816664518,14.73058130430078],[14.08115653225638,14.20609727491892,14.33103801758147],[15.49278364592654,15.66162180889172,15.83045997185689],[18.07776574132389,18.17895611435075,18.28014648737761],[19.44512103527142,19.58359262328693,19.72206421130244],[18.66300410205265,18.85919221561528,19.05538032917792],[18.75052760120977,18.91582223024738,19.08111685928499],[16.05511883267429,16.28533742896454,16.51555602525479],[14.25245478757811,14.35353453976865,14.45461429195919],[13.72969639040732,13.80745680602414,13.88521722164096],[13.92811035539956,14.08118922171098,14.2342680880224],[14.10925651620907,14.25536268718616,14.40146885816324],[14.21653715913217,14.44631814979469,14.67609914045721],[14.05773775847513,14.19279984228352,14.32786192609192],[15.12185767231286,15.24274691595865,15.36363615960443],[15.55459588378257,15.74249104117161,15.93038619856065],[16.40384206625687,16.54193297668486,16.68002388711285],[16.66244987668654,16.79457491450992,16.92669995233329],[15.998422077526,16.06580598339517,16.13318988926434],[15.96205006678262,16.22138293287732,16.48071579897202],[13.952659618787,14.32863021113552,14.70460080348404],[13.17823279927288,13.29711112811884,13.41598945696479],[13.25382448434448,13.34166795975965,13.42951143517481],[13.50228251680153,13.62018592867311,13.73808934054468],[13.59205560069317,13.71343916788562,13.83482273507806],[14.41666822161049,14.50576507845659,14.59486193530269],[15.82033172355149,15.97740629425122,16.13448086495094],[16.19149845280636,16.30721326378303,16.4229280747597],[17.29710930432994,17.41990933812788,17.54270937192581],[17.73070259455859,17.86404456891607,17.99738654327356],[16.25996760232882,16.58481611400515,16.90966462568148],[15.62149844920136,15.89666946535188,16.1718404815024],[14.66006681077261,14.73655338004581,14.81303994931901],[14.12501565280525,14.19476642362357,14.26451719444189],[13.71027553060295,13.79673051218391,13.88318549376487],[13.01256134440916,13.11829078853102,13.22402023265288],[13.88941286697974,14.00007336770217,14.11073386842459],[14.09180964540222,14.26597168319024,14.44013372097825],[14.33691272684716,14.46321362094523,14.58951451504331],[15.99902056971031,16.16317128747459,16.32732200523888],[15.79129698713931,15.95583607305584,16.12037515897238],[16.44018942881229,16.62735966117344,16.8145298935346],[16.69886850091683,16.8298498926295,16.96083128434217],[15.38027302283785,15.50764855741029,15.63502409198273],[14.37455683730076,14.52255561350636,14.67055438971196],[13.55765332723085,13.64482517324527,13.73199701925969],[13.15379750354636,13.25392396800088,13.35405043245541],[13.24753996673219,13.3680304769464,13.48852098716061],[13.92263053158132,14.10239774174008,14.28216495189884],[14.75704077948691,14.99293184576851,15.22882291205011],[15.26673729262823,15.46161453487883,15.65649177712944],[16.47729643244866,16.60578084368275,16.73426525491684],[16.66070671339585,17.07232371202101,17.48394071064617],[17.37345484130386,17.70109671214618,18.0287385829885],[15.09173662017269,15.31315128977706,15.53456595938143],[15.23124582097662,15.41810842155555,15.60497102213448],[13.98283991001672,14.11395221347161,14.2450645169265],[13.23972701209084,13.32903978301258,13.41835255393431],[12.86390873854099,12.90906457887318,12.95422041920538],[12.79119161184752,12.91149033957381,13.03178906730009],[13.7829487754757,13.85206128945481,13.92117380343391],[14.90290362566314,15.02909670829317,15.1552897909232],[14.99588585019264,15.19706802696546,15.39825020373828],[14.9592933359855,15.03923373995416,15.11917414392282],[16.03920023991632,16.3712638515653,16.70332746321429],[17.86938498884655,17.98677516154613,18.10416533424572],[17.48188695041658,17.65982276044469,17.83775857047279],[14.25645787682423,14.51846755696848,14.78047723711273],[12.53478015772869,12.62025795366022,12.70573574959174],[12.46262694899885,12.60005178501707,12.7374766210353],[12.22039619565295,12.35234508395822,12.48429397226349],[11.90831781838993,12.00922111025956,12.11012440212919],[12.11744784011113,12.23802017948948,12.35859251886782],[12.68359570425806,12.7505917140937,12.81758772392934],[14.12498328465229,14.30362408426833,14.48226488388437],[15.37101543783283,15.47410117194506,15.57718690605729],[16.5838228044199,16.65887889013742,16.73393497585494],[16.95055455735974,16.99520703265109,17.03985950794245],[14.96329379616541,15.04700414875602,15.13071450134662],[14.90549954355174,15.05238748748356,15.19927543141539],[13.61185488531871,13.77180112440127,13.93174736348382],[13.3698678722914,13.48974318939895,13.6096185065065],[12.97406856149811,13.04854872350998,13.12302888552186],[12.59655287208038,12.75173140187859,12.9069099316768],[12.52427257108877,12.70546018581308,12.8866478005374],[12.67903534195598,12.9917350779989,13.30443481404182],[13.87664371805842,14.29273130835556,14.70881889865271],[15.53904751330093,15.66537856508362,15.7917096168663],[16.28234108994948,16.57729673454033,16.87225237913118],[17.087232519828,17.31424496038173,17.54125740093546],[16.55482962950587,16.72851696771506,16.90220430592424],[13.65754864925779,13.81056443245886,13.96358021565994],[13.01072329268883,13.04604725995057,13.08137122721231],[12.30030438227084,12.4469996652553,12.59369494823976],[12.02441676999064,12.1431846381488,12.26195250630696],[12.43593263802159,12.51136675432845,12.5868008706353],[13.84873510857968,13.88433846647462,13.91994182436957],[14.79514577375365,14.82418510914989,14.85322444454613],[15.53586263514276,15.73157466558222,15.92728669602168],[17.34591577901926,17.76087333573387,18.17583089244848],[17.63543100003455,17.84194938991698,18.04846777979941],[16.98447725640051,17.07165378477515,17.15883031314979],[16.6463931312901,16.82762199266854,17.00885085404699],[15.41517951759863,15.47867984488956,15.54218017218048],[14.16655357716675,14.26500098777125,14.36344839837576],[13.82940500874581,13.96133062361759,14.09325623848937],[13.84562756290113,13.9077346925813,13.96984182226147],[13.71171918279126,13.87928491024125,14.04685063769124],[13.66160203215668,13.80899139798354,13.95638076381041],[14.02786478658212,14.18933353579141,14.35080228500071],[15.24678649905415,15.4295190184496,15.61225153784506]]]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="chlorophyll" class="section level3" data-height="300">
<h3>Chlorophyll</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<details>
<summary>
<span style="color: #737373; font-size: 12px">Metadata</span>
</summary>
<p>The ERDDAP dataset for <a
href="https://coastwatch.pfeg.noaa.gov/erddap/griddap/erdMH1chlamday.html">chlorophyll</a>
was extracted using <a
href="https://github.com/noaa-onms/climate-dashboard/blob/main/scripts/get_data.R">get_data.R</a>
for the Monterey Bay - Davidson Seamount polygon and output to <a
href="https://raw.githubusercontent.com/noaa-onms/climate-dashboard/main/data/chlorophyll/MBNMS-david.csv">MBNMS-david.csv</a>,
which gets visualized below using <a
href="https://marinebon.github.io/extractr/reference/plot_ts.html"><code>extractr::plot_ts()</code></a>.</p>
</details>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-202bb74e1c9193066478" style="width:576px;height:460.8px;"></div>
<script type="application/json" data-for="htmlwidget-202bb74e1c9193066478">{"x":{"attrs":{"xlabel":"Date","ylabel":"Chlorophyll a (mg/m³)","labels":["month","Chlorophyll a (mg/m³)"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}},"colors":["green","green"],"customBars":true,"series":{"Chlorophyll a (mg/m³)":{"axis":"y"}}},"scale":"monthly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2003-01-16T00:00:00.000Z","2003-02-16T00:00:00.000Z","2003-03-16T00:00:00.000Z","2003-04-16T00:00:00.000Z","2003-05-16T00:00:00.000Z","2003-06-16T00:00:00.000Z","2003-07-16T00:00:00.000Z","2003-08-16T00:00:00.000Z","2003-09-16T00:00:00.000Z","2003-10-16T00:00:00.000Z","2003-11-16T00:00:00.000Z","2003-12-16T00:00:00.000Z","2004-01-16T00:00:00.000Z","2004-02-16T00:00:00.000Z","2004-03-16T00:00:00.000Z","2004-04-16T00:00:00.000Z","2004-05-16T00:00:00.000Z","2004-06-16T00:00:00.000Z","2004-07-16T00:00:00.000Z","2004-08-16T00:00:00.000Z","2004-09-16T00:00:00.000Z","2004-10-16T00:00:00.000Z","2004-11-16T00:00:00.000Z","2004-12-16T00:00:00.000Z","2005-01-16T00:00:00.000Z","2005-02-16T00:00:00.000Z","2005-03-16T00:00:00.000Z","2005-04-16T00:00:00.000Z","2005-05-16T00:00:00.000Z","2005-06-16T00:00:00.000Z","2005-07-16T00:00:00.000Z","2005-08-16T00:00:00.000Z","2005-09-16T00:00:00.000Z","2005-10-16T00:00:00.000Z","2005-11-16T00:00:00.000Z","2005-12-16T00:00:00.000Z","2006-01-16T00:00:00.000Z","2006-02-16T00:00:00.000Z","2006-03-16T00:00:00.000Z","2006-04-16T00:00:00.000Z","2006-05-16T00:00:00.000Z","2006-06-16T00:00:00.000Z","2006-07-16T00:00:00.000Z","2006-08-16T00:00:00.000Z","2006-09-16T00:00:00.000Z","2006-10-16T00:00:00.000Z","2006-11-16T00:00:00.000Z","2006-12-16T00:00:00.000Z","2007-01-16T00:00:00.000Z","2007-02-16T00:00:00.000Z","2007-03-16T00:00:00.000Z","2007-04-16T00:00:00.000Z","2007-05-16T00:00:00.000Z","2007-06-16T00:00:00.000Z","2007-07-16T00:00:00.000Z","2007-08-16T00:00:00.000Z","2007-09-16T00:00:00.000Z","2007-10-16T00:00:00.000Z","2007-11-16T00:00:00.000Z","2007-12-16T00:00:00.000Z","2008-01-16T00:00:00.000Z","2008-02-16T00:00:00.000Z","2008-03-16T00:00:00.000Z","2008-04-16T00:00:00.000Z","2008-05-16T00:00:00.000Z","2008-06-16T00:00:00.000Z","2008-07-16T00:00:00.000Z","2008-08-16T00:00:00.000Z","2008-09-16T00:00:00.000Z","2008-10-16T00:00:00.000Z","2008-11-16T00:00:00.000Z","2008-12-16T00:00:00.000Z","2009-01-16T00:00:00.000Z","2009-02-16T00:00:00.000Z","2009-03-16T00:00:00.000Z","2009-04-16T00:00:00.000Z","2009-05-16T00:00:00.000Z","2009-06-16T00:00:00.000Z","2009-07-16T00:00:00.000Z","2009-08-16T00:00:00.000Z","2009-09-16T00:00:00.000Z","2009-10-16T00:00:00.000Z","2009-11-16T00:00:00.000Z","2009-12-16T00:00:00.000Z","2010-01-16T00:00:00.000Z","2010-02-16T00:00:00.000Z","2010-03-16T00:00:00.000Z","2010-04-16T00:00:00.000Z","2010-05-16T00:00:00.000Z","2010-06-16T00:00:00.000Z","2010-07-16T00:00:00.000Z","2010-08-16T00:00:00.000Z","2010-09-16T00:00:00.000Z","2010-10-16T00:00:00.000Z","2010-11-16T00:00:00.000Z","2010-12-16T00:00:00.000Z","2011-01-16T00:00:00.000Z","2011-02-16T00:00:00.000Z","2011-03-16T00:00:00.000Z","2011-04-16T00:00:00.000Z","2011-05-16T00:00:00.000Z","2011-06-16T00:00:00.000Z","2011-07-16T00:00:00.000Z","2011-08-16T00:00:00.000Z","2011-09-16T00:00:00.000Z","2011-10-16T00:00:00.000Z","2011-11-16T00:00:00.000Z","2011-12-16T00:00:00.000Z","2012-01-16T00:00:00.000Z","2012-02-16T00:00:00.000Z","2012-03-16T00:00:00.000Z","2012-04-16T00:00:00.000Z","2012-05-16T00:00:00.000Z","2012-06-16T00:00:00.000Z","2012-07-16T00:00:00.000Z","2012-08-16T00:00:00.000Z","2012-09-16T00:00:00.000Z","2012-10-16T00:00:00.000Z","2012-11-16T00:00:00.000Z","2012-12-16T00:00:00.000Z","2013-01-16T00:00:00.000Z","2013-02-16T00:00:00.000Z","2013-03-16T00:00:00.000Z","2013-04-16T00:00:00.000Z","2013-05-16T00:00:00.000Z","2013-06-16T00:00:00.000Z","2013-07-16T00:00:00.000Z","2013-08-16T00:00:00.000Z","2013-09-16T00:00:00.000Z","2013-10-16T00:00:00.000Z","2013-11-16T00:00:00.000Z","2013-12-16T00:00:00.000Z","2014-01-16T00:00:00.000Z","2014-02-16T00:00:00.000Z","2014-03-16T00:00:00.000Z","2014-04-16T00:00:00.000Z","2014-05-16T00:00:00.000Z","2014-06-16T00:00:00.000Z","2014-07-16T00:00:00.000Z","2014-08-16T00:00:00.000Z","2014-09-16T00:00:00.000Z","2014-10-16T00:00:00.000Z","2014-11-16T00:00:00.000Z","2014-12-16T00:00:00.000Z","2015-01-16T00:00:00.000Z","2015-02-16T00:00:00.000Z","2015-03-16T00:00:00.000Z","2015-04-16T00:00:00.000Z","2015-05-16T00:00:00.000Z","2015-06-16T00:00:00.000Z","2015-07-16T00:00:00.000Z","2015-08-16T00:00:00.000Z","2015-09-16T00:00:00.000Z","2015-10-16T00:00:00.000Z","2015-11-16T00:00:00.000Z","2015-12-16T00:00:00.000Z","2016-01-16T00:00:00.000Z","2016-02-16T00:00:00.000Z","2016-03-16T00:00:00.000Z","2016-04-16T00:00:00.000Z","2016-05-16T00:00:00.000Z","2016-06-16T00:00:00.000Z","2016-07-16T00:00:00.000Z","2016-08-16T00:00:00.000Z","2016-09-16T00:00:00.000Z","2016-10-16T00:00:00.000Z","2016-11-16T00:00:00.000Z","2016-12-16T00:00:00.000Z","2017-01-16T00:00:00.000Z","2017-02-16T00:00:00.000Z","2017-03-16T00:00:00.000Z","2017-04-16T00:00:00.000Z","2017-05-16T00:00:00.000Z","2017-06-16T00:00:00.000Z","2017-07-16T00:00:00.000Z","2017-08-16T00:00:00.000Z","2017-09-16T00:00:00.000Z","2017-10-16T00:00:00.000Z","2017-11-16T00:00:00.000Z","2017-12-16T00:00:00.000Z","2018-01-16T00:00:00.000Z","2018-02-16T00:00:00.000Z","2018-03-16T00:00:00.000Z","2018-04-16T00:00:00.000Z","2018-05-16T00:00:00.000Z","2018-06-16T00:00:00.000Z","2018-07-16T00:00:00.000Z","2018-08-16T00:00:00.000Z","2018-09-16T00:00:00.000Z","2018-10-16T00:00:00.000Z","2018-11-16T00:00:00.000Z","2018-12-16T00:00:00.000Z","2019-01-16T00:00:00.000Z","2019-02-16T00:00:00.000Z","2019-03-16T00:00:00.000Z","2019-04-16T00:00:00.000Z","2019-05-16T00:00:00.000Z","2019-06-16T00:00:00.000Z","2019-07-16T00:00:00.000Z","2019-08-16T00:00:00.000Z","2019-09-16T00:00:00.000Z","2019-10-16T00:00:00.000Z","2019-11-16T00:00:00.000Z","2019-12-16T00:00:00.000Z","2020-01-16T00:00:00.000Z","2020-02-16T00:00:00.000Z","2020-03-16T00:00:00.000Z","2020-04-16T00:00:00.000Z","2020-05-16T00:00:00.000Z","2020-06-16T00:00:00.000Z","2020-07-16T00:00:00.000Z","2020-08-16T00:00:00.000Z","2020-09-16T00:00:00.000Z","2020-10-16T00:00:00.000Z","2020-11-16T00:00:00.000Z","2020-12-16T00:00:00.000Z","2021-01-16T00:00:00.000Z","2021-02-16T00:00:00.000Z","2021-03-16T00:00:00.000Z","2021-04-16T00:00:00.000Z","2021-05-16T00:00:00.000Z","2021-06-16T00:00:00.000Z","2021-07-16T00:00:00.000Z","2021-08-16T00:00:00.000Z","2021-09-16T00:00:00.000Z","2021-10-16T00:00:00.000Z","2021-11-16T00:00:00.000Z","2021-12-16T00:00:00.000Z","2022-01-16T00:00:00.000Z","2022-02-16T00:00:00.000Z","2022-03-16T00:00:00.000Z","2022-04-16T00:00:00.000Z","2022-05-16T00:00:00.000Z"],[[0.4040304858181575,0.4840024074682822,0.5639743291184069],[0.6002582617695431,0.7377854528335425,0.8753126438975418],[0.5048050413935039,0.5377402603626251,0.5706754793317463],[0.2975177799216454,0.4117346548117124,0.5259515297017795],[0.2539147228899954,0.552012370641415,0.8501100183928345],[0.308063602132039,0.4480891940685419,0.5881147860050449],[0.3181599156983574,0.3850114006262559,0.4518628855541544],[0.2385113889723977,0.2525218538366831,0.2665323187009686],[0.4575026665220215,0.5991942531787432,0.7408858398354649],[0.7211727893518307,1.486808967131835,2.252445144911839],[0.4817821213318082,0.516502798979099,0.5512234766263898],[0.6148682681953703,0.6656450780538412,0.7164218879123121],[0.669198616170199,0.8228281167837289,0.9764576173972588],[0.4279905949134772,0.5683999389410019,0.7088092829685266],[0.4218756565427938,0.8283181140056023,1.234760571468411],[0.5526057804050366,0.5986890471898593,0.6447723139746819],[0.3052454342144199,0.3997434164469059,0.4942413986793919],[0.1950205077006357,0.2700700473326903,0.3451195869647449],[0.224262864715476,0.5386369848480591,0.8530111049806423],[0.4916627029840148,0.6579362656061466,0.8242098282282784],[0.6794433062618267,1.46143937431849,2.243435442375153],[0.8184676582068418,1.694480141768089,2.570492625329336],[0.9817492378859221,1.0562142262092,1.130679214532478],[0.738353810972298,0.820189814384167,0.9020258177960361],[0.7977357183975127,0.8569716944144322,0.9162076704313518],[0.6379241512543053,0.8174417213751719,0.9969592914960385],[0.2845762172970815,0.388090940622183,0.4916056639472844],[0.5949462551571618,0.8956375919855558,1.19632892881395],[0.07886362255233523,0.2966196495108306,0.514375676469326],[0.5326196527606908,0.839507278570762,1.146394904380833],[0.5037918850334726,0.7201561450958252,0.9365204051581777],[0.33099813789284,0.3973031681317549,0.4636081983706698],[0.1624462058197848,0.374838831103765,0.5872314563877453],[0.4456921192995738,0.7373795500168434,1.029066980734113],[1.852719613573242,3.463105199887202,5.073490786201162],[0.6774803110799968,0.8268381435137528,0.9761959759475088],[1.068970412836915,1.413371371305906,1.757772329774897],[0.7282405120319767,0.8582490884340727,0.9882576648361686],[0.7692011002627368,1.065691691637039,1.362182283011341],[0.6466945080473974,0.8093834400177002,0.9720723719880031],[0.3723199077165634,0.5044327453925059,0.6365455830684484],[0.1894298900704564,0.6912982505101424,1.193166610949828],[0.6859641228509599,1.64588509110304,2.605806059355121],[0.2682844618048914,0.6856159086410816,1.102947355477272],[0.9720299780903502,1.530472462910872,2.088914947731394],[0.4582985773290661,0.511389424938422,0.5644802725477779],[0.5616056210802415,0.6122592100730309,0.6629127990658202],[0.5969381284085438,0.6659450090848482,0.7349518897611527],[0.6347054809542877,0.670234177662776,0.7057628743712644],[0.8390258002898117,0.9720408129505812,1.105055825611351],[0.9686331013651677,1.343871117096681,1.719109132828194],[0.3848056526795166,0.5744500517845154,0.7640944508895141],[0.6923207648625661,0.8076705983051887,0.9230204317478113],[0.8988311940207667,1.043572951280154,1.188314708539541],[0.407819256739774,0.653754813854511,0.8996903709692479],[0.5409273351008201,0.6951995904629047,0.8494718458249892],[0.466611115778382,0.5448038151630988,0.6229965145478157],[0.6721135243646477,0.7409445615915152,0.8097755988183828],[0.6248024430775003,0.9684479232017812,1.312093403326062],[0.6705043738007288,0.7423189933483417,0.8141336128959547],[1.088857677274293,1.183267320577915,1.277676963881537],[0.894462871363165,1.041562221141962,1.188661570920759],[0.7327836182687619,0.8870164999595055,1.041249381650249],[0.4366021879070644,1.049312514983691,1.662022842060317],[0.4148657132628724,0.6386828305629584,0.8624999478630444],[0.9954787508076123,1.084088999949969,1.172699249092325],[1.227194525229084,1.432964492761172,1.63873446029326],[0.5731599041269169,0.6388145996974065,0.7044692952678961],[0.5684385944360006,0.6378345390925041,0.7072304837490075],[0.5151544035813209,0.7885753904397671,1.061996377298213],[0.5386161100143595,0.6145614779912508,0.6905068459681422],[0.6350406997275195,0.6933528304100036,0.7516649610924877],[0.6830848565470297,0.7433196416267982,0.8035544267065667],[0.9269113039423704,1.214051329172574,1.501191354402778],[0.5287370639764338,0.639606014581827,0.7504749651872201],[0.450212373740793,0.5253843557376128,0.6005563377344325],[0.7021550398187428,0.8207308613337003,0.9393066828486578],[0.3146844337617898,0.498769276875716,0.6828541199896422],[0.4501508572595138,0.7319202517087643,1.013689646158015],[0.3169724957863196,0.4838192985608027,0.6506661013352859],[0.4559034986265171,0.516435269667552,0.576967040708587],[0.8013017347463862,0.9042459652974056,1.007190195848425],[0.9302280732124085,0.9837642110311068,1.037300348849805],[1.027466930802015,1.137673361026324,1.247879791250633],[0.6544077482978535,0.8070871027616354,0.9597664572254173],[0.3974607595086915,0.7910931470302435,1.184725534551796],[0.8757366178838508,1.186301419826654,1.496866221769458],[0.5557517322248549,0.5851185363072615,0.6144853403896682],[0.5233579258463437,0.6219522776512,0.7205466294560563],[0.4645944433232632,0.5308030703893074,0.5970116974553517],[0.386460393096392,0.4628240534892449,0.5391877138820977],[0.823138954252707,1.423436163021968,2.023733371791229],[0.6781396413891662,0.815219679245582,0.9522997171019979],[1.19637568939609,1.427341582224919,1.658307475053748],[1.463219389182561,1.74642083461468,2.0296222800468],[1.008116040285759,1.75075638798567,2.49339673568558],[1.127194726053267,1.308803836198954,1.49041294634464],[0.9281832654110997,1.097111947719867,1.266040630028635],[0.9661182710801069,1.125180201805555,1.284242132531003],[0.4458793576782106,1.119823000064263,1.793766642450315],[0.005802231248649203,1.897305253377328,3.788808275506006],[0.4023106345684323,0.5196209313777777,0.636931228187123],[0.6818405955415664,0.9351194271674524,1.188398258793339],[0.4645655756915958,0.5685972956622519,0.672629015632908],[0.3040057064155918,0.4035772074873631,0.5031487085591344],[0.7360585565415814,0.8517689457306495,0.9674793349197177],[0.7511367323934163,0.8504641748391665,0.9497916172849167],[0.9371494616098278,1.014883875846863,1.092618290083898],[0.7059647073348285,0.8107342224854689,0.9155037376361093],[0.4924433374532542,0.5288185715675354,0.5651938056818165],[0.3894663059095938,0.4664999535450569,0.5435336011805199],[0.2451996803267169,0.549627116551766,0.8540545527768151],[0.5571418609011733,0.6584951309057382,0.759848400910303],[0.6194078646929436,0.7168855767983656,0.8143632889037876],[0.6982301556433635,1.338142851633685,1.978055547624006],[1.284332687900902,1.867781949960268,2.451231212019634],[0.518325651604556,1.01991636294585,1.521507074287144],[0.6322871569931438,0.7422237685093513,0.8521603800255589],[0.4081237738716113,0.4391548766539647,0.4701859794363181],[0.652908702065482,0.7368600996641013,0.8208114972627205],[0.5806563111027387,0.6268902205503903,0.6731241299980419],[0.6468271626653577,0.7153514389808361,0.7838757152963145],[1.211666164129338,1.507519989747268,1.803373815365197],[0.6157694906706674,1.141001287331948,1.666233083993228],[0.5111203422736579,0.6339936435222626,0.7568669447708674],[0.7067033917163134,0.8854842616961552,1.064265131675997],[0.2391225902009599,0.2876933604478836,0.3362641306948074],[0.2796357453172939,0.5377640543075708,0.7958923632978476],[0.5341596120861229,1.002750244048926,1.471340876011728],[-0.129757771130024,1.651800004794048,3.433357780718119],[0.7166726776258765,0.9281951308250428,1.139717584024209],[0.9206308667430279,1.032254261695422,1.143877656647815],[0.8069824098500428,0.9395288242743566,1.07207523869867],[0.8453694081976142,0.9797691381894624,1.114168868181311],[1.71844309094908,2.043209117192489,2.367975143435897],[0.6777505193617928,0.7358973700266618,0.7940442206915308],[0.3497632324808824,0.3739342224139434,0.3981052123470043],[0.3248539872356311,0.6404068330159554,0.9559596787962796],[0.5095637492885708,0.5741617276118351,0.6387597059350995],[0.3402483100976469,0.3945718756088843,0.4488954411201217],[0.2546213856535903,0.290436397263637,0.3262514088736836],[0.2289109279940029,0.2944949276172198,0.3600789272404367],[0.3012352679809248,0.4447265638754918,0.5882178597700588],[0.4835593610231628,0.5775550434222588,0.6715507258213549],[0.4759709316826821,0.568928914803725,0.6618868979247678],[0.4851220446680883,0.6049487196482145,0.7247753946283407],[0.4207279201208734,0.5155337666089718,0.6103396130970702],[0.4269728432265352,0.4997483870157829,0.5725239308050306],[0.3732411892721454,0.4262525684833526,0.4792639476945598],[0.3500024371991649,0.459931645485071,0.5698608537709772],[0.2215987394050793,0.2819162317181146,0.3422337240311499],[0.2213646120362344,0.2382407274383765,0.2551168428405186],[0.3017914295996545,0.3264875820049873,0.3511837344103201],[0.3026489460331762,0.3269693149970128,0.3512896839608494],[0.7251806076550098,0.8042306166428786,0.8832806256307475],[0.6822231593489446,0.7293361517099234,0.7764491440709022],[0.3550032569623028,0.4146356713313323,0.4742680857003618],[0.3073536373167289,0.4524026950964561,0.5974517528761832],[0.5240115943008821,0.8260016439052729,1.127991693509664],[0.261501038142414,0.3807368986881696,0.4999727592339253],[0.3086290100846618,0.3826118110464169,0.4565946120081721],[0.2639253053036422,0.3762276048843677,0.4885299044650933],[0.3763996195735526,0.5555402125303562,0.7346808054871599],[0.3021854417604251,0.3244534366405927,0.3467214315207604],[0.4196638069027924,0.5767689613195566,0.7338741157363208],[1.059002562763777,1.865377287222789,2.671752011681801],[0.5140223486299964,0.7831206624324505,1.052218976234905],[0.6180445738957017,0.977115590755756,1.33618660761581],[0.8301364718881846,0.9450554898151984,1.059974507742212],[0.5512362176558203,0.6537796792595886,0.7563231408633568],[0.5677754262601895,0.6631295415071341,0.7584836567540787],[0.4421573803018743,0.6359345128903022,0.8297116454787301],[0.2584778278515633,0.4354198787074823,0.6123619295634013],[0.2353194237360663,0.3038504603963632,0.3723814970566601],[0.2857371492831983,0.3307566709243334,0.3757761925654686],[0.1399037025895902,0.2345035855586712,0.3291034685277522],[0.5405937273280147,0.6380410980719786,0.7354884688159425],[0.2709817466730388,0.4645564741813219,0.658131201689605],[1.349456773821361,2.036884115750973,2.724311457680584],[0.7216212523283643,0.8393048052604382,0.956988358192512],[0.5034520278701704,0.64221446284881,0.7809768978274496],[0.6215583943558873,0.6537729231210855,0.6859874518862836],[0.6189631240775341,0.7932325069720928,0.9675018898666515],[0.6401486570637387,0.7527223486166734,0.8652960401696081],[0.5604485035087685,0.7156747840918027,0.870901064674837],[0.4606021132530104,0.4989911494346765,0.5373801856163427],[0.3763590104488505,0.442026756130732,0.5076945018126136],[1.924677768830779,4.717460881517484,7.510243994204188],[1.262771347576104,1.684846450732304,2.106921553888505],[0.6280880175782318,0.8006834319004645,0.9732788462226972],[1.011597839898457,1.546932452000104,2.082267064101752],[0.6188898505053846,0.7791024432732508,0.9393150360411171],[0.7370392542968403,0.8293019019640409,0.9215645496312415],[0.4632173635804603,0.5090406619585477,0.5548639603366351],[0.7542160498148717,1.010809393112476,1.26740273641008],[0.1125633186130465,0.5225894294106044,0.9326155402081623],[0.1470524435311205,0.1983091755555226,0.2495659075799248],[0.1476437486152306,0.2889836110747778,0.4303234735343249],[0.2137391622155818,0.2759724621589367,0.3382057621022916],[0.2281331732556918,0.4831941441847728,0.7382551151138539],[0.7333131705714799,1.323768629936072,1.914224089300663],[1.817340978702451,2.763714149365058,3.710087320027666],[0.3188871893560937,0.880115851530662,1.44134451370523],[0.4500995703473977,0.4986004689565072,0.5471013675656168],[0.5716282996694766,0.656983143549699,0.7423379874299214],[0.7205786755747463,0.7790561841084407,0.8375336926421351],[0.5870594061677411,0.6828298995128045,0.7786003928578679],[0.3880933233461957,0.4676500416718997,0.5472067599976036],[0.5090269638123943,0.7311052659383187,0.9531835680642431],[0.2651398667797961,0.3238075530299774,0.3824752392801587],[0.5264926370436537,0.7207808948480166,0.9150691526523794],[0.5888485916526375,1.295062792301178,2.001276992949718],[0.3879857208920596,0.6347534303481762,0.8815211398042928],[0.9189941190866802,1.479618734809069,2.040243350531457],[2.026523091429845,2.393820190429687,2.76111728942953],[2.978215224288761,4.143686496294462,5.309157768300164],[0.7765947802530023,1.120539050835829,1.464483321418657],[1.370691916860749,1.835435074109298,2.300178231357846],[0.9258992494095212,1.659031413151668,2.392163576893814],[0.2877196444819646,0.5736334825937565,0.8595473207055484],[0.5445150701915655,0.700450650545267,0.8563862308989685],[0.5215274762298392,1.77227488549856,3.023022294767282],[0.5266136844984335,0.886230273862903,1.245846863227372],[0.322945301039243,0.8906509821442352,1.458356663249227],[0.5692042768244707,0.6118427592974442,0.6544812417704178],[0.9837682651217448,1.552951595874933,2.122134926628122],[0.6868766851778193,0.7915003868249747,0.8961240884721301],[0.8210799271645166,0.9274245876532334,1.03376924814195],[0.4978124789616291,0.5385249275427598,0.5792373761238906],[0.4962578318473378,0.5552113436735593,0.6141648554997807],[0.4324735841614922,0.4885052621364593,0.5445369401114264],[0.2153893657235886,0.8869941697670863,1.558598973810584],[0.5536885670632208,0.6321091995789454,0.71052983209467]]]},"evals":[],"jsHooks":[]}</script>
<!-- ### Coral Reef Watch {data-height=300} -->
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
</div>
<div id="projections" class="section level1">
<h1>Projections</h1>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
<div id="physical-chemical" class="section level1">
<h1>Physical-chemical</h1>
<div id="chart-p.1" class="section level3">
<h3>Chart P.1</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
<div id="chart-p.2" class="section level3">
<h3>Chart P.2</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
</div>
<div id="biological" class="section level1">
<h1>Biological</h1>
<div id="chart-b.1" class="section level3">
<h3>Chart B.1</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
<div id="chart-b.2" class="section level3">
<h3>Chart B.2</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
</div>
<div id="human-dimensions" class="section level1">
<h1>Human Dimensions</h1>
<div id="chart-h.1" class="section level3">
<h3>Chart H.1</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
<div id="chart-h.2" class="section level3">
<h3>Chart H.2</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
</div>

</div>

<script>
$(document).ready(function() {
  // add bootstrap table styles to pandoc tables
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed table-sm');

  // initialize mathjax
  var script = document.createElement("script");
  script.type = "text/javascript";
  script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
  document.getElementsByTagName("head")[0].appendChild(script);

});
</script>

<script type="text/javascript">
$(document).ready(function () {
  FlexDashboard.init({
    fillPage: false,
    orientation: "columns",
    storyboard: false,
    defaultFigWidth: 576,
    defaultFigHeight: 460,
    defaultFigWidthMobile: 360,
    defaultFigHeightMobile: 460,
    resize_reload: true
  });
  var navbar = $(".navbar").first();
  var body = $("body").first();
  var sidebar = $(".section.sidebar").first();
  function addNavbarPadding() {
    var navHeight = navbar.outerHeight();
    body.css("padding-top", (navHeight + 8) + "px");
    sidebar.css("top", navHeight + "px");
    var resizeEvent = window.document.createEvent("UIEvents");
    resizeEvent.initUIEvent("resize", true, false, window, 0);
    window.dispatchEvent(resizeEvent);
  }
  if (!window.Shiny) setTimeout(addNavbarPadding, 100);
  $(document).on("shiny:idle", function() {
    setTimeout(addNavbarPadding, 50);
  });
});
</script>

</body>
</html>
